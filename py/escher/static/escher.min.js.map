{"version":3,"sources":["webpack://escher/webpack/universalModuleDefinition","webpack://escher/./icons/css/fontello.css","webpack://escher/./src/Builder.css","webpack://escher/./src/ButtonPanel.css","webpack://escher/./src/DefaultTooltip.css","webpack://escher/./src/Dropdown.css","webpack://escher/./src/Picker.css","webpack://escher/./src/ScaleSlider.css","webpack://escher/./src/SearchBar.css","webpack://escher/./src/SettingsMenu.css","webpack://escher/./node_modules/css-loader/dist/runtime/api.js","webpack://escher/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://escher/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://escher/./node_modules/d3-collection/src/map.js","webpack://escher/./node_modules/d3-collection/src/set.js","webpack://escher/./node_modules/d3-request/node_modules/d3-dispatch/src/dispatch.js","webpack://escher/./node_modules/d3-request/src/request.js","webpack://escher/./node_modules/d3-request/src/type.js","webpack://escher/./node_modules/d3-request/src/html.js","webpack://escher/./node_modules/d3-request/src/json.js","webpack://escher/./node_modules/d3-request/src/text.js","webpack://escher/./node_modules/d3-request/src/xml.js","webpack://escher/./node_modules/d3-request/node_modules/d3-dsv/src/dsv.js","webpack://escher/./node_modules/d3-request/node_modules/d3-dsv/src/csv.js","webpack://escher/./node_modules/d3-request/src/dsv.js","webpack://escher/./node_modules/d3-request/src/csv.js","webpack://escher/./node_modules/d3-request/node_modules/d3-dsv/src/tsv.js","webpack://escher/./node_modules/d3-request/src/tsv.js","webpack://escher/./node_modules/file-saver/dist/FileSaver.min.js","webpack://escher/./node_modules/gif.js/dist/gif.js","webpack://escher/./node_modules/immutability-helper/index.js","webpack://escher/./node_modules/mousetrap/mousetrap.js","webpack://escher/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://escher/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://escher/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://escher/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://escher/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://escher/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://escher/./node_modules/vkbeautify/index.js","webpack://escher/external umd \"@jupyter-widgets/base\"","webpack://escher/webpack/bootstrap","webpack://escher/webpack/runtime/compat get default export","webpack://escher/webpack/runtime/define property getters","webpack://escher/webpack/runtime/global","webpack://escher/webpack/runtime/hasOwnProperty shorthand","webpack://escher/webpack/runtime/make namespace object","webpack://escher/webpack/runtime/publicPath","webpack://escher/webpack/runtime/jsonp chunk loading","webpack://escher/webpack/runtime/nonce","webpack://escher/./src/DataMenu.js","webpack://escher/./node_modules/underscore/modules/after.js","webpack://escher/./node_modules/underscore/modules/chain.js","webpack://escher/./node_modules/underscore/modules/chunk.js","webpack://escher/./node_modules/underscore/modules/clone.js","webpack://escher/./node_modules/underscore/modules/compact.js","webpack://escher/./node_modules/underscore/modules/compose.js","webpack://escher/./node_modules/underscore/modules/create.js","webpack://escher/./node_modules/underscore/modules/debounce.js","webpack://escher/./node_modules/underscore/modules/findWhere.js","webpack://escher/./node_modules/underscore/modules/flatten.js","webpack://escher/./node_modules/underscore/modules/has.js","webpack://escher/./node_modules/underscore/modules/intersection.js","webpack://escher/./node_modules/underscore/modules/isElement.js","webpack://escher/./node_modules/underscore/modules/isEmpty.js","webpack://escher/./node_modules/underscore/modules/isEqual.js","webpack://escher/./node_modules/underscore/modules/isFinite.js","webpack://escher/./node_modules/underscore/modules/isNull.js","webpack://escher/./node_modules/underscore/modules/last.js","webpack://escher/./node_modules/underscore/modules/mapObject.js","webpack://escher/./node_modules/underscore/modules/memoize.js","webpack://escher/./node_modules/underscore/modules/min.js","webpack://escher/./node_modules/underscore/modules/object.js","webpack://escher/./node_modules/underscore/modules/pairs.js","webpack://escher/./node_modules/underscore/modules/propertyOf.js","webpack://escher/./node_modules/underscore/modules/range.js","webpack://escher/./node_modules/underscore/modules/reject.js","webpack://escher/./node_modules/underscore/modules/result.js","webpack://escher/./node_modules/underscore/modules/shuffle.js","webpack://escher/./node_modules/underscore/modules/size.js","webpack://escher/./node_modules/underscore/modules/sortBy.js","webpack://escher/./node_modules/underscore/modules/tap.js","webpack://escher/./node_modules/underscore/modules/template.js","webpack://escher/./node_modules/underscore/modules/throttle.js","webpack://escher/./node_modules/underscore/modules/times.js","webpack://escher/./node_modules/underscore/modules/uniqueId.js","webpack://escher/./node_modules/underscore/modules/where.js","webpack://escher/./node_modules/underscore/modules/wrap.js","webpack://escher/./node_modules/preact/dist/preact.module.js","webpack://escher/./node_modules/baconjs/dist/Bacon.mjs","webpack://escher/./node_modules/underscore/modules/_setup.js","webpack://escher/./node_modules/underscore/modules/restArguments.js","webpack://escher/./node_modules/underscore/modules/isObject.js","webpack://escher/./node_modules/underscore/modules/isUndefined.js","webpack://escher/./node_modules/underscore/modules/isBoolean.js","webpack://escher/./node_modules/underscore/modules/_tagTester.js","webpack://escher/./node_modules/underscore/modules/isString.js","webpack://escher/./node_modules/underscore/modules/isNumber.js","webpack://escher/./node_modules/underscore/modules/isDate.js","webpack://escher/./node_modules/underscore/modules/isRegExp.js","webpack://escher/./node_modules/underscore/modules/isError.js","webpack://escher/./node_modules/underscore/modules/isSymbol.js","webpack://escher/./node_modules/underscore/modules/isArrayBuffer.js","webpack://escher/./node_modules/underscore/modules/isFunction.js","webpack://escher/./node_modules/underscore/modules/_hasObjectTag.js","webpack://escher/./node_modules/underscore/modules/_stringTagBug.js","webpack://escher/./node_modules/underscore/modules/isDataView.js","webpack://escher/./node_modules/underscore/modules/isArray.js","webpack://escher/./node_modules/underscore/modules/_has.js","webpack://escher/./node_modules/underscore/modules/isArguments.js","webpack://escher/./node_modules/underscore/modules/isNaN.js","webpack://escher/./node_modules/underscore/modules/constant.js","webpack://escher/./node_modules/underscore/modules/_createSizePropertyCheck.js","webpack://escher/./node_modules/underscore/modules/_shallowProperty.js","webpack://escher/./node_modules/underscore/modules/_getByteLength.js","webpack://escher/./node_modules/underscore/modules/_isBufferLike.js","webpack://escher/./node_modules/underscore/modules/isTypedArray.js","webpack://escher/./node_modules/underscore/modules/_getLength.js","webpack://escher/./node_modules/underscore/modules/_collectNonEnumProps.js","webpack://escher/./node_modules/underscore/modules/keys.js","webpack://escher/./node_modules/underscore/modules/isMatch.js","webpack://escher/./node_modules/underscore/modules/underscore.js","webpack://escher/./node_modules/underscore/modules/_toBufferView.js","webpack://escher/./node_modules/underscore/modules/allKeys.js","webpack://escher/./node_modules/underscore/modules/_methodFingerprint.js","webpack://escher/./node_modules/underscore/modules/isMap.js","webpack://escher/./node_modules/underscore/modules/isWeakMap.js","webpack://escher/./node_modules/underscore/modules/isSet.js","webpack://escher/./node_modules/underscore/modules/isWeakSet.js","webpack://escher/./node_modules/underscore/modules/values.js","webpack://escher/./node_modules/underscore/modules/invert.js","webpack://escher/./node_modules/underscore/modules/functions.js","webpack://escher/./node_modules/underscore/modules/_createAssigner.js","webpack://escher/./node_modules/underscore/modules/extend.js","webpack://escher/./node_modules/underscore/modules/extendOwn.js","webpack://escher/./node_modules/underscore/modules/defaults.js","webpack://escher/./node_modules/underscore/modules/_baseCreate.js","webpack://escher/./node_modules/underscore/modules/toPath.js","webpack://escher/./node_modules/underscore/modules/_toPath.js","webpack://escher/./node_modules/underscore/modules/_deepGet.js","webpack://escher/./node_modules/underscore/modules/get.js","webpack://escher/./node_modules/underscore/modules/identity.js","webpack://escher/./node_modules/underscore/modules/matcher.js","webpack://escher/./node_modules/underscore/modules/property.js","webpack://escher/./node_modules/underscore/modules/_optimizeCb.js","webpack://escher/./node_modules/underscore/modules/_baseIteratee.js","webpack://escher/./node_modules/underscore/modules/iteratee.js","webpack://escher/./node_modules/underscore/modules/_cb.js","webpack://escher/./node_modules/underscore/modules/noop.js","webpack://escher/./node_modules/underscore/modules/random.js","webpack://escher/./node_modules/underscore/modules/now.js","webpack://escher/./node_modules/underscore/modules/_createEscaper.js","webpack://escher/./node_modules/underscore/modules/escape.js","webpack://escher/./node_modules/underscore/modules/_escapeMap.js","webpack://escher/./node_modules/underscore/modules/unescape.js","webpack://escher/./node_modules/underscore/modules/_unescapeMap.js","webpack://escher/./node_modules/underscore/modules/templateSettings.js","webpack://escher/./node_modules/underscore/modules/_executeBound.js","webpack://escher/./node_modules/underscore/modules/partial.js","webpack://escher/./node_modules/underscore/modules/bind.js","webpack://escher/./node_modules/underscore/modules/_isArrayLike.js","webpack://escher/./node_modules/underscore/modules/_flatten.js","webpack://escher/./node_modules/underscore/modules/bindAll.js","webpack://escher/./node_modules/underscore/modules/delay.js","webpack://escher/./node_modules/underscore/modules/defer.js","webpack://escher/./node_modules/underscore/modules/negate.js","webpack://escher/./node_modules/underscore/modules/before.js","webpack://escher/./node_modules/underscore/modules/once.js","webpack://escher/./node_modules/underscore/modules/findKey.js","webpack://escher/./node_modules/underscore/modules/_createPredicateIndexFinder.js","webpack://escher/./node_modules/underscore/modules/findIndex.js","webpack://escher/./node_modules/underscore/modules/findLastIndex.js","webpack://escher/./node_modules/underscore/modules/sortedIndex.js","webpack://escher/./node_modules/underscore/modules/_createIndexFinder.js","webpack://escher/./node_modules/underscore/modules/indexOf.js","webpack://escher/./node_modules/underscore/modules/lastIndexOf.js","webpack://escher/./node_modules/underscore/modules/find.js","webpack://escher/./node_modules/underscore/modules/each.js","webpack://escher/./node_modules/underscore/modules/map.js","webpack://escher/./node_modules/underscore/modules/_createReduce.js","webpack://escher/./node_modules/underscore/modules/reduce.js","webpack://escher/./node_modules/underscore/modules/reduceRight.js","webpack://escher/./node_modules/underscore/modules/filter.js","webpack://escher/./node_modules/underscore/modules/every.js","webpack://escher/./node_modules/underscore/modules/some.js","webpack://escher/./node_modules/underscore/modules/contains.js","webpack://escher/./node_modules/underscore/modules/invoke.js","webpack://escher/./node_modules/underscore/modules/pluck.js","webpack://escher/./node_modules/underscore/modules/max.js","webpack://escher/./node_modules/underscore/modules/toArray.js","webpack://escher/./node_modules/underscore/modules/sample.js","webpack://escher/./node_modules/underscore/modules/_group.js","webpack://escher/./node_modules/underscore/modules/groupBy.js","webpack://escher/./node_modules/underscore/modules/indexBy.js","webpack://escher/./node_modules/underscore/modules/countBy.js","webpack://escher/./node_modules/underscore/modules/partition.js","webpack://escher/./node_modules/underscore/modules/_keyInObj.js","webpack://escher/./node_modules/underscore/modules/pick.js","webpack://escher/./node_modules/underscore/modules/omit.js","webpack://escher/./node_modules/underscore/modules/initial.js","webpack://escher/./node_modules/underscore/modules/first.js","webpack://escher/./node_modules/underscore/modules/rest.js","webpack://escher/./node_modules/underscore/modules/difference.js","webpack://escher/./node_modules/underscore/modules/without.js","webpack://escher/./node_modules/underscore/modules/uniq.js","webpack://escher/./node_modules/underscore/modules/union.js","webpack://escher/./node_modules/underscore/modules/unzip.js","webpack://escher/./node_modules/underscore/modules/zip.js","webpack://escher/./node_modules/underscore/modules/_chainResult.js","webpack://escher/./node_modules/underscore/modules/mixin.js","webpack://escher/./node_modules/underscore/modules/underscore-array-methods.js","webpack://escher/./node_modules/underscore/modules/index-default.js","webpack://escher/./node_modules/d3-selection/src/selector.js","webpack://escher/./node_modules/d3-selection/src/selectorAll.js","webpack://escher/./node_modules/d3-selection/src/selection/selectAll.js","webpack://escher/./node_modules/d3-selection/src/array.js","webpack://escher/./node_modules/d3-selection/src/matcher.js","webpack://escher/./node_modules/d3-selection/src/selection/selectChild.js","webpack://escher/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://escher/./node_modules/d3-selection/src/selection/sparse.js","webpack://escher/./node_modules/d3-selection/src/selection/enter.js","webpack://escher/./node_modules/d3-selection/src/selection/data.js","webpack://escher/./node_modules/d3-selection/src/selection/sort.js","webpack://escher/./node_modules/d3-selection/src/namespaces.js","webpack://escher/./node_modules/d3-selection/src/namespace.js","webpack://escher/./node_modules/d3-selection/src/window.js","webpack://escher/./node_modules/d3-selection/src/selection/style.js","webpack://escher/./node_modules/d3-selection/src/selection/classed.js","webpack://escher/./node_modules/d3-selection/src/selection/text.js","webpack://escher/./node_modules/d3-selection/src/selection/html.js","webpack://escher/./node_modules/d3-selection/src/selection/raise.js","webpack://escher/./node_modules/d3-selection/src/selection/lower.js","webpack://escher/./node_modules/d3-selection/src/creator.js","webpack://escher/./node_modules/d3-selection/src/selection/insert.js","webpack://escher/./node_modules/d3-selection/src/selection/remove.js","webpack://escher/./node_modules/d3-selection/src/selection/clone.js","webpack://escher/./node_modules/d3-selection/src/selection/on.js","webpack://escher/./node_modules/d3-selection/src/selection/dispatch.js","webpack://escher/./node_modules/d3-selection/src/selection/index.js","webpack://escher/./node_modules/d3-selection/src/selection/select.js","webpack://escher/./node_modules/d3-selection/src/selection/filter.js","webpack://escher/./node_modules/d3-selection/src/constant.js","webpack://escher/./node_modules/d3-selection/src/selection/exit.js","webpack://escher/./node_modules/d3-selection/src/selection/join.js","webpack://escher/./node_modules/d3-selection/src/selection/merge.js","webpack://escher/./node_modules/d3-selection/src/selection/order.js","webpack://escher/./node_modules/d3-selection/src/selection/call.js","webpack://escher/./node_modules/d3-selection/src/selection/nodes.js","webpack://escher/./node_modules/d3-selection/src/selection/node.js","webpack://escher/./node_modules/d3-selection/src/selection/size.js","webpack://escher/./node_modules/d3-selection/src/selection/empty.js","webpack://escher/./node_modules/d3-selection/src/selection/each.js","webpack://escher/./node_modules/d3-selection/src/selection/attr.js","webpack://escher/./node_modules/d3-selection/src/selection/property.js","webpack://escher/./node_modules/d3-selection/src/selection/append.js","webpack://escher/./node_modules/d3-selection/src/selection/datum.js","webpack://escher/./node_modules/d3-selection/src/selection/iterator.js","webpack://escher/./node_modules/d3-selection/src/select.js","webpack://escher/./node_modules/d3-dsv/src/dsv.js","webpack://escher/./node_modules/d3-dsv/src/csv.js","webpack://escher/./node_modules/gsap/gsap-core.js","webpack://escher/./node_modules/gsap/CSSPlugin.js","webpack://escher/./node_modules/gsap/index.js","webpack://escher/./node_modules/d3-array/src/ticks.js","webpack://escher/./node_modules/d3-array/src/ascending.js","webpack://escher/./node_modules/d3-array/src/bisector.js","webpack://escher/./node_modules/d3-array/src/descending.js","webpack://escher/./node_modules/d3-array/src/bisect.js","webpack://escher/./node_modules/d3-array/src/number.js","webpack://escher/./node_modules/d3-color/src/define.js","webpack://escher/./node_modules/d3-color/src/color.js","webpack://escher/./node_modules/d3-interpolate/src/basis.js","webpack://escher/./node_modules/d3-interpolate/src/constant.js","webpack://escher/./node_modules/d3-interpolate/src/color.js","webpack://escher/./node_modules/d3-interpolate/src/rgb.js","webpack://escher/./node_modules/d3-interpolate/src/array.js","webpack://escher/./node_modules/d3-interpolate/src/date.js","webpack://escher/./node_modules/d3-interpolate/src/number.js","webpack://escher/./node_modules/d3-interpolate/src/object.js","webpack://escher/./node_modules/d3-interpolate/src/basisClosed.js","webpack://escher/./node_modules/d3-interpolate/src/string.js","webpack://escher/./node_modules/d3-interpolate/src/numberArray.js","webpack://escher/./node_modules/d3-interpolate/src/value.js","webpack://escher/./node_modules/d3-interpolate/src/round.js","webpack://escher/./node_modules/d3-scale/src/number.js","webpack://escher/./node_modules/d3-scale/src/continuous.js","webpack://escher/./node_modules/d3-scale/src/constant.js","webpack://escher/./node_modules/d3-format/src/formatSpecifier.js","webpack://escher/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://escher/./node_modules/d3-format/src/formatDecimal.js","webpack://escher/./node_modules/d3-format/src/exponent.js","webpack://escher/./node_modules/d3-format/src/formatRounded.js","webpack://escher/./node_modules/d3-format/src/formatTypes.js","webpack://escher/./node_modules/d3-format/src/identity.js","webpack://escher/./node_modules/d3-format/src/locale.js","webpack://escher/./node_modules/d3-format/src/formatNumerals.js","webpack://escher/./node_modules/d3-format/src/formatGroup.js","webpack://escher/./node_modules/d3-format/src/formatTrim.js","webpack://escher/./node_modules/d3-scale/src/tickFormat.js","webpack://escher/./node_modules/d3-format/src/precisionRound.js","webpack://escher/./node_modules/d3-format/src/precisionPrefix.js","webpack://escher/./node_modules/d3-format/src/precisionFixed.js","webpack://escher/./node_modules/d3-scale/src/linear.js","webpack://escher/./node_modules/d3-scale/src/init.js","webpack://escher/./node_modules/d3-axis/src/identity.js","webpack://escher/./node_modules/d3-axis/src/axis.js","webpack://escher/./node_modules/d3-format/src/defaultLocale.js","webpack://escher/./src/utils.js","webpack://escher/./src/PlacedDiv.js","webpack://escher/./src/completely.js","webpack://escher/./node_modules/d3-dispatch/src/dispatch.js","webpack://escher/./node_modules/d3-selection/src/pointer.js","webpack://escher/./node_modules/d3-selection/src/sourceEvent.js","webpack://escher/./node_modules/d3-drag/src/noevent.js","webpack://escher/./node_modules/d3-drag/src/nodrag.js","webpack://escher/./node_modules/d3-drag/src/constant.js","webpack://escher/./node_modules/d3-drag/src/event.js","webpack://escher/./node_modules/d3-drag/src/drag.js","webpack://escher/./src/dataStyles.js","webpack://escher/./src/DirectionArrow.js","webpack://escher/./src/CobraModel.js","webpack://escher/./src/BuildInput.js","webpack://escher/./src/CallbackManager.js","webpack://escher/./node_modules/d3-interpolate/src/zoom.js","webpack://escher/./node_modules/d3-timer/src/timer.js","webpack://escher/./node_modules/d3-timer/src/timeout.js","webpack://escher/./node_modules/d3-transition/src/transition/schedule.js","webpack://escher/./node_modules/d3-transition/src/interrupt.js","webpack://escher/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://escher/./node_modules/d3-interpolate/src/transform/parse.js","webpack://escher/./node_modules/d3-interpolate/src/transform/index.js","webpack://escher/./node_modules/d3-transition/src/transition/tween.js","webpack://escher/./node_modules/d3-transition/src/transition/interpolate.js","webpack://escher/./node_modules/d3-transition/src/transition/attrTween.js","webpack://escher/./node_modules/d3-transition/src/transition/selection.js","webpack://escher/./node_modules/d3-transition/src/transition/style.js","webpack://escher/./node_modules/d3-transition/src/transition/styleTween.js","webpack://escher/./node_modules/d3-transition/src/transition/textTween.js","webpack://escher/./node_modules/d3-transition/src/transition/index.js","webpack://escher/./node_modules/d3-transition/src/transition/select.js","webpack://escher/./node_modules/d3-transition/src/transition/selectAll.js","webpack://escher/./node_modules/d3-transition/src/transition/filter.js","webpack://escher/./node_modules/d3-transition/src/transition/merge.js","webpack://escher/./node_modules/d3-transition/src/transition/transition.js","webpack://escher/./node_modules/d3-transition/src/transition/on.js","webpack://escher/./node_modules/d3-transition/src/transition/attr.js","webpack://escher/./node_modules/d3-transition/src/transition/text.js","webpack://escher/./node_modules/d3-transition/src/transition/remove.js","webpack://escher/./node_modules/d3-transition/src/transition/delay.js","webpack://escher/./node_modules/d3-transition/src/transition/duration.js","webpack://escher/./node_modules/d3-transition/src/transition/ease.js","webpack://escher/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://escher/./node_modules/d3-transition/src/transition/end.js","webpack://escher/./node_modules/d3-transition/src/selection/transition.js","webpack://escher/./node_modules/d3-ease/src/cubic.js","webpack://escher/./node_modules/d3-transition/src/selection/index.js","webpack://escher/./node_modules/d3-transition/src/selection/interrupt.js","webpack://escher/./node_modules/d3-zoom/src/constant.js","webpack://escher/./node_modules/d3-zoom/src/event.js","webpack://escher/./node_modules/d3-zoom/src/transform.js","webpack://escher/./node_modules/d3-zoom/src/noevent.js","webpack://escher/./node_modules/d3-zoom/src/zoom.js","webpack://escher/./src/ZoomContainer.js","webpack://escher/./src/Draw.js","webpack://escher/./src/build.js","webpack://escher/./src/Behavior.js","webpack://escher/./src/scalePresets.js","webpack://escher/./src/Scale.js","webpack://escher/./src/UndoStack.js","webpack://escher/./src/KeyManager.js","webpack://escher/./src/Canvas.js","webpack://escher/./src/SearchIndex.js","webpack://escher/./src/Map.js","webpack://escher/./node_modules/d3-brush/src/constant.js","webpack://escher/./node_modules/d3-brush/src/event.js","webpack://escher/./node_modules/d3-brush/src/noevent.js","webpack://escher/./node_modules/d3-brush/src/brush.js","webpack://escher/./src/Brush.js","webpack://escher/./src/Settings.js","webpack://escher/./src/TextEditInput.js","webpack://escher/./src/renderWrapper.jsx","webpack://escher/./src/ScaleSelector.jsx","webpack://escher/./src/Picker.css?9ff9","webpack://escher/./src/Picker.jsx","webpack://escher/./src/ScaleSlider.css?a2ad","webpack://escher/./src/ScaleSlider.jsx","webpack://escher/./src/ScaleSelection.jsx","webpack://escher/./src/SettingsMenu.css?1bda","webpack://escher/./src/SettingsMenu.jsx","webpack://escher/./src/Dropdown.css?b031","webpack://escher/./src/Dropdown.jsx","webpack://escher/./src/MenuButton.jsx","webpack://escher/./src/MenuBar.jsx","webpack://escher/./src/SearchBar.css?59fa","webpack://escher/./src/SearchBar.jsx","webpack://escher/./src/ButtonPanel.css?bcc2","webpack://escher/./src/ButtonPanel.jsx","webpack://escher/./src/TooltipContainer.jsx","webpack://escher/./src/DefaultTooltip.css?11cf","webpack://escher/./src/DefaultTooltip.jsx","webpack://escher/./icons/css/fontello.css?217a","webpack://escher/./src/Builder.css?b964","webpack://escher/./src/Builder.jsx","webpack://escher/./src/Builder-embed.css","webpack://escher/./src/widget.js","webpack://escher/./src/main.js"],"names":["root","factory","exports","module","require","e","define","amd","self","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","hash","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","push","id","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","prefix","Map","object","f","each","value","key","set","Array","isArray","o","n","prototype","constructor","has","get","remove","property","clear","keys","values","entries","size","empty","Set","proto","add","noop","dispatch","t","arguments","_","Error","Dispatch","type","name","callback","on","typename","types","T","trim","split","indexOf","hasOwnProperty","c","copy","call","that","args","apply","request","mimeType","response","responseType","event","headers","xhr","XMLHttpRequest","user","password","timeout","respond","result","status","responseText","XDomainRequest","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","toLowerCase","send","post","method","open","setRequestHeader","overrideMimeType","error","abort","defaultMimeType","r","document","createRange","createContextualFragment","parse","xml","responseXML","EOL","EOF","objectConverter","columns","Function","inferColumns","rows","columnSet","Object","create","forEach","row","column","pad","width","s","formatDate","date","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","isNaN","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","text","N","I","eof","eol","token","j","preformatBody","formatValue","formatRow","Date","convert","format","formatBody","formatRows","csv","dsv","csvParse","tsv","tsvParse","b","a","autoBom","console","warn","Blob","d","g","dispatchEvent","MouseEvent","createEvent","initMouseEvent","window","global","navigator","userAgent","saveAs","HTMLAnchorElement","h","webkitURL","createElement","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","FileReader","onloadend","readAsDataURL","l","m","u","code","1","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","TypeError","emit","handler","len","listeners","err","er","context","addListener","listener","newListener","warned","trace","once","fired","removeListener","position","splice","removeAllListeners","ret","listenerCount","evlistener","emitter","2","ua","platform","UA","match","mode","documentMode","browser","version","parseFloat","parseInt","3","hasProp","GIF","defaults","frameDefaults","child","parent","ctor","base","running","frames","freeWorkers","activeWorkers","setOptions","__super__","delay","workerScript","workers","repeat","background","quality","height","transparent","debug","dither","setOption","_canvas","results","addFrame","image","frame","ImageData","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","worker","shift","log","terminate","_this","Math","min","Worker","onmessage","frameFinished","index","finishRendering","len2","len3","offset","page","ref1","ref2","len1","pageSize","cursor","round","Uint8Array","task","getTask","postMessage","ctx","getContext","setFill","fillRect","drawImage","last","canTransfer","events","stringifiable","obj","defineProperty","isProduction","process","invariant","condition","message","assign","source","getAllKeys","getOwnPropertySymbols","getPrototypeOf","Context","update","isEquals","enumerable","configurable","extend","directive","fn","commands","$spec","spec","$apply","nextObject","nextValueForKey","nextObjectValue","objectWasNextObject","defaultCommands","bind","x","y","newContext","$push","invariantPushAndUnshift","$unshift","$splice","originalObject","invariantSplice","$set","_nextObject","$toggle","targets","invariantSpecArray","nextObjectCopy","$unset","_spec","$add","invariantMapOrSet","_a","$remove","delete","$merge","specValue","original","defaultContext","command","typeOfTarget","_REVERSE_MAP","_MAP","8","9","13","16","17","18","20","27","32","33","34","35","36","37","38","39","40","45","46","91","93","224","_KEYCODE_MAP","106","107","109","110","111","186","187","188","189","190","191","192","219","220","221","222","_SHIFT_MAP","_SPECIAL_ALIASES","Mousetrap","action","_bindMultiple","unbind","trigger","_directMap","reset","_callbacks","stopCallback","element","initialEventTarget","className","_belongsTo","ancestor","parentNode","composedPath","tagName","isContentEditable","handleKey","_handleKey","addKeycodes","init","documentMousetrap","charAt","_addEvent","addEventListener","attachEvent","_characterFromEvent","character","fromCharCode","which","shiftKey","_isModifier","_pickBestAction","modifiers","_getKeyInfo","combination","targetElement","_resetTimer","_sequenceLevels","_ignoreNextKeyup","_ignoreNextKeypress","_nextExpectedAction","_resetSequences","doNotReset","activeSequences","_getMatches","sequenceName","level","matches","deleteCombo","deleteSequence","seq","metaKey","ctrlKey","modifiers1","modifiers2","sort","combo","_fireCallback","sequence","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","_handleKeyEvent","keyCode","altKey","_bindSequence","_increaseSequence","nextAction","clearTimeout","_callbackAndReset","wrappedCallback","_bindSingle","info","callbacks","maxLevel","processedSequenceCallback","max","ignoreThisKeypress","combinations","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","count","indexByIdentifier","css","sourceMap","references","updater","api","domAPI","newObj","byIndex","lastIdentifiers","newList","newLastIdentifiers","_i","_index","memo","insert","style","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","appendChild","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","removeChild","styleSheet","cssText","firstChild","createTextNode","createShiftArr","step","space","ix","vkbeautify","ar","inComment","deep","str","search","exec","json","sql","tab","ar_by_quote","parenthesisLevel","xmlmin","preserveComments","jsonmin","cssmin","sqlmin","__WEBPACK_EXTERNAL_MODULE__51__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","globalThis","prop","Symbol","toStringTag","importScripts","scriptUrl","currentScript","toUpperCase","src","scripts","getElementsByTagName","p","baseURI","nc","utils","set_options","selection","getdatafiles","datafiles","update_callback","menu","select","append","attr","select_sel","d3_json","load_with_files","files","node","load_datafile","file","this_file","load_the_file","selectAll","enter","focus","times","func","instance","_chain","array","filter","Boolean","start","props","baseCreate","extendOwn","wait","immediate","later","passed","now","previous","debounced","restArguments","_args","cancel","attrs","find","matcher","depth","path","argsLength","contains","nodeType","isString","eq","isSymbol","_isFinite","guard","rest","iteratee","cb","_keys","currentKey","hasher","memoize","cache","address","computed","Infinity","lastComputed","v","pairs","stop","ceil","range","idx","predicate","negate","fallback","sample","pluck","criteria","left","right","interceptor","settings","oldSettings","templateSettings","escape","noMatch","interpolate","evaluate","argument","escapeRegExp","escapeChar","variable","bareIdentifier","template","leading","throttled","_now","remaining","trailing","accum","optimizeCb","idCounter","wrapper","defaultProps","children","__c","__","Consumer","Provider","getChildContext","componentWillUnmount","shouldComponentUpdate","__e","S","sub","contextType","current","H","some","streams_","streams","argumentsToObservables","fold","tail","toEventStream","never","withDesc","Desc","stream","xs","EventStream","sink","unsubd","reply","more","pushing","pushNeeded","UpdateBarrier","soonButNotYet","endEvent","noMore","toEvent","afterTransaction","fromBinder","makeFunction","nop","_observable","observable","symbol","desc","subscribe","Error$1","End","next","Next","complete","unsubscribe","promise","eventTransformer","bound","then","done","GlobalScheduler","scheduler","groupSimultaneous_","isNext","combineAsArray","onValues","fromPoll","retries","retriesDone","isRetryable","finished","errorEvent","valueStream","endOnError","transform","hasValue","pause","silence","flatMap","newScheduler","initial","patterns","let","rawPatterns","extractRawPatterns","pattern","when","scan","VERSION","ArrayProto","ObjProto","SymbolProto","supportsArrayBuffer","ArrayBuffer","supportsDataView","DataView","nativeIsArray","nativeKeys","nativeCreate","nativeIsView","isView","_isNaN","isFinite","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","MAX_ARRAY_INDEX","pow","startIndex","isBoolean","tagTester","tag","nodelist","Int8Array","hasDataViewBug","isIE11","isDataView","getInt8","isArrayBuffer","buffer","isArguments","isNumber","createSizePropertyCheck","getSizeProperty","collection","sizeProperty","shallowProperty","typedArrayPattern","collectNonEnumProps","nonEnumIdx","isMatch","_wrapped","toBufferView","bufferSource","byteOffset","valueOf","toJSON","tagDataView","aStack","bStack","deepEq","areArrays","byteLength","aCtor","bCtor","pop","allKeys","ie11fingerprint","methods","weakMapMethods","forEachName","mapMethods","commonInit","mapTail","setMethods","invert","functions","names","createAssigner","keysFunc","Ctor","toPath","deepGet","defaultValue","identity","argCount","accumulator","baseIteratee","random","floor","getTime","createEscaper","escaper","testRegexp","replaceRegexp","string","escapes","executeBound","sourceFunc","boundFunc","callingContext","partial","boundArgs","placeholder","callArgs","flatten","input","strict","output","before","findKey","createPredicateIndexFinder","dir","sortedIndex","low","high","mid","createIndexFinder","predicateFind","findIndex","findLastIndex","createReduce","every","fromIndex","contextPath","reStrSymbol","toArray","rand","temp","group","behavior","partition","pass","keyInObj","pick","first","otherArrays","difference","uniq","isSorted","seen","arrays","unzip","chainResult","chain","mixin","w","__k","__b","__d","__v","__i","__u","vnode","M","__r","debounceRendering","__P","O","__n","namespaceURI","C","P","V","unmount","insertBefore","nextSibling","setProperty","A","removeEventListener","removeAttribute","F","$","L","__E","q","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","componentDidUpdate","getSnapshotBeforeUpdate","localName","createElementNS","is","__m","__html","innerHTML","diffed","B","D","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","resolve","isObservable","_isObservable","any","filtered","flip","seed","toFunction","indexWhere","always","all","without","ys","me","recursionDepth","assert","assertFunction","setInterval","clearInterval","rootEvent","waiterObs","waiters","aftersStack","aftersStackHeight","flushed","processingAfters","ensureStackHeight","obs","stackIndexForThisObs","containsObs","aftersList","processAfters","stackSizeAtStart","isRoot","topOfStack","topAfters","after","callSuccess","whenDoneWith","obsWaiters","flushWaiters","deps","obsId","flushDepsOf","internalDeps","dep","hasWaiters","inTransaction","currentEventId","wrappedSubscribe","shouldUnsub","doUnsub","unsub","isInTransaction","_isDesc","cachedDeps","findDeps","describe","_isSource","nullSink","nullVoidSink","withStateMachine","initState","newState","outputs","Some","_isSome","isDefined","getOrElse","None","inspect","_isNone","eventIdCounter","Event","isEvent","_isEvent","isEnd","isInitial","isError","toNext","Value","super","fmap","_isNext","Initial","_isInitial","NoValue","initialEvent","nextEvent","skipDuplicates","isEqual","prev","take","takeT","resultProperty","acc","initHandled","Property","initSent","sendInit","subscribeInternal","CompositeUnsubscribe","ss","unsubscribed","subscriptions","starting","subscription","ended","iterable","streamSubscribeToPropertySubscribe","initValue","streamSubscribe","subbed","propertyFromStreamSubscribe","flatMap_","spawner","params","rootDep","childDeps","isProperty","_isProperty","newEventStreamAllowSync","initialSpawned","composite","queue","spawn","makeObservable","unsubAll","unsubMe","checkEnd","unsubRoot","mapError","firstOnly","limit","handleEventValueWith","flatMapEvent","Source","sync","markEnded","mayHave","DefaultSource","consume","hasAtLeast","ConsumingSource","BufferingSource","fromObservable","when_","newEventStream","whenP","sources","ixPats","needsBarrier","observables","resultStream","pats","patSources","pat","ixs","triggerFound","_isEventStream","checkObservable","triggers","ends","cannotMatch","nonFlattened","flushLater","flush","flushWhileTriggers","applied","cannotSync","valueEvent","extractLegacyPatterns","sourceArgs","withLatestFromE","sampler","samplee","toProperty","withLatestFromP","withLatestFrom","map$1","mapT","theF","singleToObservables","argumentsToObservablesAndFunction","combineWith","combine","combineTwo","flatMapConcat","binder","unbound","unbinder","shouldUnbind","value_","valueArray","poll","interval","sampledBy","sampledByP","combinator","transformP","transformer","composeT","t1","t2","finalSink","sink2","withPredicate","predicateTransformer","tuple","filterT","not","flatMapFirst","fold$1","endMarker","flatMap$1","flatMapError","spies","registerObs","spy","flatMapLatest","f_","allowSync","flatMapped","takeUntil","Dispatcher","_subscribe","_handleEvent","prevError","unsubSrc","handleEvent","hasSubscribers","removeSub","pushIt","pushToSubscriptions","tmp","unsubscribeFromSource","PropertyDispatcher","propertyEnded","currentValueRootId","maybeSubSource","dispatchingId","valId","flatMapWithConcurrencyLimit","bufferWithTimeOrCount","delayFunc","delayMs","flushOrSchedule","schedule","onInput","onFlush","Buffer","end","scheduled","valuesToPush","mergeAll","flattenedStreams","sinks","unsubBoth","takeWhileT","skipWhileT","started","keyF","limitF","firstValue","similarValues","changes","limited","nullMarker","holdWhen","valve","onHold","bufferedValues","srcIsEnded","endIfBothEnded","subscribed","toSend","zipWith","combineTemplate","setValue","ctxStack","mkContext","containsObservables","compile","funcs","compileTemplate","rootContext","Observable","initialDesc","awaiting","other","bufferingThrottle","minimumInterval","transformChanges","errors","debounce","debounceImmediate","decode","cases","diff","prevTuple","doAction","doEnd","doError","doLog","endAsValue","firstToPromise","PromiseCtr","generator","reject","onValue","lastEvent","mapEnd","_name","onEnd","onError","reduce","skip","skipErrors","skipUntil","starter","startWith","skipWhile","slidingWindow","maxValues","minValues","stopper","withEndMarker","takeWhile","throttle","bufferWithTime","toPromise","withDescription","zip","dispatcher","and","transformPropertyChanges","comboSink","transformedChanges","groupBy","or","samplingInterval","forceAsync","subscribing","asyncDeliveries","deliverAsync","toDeliverNow","Number","MAX_VALUE","bufferWithCount","unsubRight","unsubLeft","flatScan","updated","merge","assertEventStream","usedInitValue","disp","description","for","ESObservable","observerOrOnNext","onComplete","observer","closed","toESObservable","wrapped","eventMethods","findHandlerMethods","pair","methodPair","fromEvent","eventSource","flag","subscribeNext","duration","makeFunction_","methodName","Bus","subscribeAll","pushQueue","plug","assertObservable","subscribeInput","unsubscribeInput","rootPush","newSink","guardedSink","asEventStream","eventName","selector","off","jQuery","querySelectorAll","arrayAll","from","childMatcher","childFirst","firstElementChild","EnterNode","datum","ownerDocument","_next","_parent","__data__","bindIndex","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","NaN","xhtml","svg","xlink","xmlns","namespaces","local","defaultView","styleValue","getPropertyValue","getComputedStyle","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","classedRemove","textRemove","textContent","htmlRemove","raise","lower","previousSibling","fullname","namespace","uri","documentElement","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","onAdd","CustomEvent","initEvent","bubbles","cancelable","detail","Selection","groups","parents","_groups","_parents","subgroups","subnode","subgroup","selectorAll","selectChild","selectChildren","enterGroup","updateGroup","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","order","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","removeAttributeNS","setAttributeNS","priority","removeProperty","classed","html","creator","typenames","iterator","yield","csvParseRows","_assertThisInitialized","ReferenceError","_inheritsLoose","subClass","superClass","__proto__","_isNotFalse","_windowExists","_isFuncOrString","_isFunction","_isString","_install","scope","_installScope","_merge","_globals","gsap","_addGlobal","_emptyFunc","_forEachName","_lazySafeRender","animation","time","suppressEvents","force","_lazyTweens","_reverting","_lazyRender","_initted","_startAt","_passThrough","_setDefaults","toMerge","_mergeDeep","_isObject","_copyExcluding","excluding","_inheritDefaults","vars","excludeDuration","_globalTimeline","keyframes","_isArray","inherit","_dp","_addLinkedListItem","firstProp","lastProp","sortBy","_prev","_removeLinkedListItem","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","_act","_rewindStartAt","tween","totalTime","revert","_revertConfigNoKill","immediateRender","autoRevert","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","whole","_parentToChildTotalTime","parentTime","_start","_dirty","totalDuration","_tDur","_postAddChecks","timeline","_time","_dur","rawTime","_clamp","_tinyNum","_uncache","_zTime","_addToTimeline","skipChecks","_roundPrecise","_isNumber","_parsePosition","_delay","_end","abs","timeScale","_sort","_isFromOrFromStart","_recent","_alignPlayhead","_scrollTrigger","ScrollTrigger","_missingPlugin","_attemptInitTween","_initTween","_pt","lazy","_lastRenderedFrame","_ticker","_lazy","_parentPlayheadIsBeforeStart","_ref","_lock","_ref2","_setDuration","skipUncache","leavePlayhead","dur","totalProgress","_setEnd","_onUpdateTotalDuration","Timeline","percentAnimation","isPercent","labels","recent","_zeroPosition","clippedDuration","_bigNum","endTime","substr","_createTweenType","irVars","isLegacy","varsIndex","runBackwards","startAt","Tween","_flatten","leaveStrings","_warn","el","nativeElement","_doc","distribute","ease","ratios","axis","ratioX","ratioY","_parseEase","isDecimal","center","edges","originX","originY","wrapAt","distances","grid","getBoundingClientRect","_sqrt","amount","getUnit","_invertEase","_roundModifier","raw","snap","snapTo","radius","is2D","increment","_conditionalReturn","dx","dy","closest","_wrapArray","wrap","wrapYoyo","total","mapRange","inMin","inMax","outMin","outMax","inRange","outRange","progress","mutate","interpolators","il","master","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","_callback","executeLazyFirst","prevContext","_context","_ctx","callbackScope","_interrupt","scrollTrigger","kill","_createPlugin","config","headless","isFunc","Plugin","_props","instanceDefaults","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","targetTest","getSetter","_getSetter","aliases","register","_wake","_plugins","_harnessPlugins","_reservedProps","PropTween","_registerPluginQueue","_hue","m2","_255","_formatColors","toHSL","orderMatchData","shell","colors","_colorExp","color","splitColor","_colorOrderData","_numWithUnitExp","_colorStringFilter","combined","lastIndex","_hslExp","_propagateYoyoEase","isYoyo","_first","yoyoEase","_yoyo","_ease","_yEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","_easeMap","_easeInOutFromOut","_configElastic","amplitude","period","p1","_sin","p3","p2","_2PI","asin","_configBack","overshoot","_suppressOverwrites","_win","_coreInitted","_coreReady","_quickTween","_tickerActive","_id","_req","_raf","_delta","_getTime","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_self","_config","autoSleep","force3D","nullTargetWarn","units","lineHeight","_defaults","overwrite","PI","_HALF_PI","_gsID","sqrt","_cos","cos","sin","_isUndefined","_isTypedArray","_strictNumExp","_numExp","_complexStringNumExp","_relExp","_delimitedValueExp","_unitExp","suppress","_startAtRevertConfig","isStart","_revertConfig","_lazyLookup","_effects","_nextGCFrame","_callbackNames","_harness","harnessPlugin","_gsap","harness","GSCache","_getCache","_getProperty","_round","_parseRelative","operator","_numericIfPossible","_rts","smoothChildTiming","_slice","nonEmpty","roundingIncrement","returnFunction","_replaceRandom","nums","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","forceAlpha","wasHSL","tick","_tick","deltaRatio","fps","wake","gsapVersions","GreenSockGlobals","requestAnimationFrame","sleep","cancelAnimationFrame","lagSmoothing","threshold","adjustedLag","_fps","prioritize","_customEaseExp","_quotesExp","_parseObjectInString","val","parsedVal","lastIndexOf","_valueInParentheses","close","nested","substring","_configEaseFromString","_CE","defaultEase","elapsed","manual","overlap","_checkPlugin","plugin","pt","ptLookup","_processVars","_ptLookup","_targets","_setterAttribute","_setterWithModifier","mSet","mt","_dispatch","_emptyArray","_onMediaChange","_lastMediaTime","_media","anyMatch","toggled","queries","conditions","matchMedia","onMatch","_buildModifierPlugin","_onInit","_addModifiers","_getPluginPropTween","_renderCSSProp","ratio","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","_setterTransform","_setterScale","scaleX","scaleY","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_saveStyle","isNotCSS","_transformProps","tfm","_propertyAliases","_get","_transformOriginProp","zOrigin","_transformProp","svgo","_revertStyle","_capsExp","_removeIndependentTransforms","uncache","_getStyleSaver","properties","saver","save","core","getCache","_initCore","_docElement","_tempDiv","_createElement","_checkPropPrefix","_supports3D","reverting","_pluginInitted","_tweenComplexCSSString","_getComputedProperty","startValues","startNum","startValue","endNum","chunk","endUnit","startUnit","_renderComplexString","matchIndex","_removeProperty","endValue","_convertToUnit","_renderClearProps","clearTransforms","_parseTransform","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","matrix","_getMatrix","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","_identity2DMatrix","determinant","bounds","_getBBox","_addNonTweeningPT","_addPxTranslate","unit","_assign","power","Linear","easeNone","none","SteppedEase","steps","immediateStart","_overwritingTween","_forceAllPropTweens","_recentSetterPlugin","Animation","repeatDelay","yoyo","_proto","startTime","_totalTime","_pTime","iteration","_ps","paused","includeRepeats","wrapRepeats","prevIsReverting","globalTime","_sat","seek","restart","includeDelay","play","reversed","reverse","atTime","resume","invalidate","isActive","eventCallback","_onUpdate","onFulfilled","_resolve","_then","_prom","_Animation","sortChildren","_proto2","to","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onCompleteParams","staggerFrom","staggerFromTo","prevPaused","pauseTween","prevStart","prevIteration","prevTime","tDur","crossingStart","rewinding","doesWrap","repeatRefresh","onRepeat","_hasPause","_forcing","_last","onUpdate","adjustedTime","_this2","addLabel","getChildren","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","onlyActive","getTweensOf","parsedTargets","isGlobalTime","toSearch","toFind","tweenTo","initted","tl","_vars","_onStart","onStart","onStartParams","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","soft","includeLabels","updateRoot","stringFilter","funcParam","optional","currentValue","parsedStart","setter","_setterFuncWithParam","_setterFunc","_setterPlain","startNums","hasRandom","fp","_renderBoolean","_renderPlain","_parseFuncOrString","cleanVars","hasPriority","gsData","harnessVars","overwritten","prevStartAt","fullTargets","autoOverwrite","_overwrite","_from","_ptCache","_op","_sortPropTweensByPriority","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","curTarget","staggerFunc","staggerVarsToMerge","_this3$vars","kf","allProps","easeEach","_proto3","isNegative","_renderZeroDurationTween","prevRatio","resetTo","startIsRelative","skipRecursion","rootPT","lookup","ptCache","overwrittenProps","curLookup","curOverwriteProps","killingTargets","propTweenLookup","firstPT","a1","a2","propertyAliases","onReverseComplete","onReverseCompleteParams","hasNonDependentRemaining","op","pt2","pr","change","renderer","TweenMax","TweenLite","TimelineLite","TimelineMax","_contextID","_r","isReverted","_proto5","prevSelector","ignore","getTweens","_this4","MatchMedia","contexts","_proto6","mq","active","cond","registerPlugin","_len2","_key2","getProperty","quickSetter","setters","quickTo","_merge2","isTweening","registerEffect","_ref3","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","matchMediaRefresh","found","normalize","clamp","pipe","_len","_key","unitize","shuffle","install","effects","ticker","globalTimeline","globals","toAdd","suppressOverwrites","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_RAD2DEG","_DEG2RAD","_atan2","atan2","_horizontalExp","_complexExp","autoAlpha","scale","alpha","translate","ns","skipPrefixFallback","cs","_prefixes","preferPrefix","_getBBoxHack","swapIfPossible","bbox","ownerSVGElement","oldParent","oldSibling","oldCSS","display","getBBox","_gsapBBox","_getAttributeFallbacks","attributesArray","hasAttribute","_isSVG","getCTM","first2Chars","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_nonStandardLayouts","flex","px","curValue","curUnit","horizontal","isRootSVG","measureProperty","toPixels","toPercent","isSVG","_firstTwoOnly","_specialProps","_keywordToPercent","top","bottom","clearProps","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","force2D","addedToDOM","baseVal","consolidate","offsetParent","nextElementSibling","invertedScaleX","z","rotation","rotationX","rotationY","skewX","perspective","angle","a12","a22","t3","a13","a23","a33","a42","a43","a32","rotate","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","skewY","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","a11","a21","tan","CSSPlugin","side","specialProp","relative","isTransformRelated","transformPropTween","inlineProps","finalValue","styles","visibility","parseTransform","smoothOrigin","direction","cap","endCache","startCache","_addRawTransformPTs","autoRound","gsapWithCSS","checkPrefix","getStyleSaver","positionAndScale","e10","e5","e2","tickSpec","log10","factor","i2","inc","tickIncrement","bisector","compare1","compare2","delta","lo","hi","zero","ascendingBisect","bisectRight","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","plum","powderblue","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgba","hsla","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","hsl2rgb","basis","v0","v1","v2","v3","channels","displayable","formatHex8","formatHsl","brighter","darker","linear","gamma","nogamma","rgbGamma","rgbSpline","spline","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","bimap","domain","d0","d1","r0","r1","polymap","bisect","untransform","unknown","piecewise","rescale","rangeRound","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","comma","precision","formatDecimalParts","coefficient","toExponential","exponent","toFixed","toLocaleString","toPrecision","formatRounded","prefixes","locale","numerals","grouping","thousands","currencyPrefix","currency","currencySuffix","decimal","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","padding","formatPrefix","tickFormat","linearish","ticks","nice","prestep","maxIter","epsilon","translateX","translateY","bandwidth","entering","__axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","devicePixelRatio","spacing","range0","range1","tickExit","tickEnter","line","transition","tickSize","axisRight","axisLeft","orientation","HORIZONTAL","VERTICAL","lengendPosition","LEFT_BOTTOM","LEFT_TOP","RIGHT_BOTTOM","RIGHT_TOP","_check_filesaver","alert","_ends_with","d3_text","make_array_ref","id_key","it","rotate_coords","angleNorm","radians","to_radians","degrees","median","half","random_characters","num","possible","get_document","_update_color_legends","reaction_color_scale","axis_function","lengend_position","d3_select","legend","gradient","_get_color_linearGradient_data","legendAxis","d3_scale","_toConsumableArray","LEGEND_WIDTH","minDomain","maxDomain","percentages","must_be_float","has_key","remove_child_nodes","hasChildNodes","lastChild","load_css","css_path","load_files","files_to_load","final_callback","make_class","is_internal","class_with_optional_new","AClass","Proxy","Target","thisArg","setup_defs","defs","draw_an_object","container_sel","parent_node_selector","children_selector","create_function","update_function","exit_function","draw_object","sel","update_sel","draw_a_nested_object","object_data_key","make_array","compare_arrays","arrayToObject","arr","nk","obj1","obj2","attrname","uniqueConcat","newArray","unique_strings_array","callNow","object_slice_for_ids","ids","subset","object_slice_for_ids_ref","c_plus_c","coords1","coords2","c_minus_c","c_times_scalar","coords","scalar","download_json","blob","load_json","pre_fn","failure_fn","File","FileList","reader","onabort","readAsText","load_json_or_csv","csv_converter","debug_event","onload_function","d3_csvParseRows","downloadSvg","svg_sel","do_beautify","XMLSerializer","serializeToString","downloadPng","canvas","svg_width","svg_size","svg_height","base_image","Image","fillStyle","toBlob","downloadGif","modalContainer","getElementById","legendPosition","legendOrientation","clear_vertical_legend","removeLoadingIndicator","loadingIndicator","zIndex","justifyContent","alignItems","fontSize","willReadFrequently","DOMURL","boundingClientRect","screenWidth","innerWidth","screenHeight","innerHeight","picWidth","picHeight","scrollX","scrollY","legend_image","legend_url","legendSvgElement","d3_axis_right","d3_axis_left","_slicedToArray","svgData","svgBlob","fetch","ok","workerBlob","gif","captureFrame","svgElement","legendX","legendY","clearRect","_ref4","legendWidth","legendHeight","DELAY","downloadUrl","click","rotate_coords_recursive","coords_array","get_angle","denominator","numerator","atan","to_degrees","to_radians_norm","angle_for_event","displacement","point","check_undefined","compartmentalize","bigg_id","compartment_id","decompartmentalize","mean","quartiles","generate_map_id","check_for_parent_tag","d3_selection","name_to_url","download_url","get_window","d3_transform_catch","transform_attr","translate_res","tn","rotate_res","scale_res","process_reaction_data","_typeof","processObject","handle_animation","has_data_on_reactions","show_animation","line_style","entry","velocity","strokeDashArray","node_length","isIntersecting","dataBindByD3","fluxData","reaction_animation_duration","strokeDash","reaction_size","getTotalLength","data_string","startsWith","strokeDashoffset","update_color_legends","legendScale","get_current_date","getFullYear","month","getMonth","padStart","day","getDate","get_local_storage_item","localStorage","getItem","PlacedDiv","div","shouldReposition","visible","hide","is_visible","place","window_translate","zoomContainer","windowTranslate","window_scale","windowScale","map_size","get_size","container","thisDocument","thisWindow","txtInput","fontFamily","promptInnerHTML","hintColor","backgroundColor","dropDownBorderColor","dropDownZIndex","dropDownOnHoverBackgroundColor","txtHint","spellcheck","outline","border","margin","disabled","borderColor","boxShadow","verticalAlign","prompt","overflow","elem","oldIndex","current_row","spacer","leftSide","dropDown","marginLeft","dropDownController","textAlign","borderStyle","borderWidth","overflowX","whiteSpace","overflowY","refresh","vph","clientHeight","rect","distanceToTop","distanceToBottom","divRow","onmouseover","onMouseOver","onmouseout","onMouseOut","onmousedown","ondblclick","onDblClick","__hint","rs","display_limit","divRow2","highlight","maxHeight","move","onmouseselection","get_current_row","onEnter","registerOnTextChangeOldValue","get_hint","onArrowDown","onArrowUp","onTab","onChange","repaint","startFrom","hint","setText","getText","hideDropDown","optionsLength","fontWeight","txt","hasTextChanged","sourceEvent","currentTarget","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","pageX","pageY","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","DragEvent","subject","defineProperties","defaultFilter","button","defaultContainer","defaultSubject","defaultTouchable","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","mouse","touches","changedTouches","touch","pointer","p0","clickDistance","RETURN_ARG","DirectionArrow","arrowContainer","arrow","_setupDrag","dragging","isVisible","show","dRotation","onOff","toggle","setRotation","lastX","lastY","d3Drag","_d3Pointer2","d3Pointer","dAngle","displaceRotation","ESCAPE_REG","EMPTY_LINES","TRAILING_NEWLINE","AND_OR","ALL_PARENS","EXCESS_PARENS","OR","AND","OR_EXPRESSION","AND_EXPRESSION","parseFloatOrNull","alignGeneDataToReactions","reactions","firstGeneId","aligned","nullVal","reactionId","reaction","biggId","thisGeneData","genes","gene","kind","existingD","pnt","checkFinite","floatForData","compareStyle","takeAbs","fs","reverse_flux_for_data","gene_string_for_data","rule","gene_values","identifiers_on_map","compare_style","out_text","no_data","genes_found","g_obj","new_str","replace_gene_in_rule","d3Format","null_or_d","text_for_data","evaluate_gene_reaction_rule","and_method_in_gene_reaction_rule","null_val","gene_id","curr_val","all_null","new_curr_val","escaped","importAndCheck","allReactions","csv_rows","converted","genes_for_gene_reaction_rule","apply_reaction_data_to_reactions","segment_id","segment","reaction_id","segments","gene_string","reverse_flux","apply_metabolite_data_to_nodes","nodeId","apply_gene_data_to_reactions","gene_data_obj","gene_reaction_rule","r_data","CobraModel","from_cobra_json","model_data","metabolites","the_id","model","reversibility","lower_bound","upper_bound","met_id","dataStyles","met","build_reaction_string","stoichiometries","is_reversible","number","the_metabolite","reactant_bits","product_bits","reaction_string","apply_reaction_data","reaction_data","apply_metabolite_data","metabolite_data","apply_gene_data","BuildInput","newSel","placed_div","completely","hideDropdown","direction_arrow","setUpMapCallbacks","setUpZoomCallbacks","target_coords","callback_manager","selectedNode","is_active","reload","showDropdown","hideTarget","toggleStartReactionListener","hasModelAndSelection","reloadAtSelected","set_status","clear_escape","key_manager","addEscapeListener","blur","setLocation","deselect_text_labels","select_single_node","drawnId","startingFromScratch","cobra_model","mets","showNames","allowDuplicates","cobraReactions","cobraMetabolites","hasDataOnReactions","selectedMetName","reactionSuggestions","reactionName","showReactionName","alreadyDrawn","metBiggId","showMetNames","metId","showGeneNames","reactionString","new_reaction_from_scratch","getRotation","node_id","new_reaction_for_metabolite","_this5","start_reaction_listener","deselect_nodes","showTarget","CallbackManager","passArgs","aName","cosh","exp","zoomRho","rho","rho2","rho4","zoom","ux0","uy0","w0","ux1","w1","d2","b0","b1","coshr0","SQRT2","_1","_2","taskHead","taskTail","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","timer","t0","poke","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","svgNode","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","tweenValue","attrTweenNS","_value","attrTween","styleTween","textTween","Transition","selection_prototype","id0","id1","on0","on1","sit","string00","string10","interpolate0","string0","string1","value1","listener0","tween0","tween1","easeVarying","interrupt","defaultTiming","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","defaultExtent","SVGElement","viewBox","clientWidth","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","centroid","clean","__zooming","Gesture","taps","wheel","x0","y0","moved","k1","touch0","touch1","l0","l1","dp","dl","hypot","scaleBy","scaleTo","translateBy","translateTo","ZoomContainer","scrollBehavior","use3dTransform","css3TransformContainer","zoomedSel","_scrollBehavior","_use3dTransform","_panDragOn","_zoomBehavior","_zoomTimeout","_svgScale","_svgTranslate","_3dTransform","_requestedFrame","callbackManager","_updateScroll","wheelFn","d3Zoom","_goToCallback","getDirectionalDisp","ev","newTranslate","wheelDeltaX","deltaX","wheelDeltaY","goTo","newZoom","d3ZoomIdentity","run","_goTo3d","_goToSvg","svgScale","svgTranslate","nScale","nTranslate","_goTo3dFrame","_clear3d","_goToSvgFrame","zoomBy","_this$selection$node$","displacedCoords","reactionArrowDisplacement","displace","hyp","Draw","create_reaction","enter_selection","create_reaction_label","update_reaction","update_selection","drawn_nodes","update_reaction_label","create_segment","update_segment","create_bezier","bezier_id","bezier","update_bezier","show_beziers","drag_behavior","mouseover","mouseout","drawn_reactions","hide_secondary_metabolites","seg_data","from_node_id","to_node_id","node_is_primary","turnOffDrag","segment_d","create_node","node_type","update_node","has_data_on_nodes","mousedown_fn","click_fn","mouseover_fn","mouseout_fn","label_drag_behavior","primary_r","secondary_r","marker_r","hide_all_labels","metabolite_data_styles","no_data_style","hide_no_data_reaction","all_reactions_obj","labelMouseover","nodeLabelMouseover","labelMouseout","nodeLabelMouseout","labelTouch","nodeLabelTouch","objectMouseover","nodeObjectMouseover","objectMouseout","nodeObjectMouseout","node_label","hideNode","IsAllRelatedReactionsNoData","metabolite_size","metabolite_color","label_x","label_y","all_reaction_ids","connected_segments","noData","create_text_label","text_label_id","update_text_label","mousedown","textLabelMousedown","textLabelClick","selectableDrag","create_membrane","update_membrane","tool","d3_format","reaction_data_styles","show_gene_reaction_rules","gene_font_size","reactionLabelMouseover","reactionLabelMouseout","reactionLabelTouch","geneLabelMouseover","geneLabelMouseout","geneLabelTouch","reactionLabelDrag","add_gene_height","all_genes_g","show_gene_string","show_gene_reaction_rule","sd","td","gene_g","gene_update","IntersectionObserver","get_arrow_size","should_size","no_data_size","get_disp","arrow_size","arrow_height","should_color","no_data_color","_settings","highlight_missing","reactionObjectMouseover","reactionObjectMouseout","arrowheads","reaction_color","b2","curve","from_node_coefficient","to_node_coefficient","observe","loc","show_arrowhead_flux","unconnected_segment_with_arrow","stoichiometry_labels","getMetLabelLoc","angleRaw","isPrimary","primaryIndex","leftRight","newReaction","cobraReaction","selectedNodeId","largestIds","cofactors","newReactionId","selectedNodeCoords","mainAxis","labelD","reactantRanks","productRanks","reactantCount","productCount","reactionIsReversed","metabolite","formula","newMetabolite","carbons","maxRank","old","primaryReactantIndex","primaryProductIndex","is_primary","newAnchors","anchorIds","dis","newId","generalNodeType","fromId","toId","newSegmentId","unconnectedSeg","newNodes","newNodeId","_ref6","_fromNodeId","_toNodeId","_ref8","metLabelD","fromNodeId","metLoc","isReversed","ds","drawAtIndex","numSlots","circle","reactionAxis","metSecondaryDisp","metIndexDisp","metabolitesArray","newReactions","newBeziers","newBeziersForReactions","rotateNodes","new_reactions","new_beziers","new_nodes","selectedNodes","beziers","rotateAround","coord","updatedNodeIds","updatedReactionIds","moveNodeAndLabels","segmentObj","bezId","segmentId","reaction_ids","node_ids","moveNodeAndDependents","bez","tbez","secondaryW","secondaryDis","bezierIdsForReactionIds","bezierIds","newBeziersForSegments","segBez","these","Behavior","undoStack","emptyBehavior","rotationModeEnabled","rotationDrag","selectableMousedown","bezierDrag","bezierMouseover","bezierMouseout","nodeLabelDrag","enterSel","updateSel","cur","newLoc","selectedNodeIds","selectionNode","selectionBackground","getSelectedNodes","averageLocation","showCenter","getGenericAngularDrag","totalAngle","build","draw_these_nodes","draw_these_reactions","theseNodes","hideCenter","selectableClick","defaultPrevented","select_selectable","nodeMouseover","d3Select","nodeMouseout","textEditMousedown","coordsA","getSelectableDrag","getBezierDrag","labelDrag","getReactionLabelDrag","getNodeLabelDrag","getMouseover","newD","_d3Pointer4","xPos","yPos","objectTouch","fixedNodeId","draggedNodeId","draggedNode","fixedNode","updatedSegmentObjs","delete_node_data","draw_everything","moveLabel","textLabelId","textLabel","text_labels","setDragging","_this6","theTimeout","totalDisplacement","nodeIdsToDrag","reactionIds","textLabelIdsToDrag","combineNodesAndDraw","nodeGroup","grabbed","get_selected_node_ids","selectedTextLabelIds","get_selected_text_label_ids","draw_these_text_labels","nodeToCombineArray","savedDraggedNode","segmentObjsMovedToCombine","savedDisplacement","savedNodeIds","savedTextLabelIds","savedReactionIds","updatedReactions","moveBezier","bezierId","getGenericDrag","draw_these_beziers","startFn","dragFn","endFn","undoFn","redoFn","relativeToSelection","_this7","_d3Pointer6","_d3Pointer8","savedD","savedLocation","getCenter","_this8","_d3Pointer10","savedAngle","savedCenter","GaBuGeRd","GaBuRd","RdYlBu","GeGaRd","WhYlRd","Scale","scaleLinear","x_size","y_size","getDataStatistics","preset","presetVal","scaleVal","scalePresets","setScale","changed","stats","sorted","color_range","size_range","duration_range","setReactionScale","setMetaboliteScale","sortScale","incr","UndoStack","stack","oldest","newest","endOfStack","undo","redo","do","addCmd","ctrlEqualsCmd","newAr","keyAr","KeyManager","assignedKeys","inputList","mousetrap","escapeQueue","removeEscapeListener","enabled","keyId","assignedKey","keyToBind","requires","inputBlocking","ignoreWithInput","thisInputVal","thisInput","oneTime","addKeyListener","_tryDropEscapeListener","keyName","Canvas","sizeAndLocation","resizeEnabled","setup","transformString","currentTransform","lastRightX","lastBottomY","mouseNode","dragLeft","oldX","dragbarWidth","dragRight","dragX","dragTop","oldY","dragBottom","dragY","SearchIndex","record","checkRecord","recordId","_on_array","canvas_size_and_loc","enable_search","map_name","map_id","map_description","setup_containers","largest_ids","undo_stack","draw","search_index","beziers_enabled","imported_reaction_data","imported_metabolite_data","imported_gene_data","apply_reaction_data_to_map","apply_metabolite_data_to_map","apply_gene_data_to_map","connectToSettings","get_data_statistics","rotation_on","map_data","n_id","r_id","g_id","midpoint","s_id","segments_to_delete","from_node","to_node","label_id","get_largest_id","largest_segment_id","current_largest","_status_timer","draw_all_reactions","draw_all_nodes","draw_all_text_labels","draw_beziers","clear_deleted","draw_all_beziers","clear_deleted_reactions","reaction_subset","update_fn","bezier_ids","clear_deleted_beziers","clear_deleted_nodes","node_subset","create_fn","clear_deleted_text_labels","text_label_ids","text_label_subset","bezier_subset","toggle_beziers","on_off","hasData","calc_data_stats","has_data","data_statistics","vals","wasNull","same","new_val","selected_node_ids","selected_nodes","selected_text_label_ids","selected_text_labels","selected_node","selected","shift_key_on","classable_selection","classable_node","node_count","_align","isHorizontal","_moveNodes","disps","bezDisps","markersAndPrimary","alignByPrimary","toAlign","keysToAlign","displacements","bezierDisplacements","movedSecondaryNodes","segmentLink","isToNode","otherNodeId","otherNode","connected","_objectSpread","get_selected_text_labels","delete_selectable","should_draw","segments_and_reactions_for_nodes","segment_objs_w_segments","saved_nodes","saved_segment_objs_w_segments","saved_reactions","saved_text_labels","delete_and_draw","segment_objs","delete_segment_data","delete_reaction_data","delete_text_label_data","changed_r_scale","changed_m_scale","extend_nodes","extend_reactions","scale_changed","reaction_ids_to_draw","segment_obj","seg_id","seg_o","nodeIds","so","bez_id","selected_node_id","starting_reaction","cobra_reaction","reactant_ids","coeff","metaboliteId","label_d","_extend_and_draw_metabolite","reaction_redo","reaction_undo","node_keys","select_metabolite_with_id","new_coords","translateOffScreen","reaction_bigg_id","apply_undo_redo","undo_fn","saved_beziers","redo_fn","_extend_and_draw_reaction","reactions_to_draw","connected_anchor_ids","segment_info","connected_anchor_id","related_node_ids","conn_met_id","a_selected_node_id","last_segment","nodes_to_draw","last_node","last_is_primary","last_coords","last_segment_info","primary_node_id","last_i","last_bezier","old_connected_segments","related_node_id","this_is_primary","these_coords","this_segment_info","this_segment","this_bezier","new_connected_segments","go","reaction_ids_to_draw_o","these_reactions","segment_ids_for_reactions","segment_obj_w_segment","these_ids","add_label_to_search_index","new_value","is_new","edit_and_draw","record_id","saved_label","_zoom_extent","new_zoom","new_pos","text_label","map_for_export","t_id","homepage","schema","new_reaction","new_segment","new_node","new_text_label","canvas_el","new_canvas_el","callbackBefore","callbackAfter","mapType","canvasSizeAndLoc","mouseNodeSizeAndTrans","hidden_sel","saveMap","has_cobra_model","reactions_not_found","reaction_attrs","met_nodes_not_found","metabolite_attrs","model_reaction_id","_loop","modelReaction","looksReversed","modelCoeff","mapMet","mapCoeff","model_metabolite_id","model_metabolite","n_reactions_not_found","n_met_nodes_not_found","imageUrl","base64data","BrushEvent","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","X","handles","xy","Y","XY","cursors","overlay","nw","ne","se","sw","flipX","flipY","signsX","signsY","__brush","brushSelection","dim","brush","handleSize","initialize","handle","redraw","Emitter","signX","signY","W","n0","n1","E","e0","e1","s0","s1","moving","shifting","lockX","lockY","points","pts","point0","selection0","selection1","keyModifiers","Brush","isEnabled","insertAfter","brushSel","insertBeforeNode","setupSelectionBrush","selectableSelection","turnOffCrosshair","clearingFlag","shiftKeyOn","d3BrushSelection","sx","sy","select_none","Settings","optionsWithDefaults","conditionalOptions","_options","statusBus","_$chain$mapObject$pai","mapObject","isConditional","_this$createSetting","createSetting","bus","acceptedStream","_ref5","_ref6$","_$chain$mapObject$pai2","busses","acceptedStreams","initialValue","statusStream","savedValue","lastStatus","newStatus","TextEditInput","placedDiv","isNew","activeTarget","_acceptChanges","_addAndEdit","clearEscape","clearEnter","addEnterListener","textLabelIds","edit_text_label","Wrapper","_callSuper","_inherits","Component","connectSetStateFn","component","_extends","setDisplay","refPassthrough","divNode","ScaleSelector","setWrapperRef","handleClickOutside","wrapperRef","onClick","listItem","locals","Picker","_classCallCheck","newValue","trackWidth","newLimValue","setUpDrag","showTrash","aria-hidden","newVal","onFocus","ScaleSlider","_this$props$scale$red","curMin","curMax","_this$props$scale$red2","absoluteMin","absoluteMax","pickerLocations","parameter","newScale","_defineProperty","layerX","sortedScale","pickers","_this$placePickers","placePickers","scaleChange","focusedPicker","removeColorStop","addColorStop","makeGradient","noDataColor","onNoDataColorChange","noDataSize","onNoDataSizeChange","ScaleSelection","SettingsMenu","holdChanges","abandonChanges","saveChanges","acceptChanges","currentSetting","enableTooltips","dataStatistics","checked","setItem","marginTop","newEnableTooltips","handleStyle","Dropdown","nextProps","disabledEditing","tabindex","rightMenu","MenuButton","assignKeyForInput","fileInputProcessor","assignKey","disabledButtons","handleFileInput","accept","checkMark","MenuBar","dropdownVisible","enableKeys","beziersEnabled","fullScreenButtonEnabled","loadMap","assignKeyLoadMap","import_background","assignKeyImportBackground","clear_background","save_svg","save_png","save_gif","clear_map","loadModel","assignKeyLoadModel","updateRules","clearModel","setReactionData","clearReactionData","setGeneData","clearGeneData","setMetaboliteData","clearMetaboliteData","setMode","deleteSelected","align_vertical","align_horizontal","togglePrimary","cyclePrimary","selectNone","invertSelection","zoom_in","zoom_out","zoomExtentNodes","zoomExtentCanvas","toggleBeziers","full_screen","isFullScreen","renderSettingsMenu","SearchBar","searchItem","counter","clearNext","clearPrevious","inputRef","dropDuplicates","zoom_to_reaction","highlight_reaction","zoom_to_node","highlight_node","zoom_to_text_label","highlight_text_label","compKeys","_compKeys$item$type","handleInput","ButtonPanel","menuSetting","enableEditing","zoom_extent_canvas","buildInput","up","down","TooltipContainer","TooltipComponent","tooltipRef","cancelHideTooltip","delay_hide_timeout","currentTooltip","renderWrapper","passProps","disableTooltips","openInVmh","vmhBasicUrl","delayHide","tooltipSize","mapSize","startPosX","startPosY","rightEdge","bottomEdge","delayHideTimeout","DefaultTooltip","openBigg","pref","decompartmentalizeCheck","vmh_link","decomp","biggButtonText","capitalizeFirstLetter","Builder","mapData","modelData","embeddedCss","d3Selection","menu_div","button_div","search_bar_div","searchBarRef","semanticOptions","__builder__","has_custom_reaction_styles","reaction_styles","scroll_behavior","use_3d_transform","enable_editing","enable_keys","fill_screen","zoom_to_element","full_screen_button","ignore_bootstrap","disabled_buttons","semantic_zoom","never_ask_before_quit","unique_map_id","primary_metabolite_radius","secondary_metabolite_radius","marker_radius","reaction_compare_style","reaction_scale","reaction_scale_preset","reaction_no_data_color","reaction_no_data_size","show_reaction_data_animation","animation_line_style","reaction_data_threshold","background_image_url","gene_data","metabolite_styles","metabolite_compare_style","metabolite_scale","metabolite_scale_preset","metabolite_no_data_color","metabolite_no_data_size","allow_building_duplicate_reactions","open_in_vmh","vmh_basic_url","tooltip_component","enable_tooltips","enable_keys_with_tooltip","first_load_callback","_reaction_data","_reaction_data_threshold","filteredReactionData","firstLoadCallback","savedFullScreenSettings","savedFullScreenParent","clearFullScreenEscape","zoom_container","optionObject","didChange","zoomLevel","_updateData","setUse3dTransform","setScrollBehavior","_updateTooltipSetting","mapToolsContainer","_createStatus","load_model","load_map","messageFn","_reactionCheckAddAbs","newBehavior","shouldUpdateData","tempSemanticOptions","_step","_iterator","option","menu_container","from_data","_setupStatus","build_input","text_edit_input","setUpSettingsMenu","setUpButtonPanel","legend_g","newDisabledButtons","setUpMenuBar","setUpSearchBar","tooltip_container","getKeys","settingsMenuRef","elementId","startCoords","zoom_extent_nodes","zoom_mode","view_mode","_setupConfirmBeforeExit","passPropsSettingsMenu","menuBarRef","passPropsMenuBar","convert_map","set_reaction_data","set_gene_data","set_metabolite_data","_setMode","delete_selected","toggle_selected_node_primary","cycle_primary_node","select_all","invert_selection","passPropsSearchBar","searchIndex","passPropsButtonPanel","togglePanDrag","toggleResize","toggleSelectableDrag","toggleRotationMode","toggleSelectableClick","toggleLabelDrag","toggleTextLabelEdit","toggleBezierDrag","currStyle","filteredData","buttonName","exportAsGifButtonName","geneButtonName","clearGeneReactionRules","geneData","cobraModel","clearMapData","metaboliteDataObject","reactionDataObject","geneDataObject","updateModel","updateMap","shouldDraw","updateReactionData","updateMetaboliteData","_makeGeneDataObject","update_model_timer","status_bar","_this9","setting","toggleLabelMouseover","includes","toggleObjectMouseover","_this10","zoom_in_ctrl","zoom_out_ctrl","extent_nodes_ctrl","extent_nodes","extent_canvas_ctrl","extent_canvas","show_settings_ctrl","show_settings","build_mode","brush_mode","rotate_mode","text_mode","delete_ctrl","delete_del","toggle_primary","cycle_primary","direction_arrow_right","direction_arrow_down","direction_arrow_left","direction_arrow_up","search_ctrl","_this11","onbeforeunload","bodyNode","_this12","fullScreenSettings","fullScreenButton","NO_DRAW_OPTIONS","WITH_API_FUNCTIONS","EscherMapView","EscherMapModel","ESCHER_VERSION","EscherMapViewRef","DOMWidgetView","_createClass","setHeight","builder","getMapData","getModelData","save_changes","EscherMapModelRef","DOMWidgetModel","_model_name","_view_name","_model_module","_view_module","_model_module_version","_view_module_version","libs","underscore","preact","baconjs"],"mappings":"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","file":"escher.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return require(\"@jupyter-widgets/base\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@jupyter-widgets/base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"escher\"] = factory((function webpackLoadOptionalExternalModule() { try { return require(\"@jupyter-widgets/base\"); } catch(e) {} }()));\n\telse\n\t\troot[\"escher\"] = factory(root[\"@jupyter-widgets/base\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__51__) => {\nreturn ","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../font/fontello.eot?9130959\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../font/fontello.woff2?9130959\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../font/fontello.woff?9130959\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../font/fontello.ttf?9130959\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"../font/fontello.svg?9130959\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___, { hash: \"#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___, { hash: \"#fontello\" });\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@font-face {\n  font-family: 'fontello';\n  src: url(${___CSS_LOADER_URL_REPLACEMENT_0___});\n  src: url(${___CSS_LOADER_URL_REPLACEMENT_1___}) format('embedded-opentype'),\n       url(${___CSS_LOADER_URL_REPLACEMENT_2___}) format('woff2'),\n       url(${___CSS_LOADER_URL_REPLACEMENT_3___}) format('woff'),\n       url(${___CSS_LOADER_URL_REPLACEMENT_4___}) format('truetype'),\n       url(${___CSS_LOADER_URL_REPLACEMENT_5___}) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontello';\n    src: url('../font/fontello.svg?9130959#fontello') format('svg');\n  }\n}\n*/\n \n [class^=\"icon-\"]:before, [class*=\" icon-\"]:before {\n  font-family: \"fontello\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.icon-ok:before { content: '\\\\e800'; } /* '' */\n.icon-cancel:before { content: '\\\\e801'; } /* '' */\n.icon-plus:before { content: '\\\\e802'; } /* '' */\n.icon-down-big:before { content: '\\\\e803'; } /* '' */\n.icon-left-big:before { content: '\\\\e804'; } /* '' */\n.icon-right-big:before { content: '\\\\e805'; } /* '' */\n.icon-up-big:before { content: '\\\\e806'; } /* '' */\n.icon-left-open:before { content: '\\\\e807'; } /* '' */\n.icon-right-open:before { content: '\\\\e808'; } /* '' */\n.icon-wrench:before { content: '\\\\e809'; } /* '' */\n.icon-resize-full:before { content: '\\\\e80a'; } /* '' */\n.icon-cw:before { content: '\\\\e80b'; } /* '' */\n.icon-trash-empty:before { content: '\\\\e80e'; } /* '' */\n.icon-font:before { content: '\\\\e80f'; } /* '' */\n.icon-zoom-in:before { content: '\\\\e810'; } /* '' */\n.icon-zoom-out:before { content: '\\\\e811'; } /* '' */\n.icon-move:before { content: '\\\\f047'; } /* '' */\n.icon-resize-full-alt:before { content: '\\\\f0b2'; } /* '' */\n.icon-blank:before { content: '\\\\f0c8'; } /* '' */\n.icon-sort-down:before { content: '\\\\f0dd'; } /* '' */\n.icon-mouse-pointer:before { content: '\\\\f245'; } /* '' */`, \"\",{\"version\":3,\"sources\":[\"webpack://./icons/css/fontello.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,uBAAuB;EACvB,4CAAwC;EACxC;;;;4DAI+D;EAC/D,mBAAmB;EACnB,kBAAkB;AACpB;AACA,gGAAgG;AAChG,2FAA2F;AAC3F;;;;;;;CAOC;;CAEA;EACC,uBAAuB;EACvB,kBAAkB;EAClB,mBAAmB;EACnB,WAAW;;EAEX,qBAAqB;EACrB,wBAAwB;EACxB,UAAU;EACV,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;;EAEjB,gEAAgE;EAChE,oBAAoB;EACpB,oBAAoB;;EAEpB,8CAA8C;EAC9C,gBAAgB;;EAEhB,gEAAgE;EAChE,yBAAyB;EACzB,iBAAiB;;EAEjB,0DAA0D;EAC1D,qBAAqB;;EAErB,6CAA6C;EAC7C,mCAAmC;EACnC,kCAAkC;;EAElC,4BAA4B;EAC5B,uDAAuD;AACzD;;AAEA,kBAAkB,gBAAgB,EAAE,EAAE,QAAQ;AAC9C,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,kBAAkB,gBAAgB,EAAE,EAAE,QAAQ;AAC9C,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ\",\"sourcesContent\":[\"@font-face {\\n  font-family: 'fontello';\\n  src: url('../font/fontello.eot?9130959');\\n  src: url('../font/fontello.eot?9130959#iefix') format('embedded-opentype'),\\n       url('../font/fontello.woff2?9130959') format('woff2'),\\n       url('../font/fontello.woff?9130959') format('woff'),\\n       url('../font/fontello.ttf?9130959') format('truetype'),\\n       url('../font/fontello.svg?9130959#fontello') format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\n/*\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n  @font-face {\\n    font-family: 'fontello';\\n    src: url('../font/fontello.svg?9130959#fontello') format('svg');\\n  }\\n}\\n*/\\n \\n [class^=\\\"icon-\\\"]:before, [class*=\\\" icon-\\\"]:before {\\n  font-family: \\\"fontello\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: none;\\n \\n  display: inline-block;\\n  text-decoration: inherit;\\n  width: 1em;\\n  margin-right: .2em;\\n  text-align: center;\\n  /* opacity: .8; */\\n \\n  /* For safety - reset parent styles, that can break glyph codes*/\\n  font-variant: normal;\\n  text-transform: none;\\n \\n  /* fix buttons height, for twitter bootstrap */\\n  line-height: 1em;\\n \\n  /* Animation center compensation - margins should be symmetric */\\n  /* remove if not needed */\\n  margin-left: .2em;\\n \\n  /* you can be more comfortable with increased icons size */\\n  /* font-size: 120%; */\\n \\n  /* Font smoothing. That was taken from TWBS */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n \\n  /* Uncomment for 3D effect */\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\n}\\n \\n.icon-ok:before { content: '\\\\e800'; } /* '' */\\n.icon-cancel:before { content: '\\\\e801'; } /* '' */\\n.icon-plus:before { content: '\\\\e802'; } /* '' */\\n.icon-down-big:before { content: '\\\\e803'; } /* '' */\\n.icon-left-big:before { content: '\\\\e804'; } /* '' */\\n.icon-right-big:before { content: '\\\\e805'; } /* '' */\\n.icon-up-big:before { content: '\\\\e806'; } /* '' */\\n.icon-left-open:before { content: '\\\\e807'; } /* '' */\\n.icon-right-open:before { content: '\\\\e808'; } /* '' */\\n.icon-wrench:before { content: '\\\\e809'; } /* '' */\\n.icon-resize-full:before { content: '\\\\e80a'; } /* '' */\\n.icon-cw:before { content: '\\\\e80b'; } /* '' */\\n.icon-trash-empty:before { content: '\\\\e80e'; } /* '' */\\n.icon-font:before { content: '\\\\e80f'; } /* '' */\\n.icon-zoom-in:before { content: '\\\\e810'; } /* '' */\\n.icon-zoom-out:before { content: '\\\\e811'; } /* '' */\\n.icon-move:before { content: '\\\\f047'; } /* '' */\\n.icon-resize-full-alt:before { content: '\\\\f0b2'; } /* '' */\\n.icon-blank:before { content: '\\\\f0c8'; } /* '' */\\n.icon-sort-down:before { content: '\\\\f0dd'; } /* '' */\\n.icon-mouse-pointer:before { content: '\\\\f245'; } /* '' */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* Containers */\n\n/* The top level container for an Escher Builder */\n.escher-container {\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif !important;\n  background-color: #F3F3F3;\n  text-align: center;\n  position: relative;\n  font-size: 14px;\n  color: #333333;\n}\n\n/* Applied to the body when Escher fills the screen. This stops browser from\nshowing scroll-end animations. */\nhtml.fill-screen {\n  height: 100%;\n  width: 100%;\n}\nbody.fill-screen {\n  margin: 0;\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n\n/* Applied to top level container (generally .escher-container) when Escher\nfills the screen. These make sure Escher completely fills the screen, even after\nresizes. */\n.fill-screen-div {\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 1000;\n}\n\n/* The zoom container classes. */\n.escher-container .escher-zoom-container,\n.escher-container .escher-3d-transform-container,\n.escher-container svg.escher-svg {\n  width: 100% !important;\n  height: 100% !important;\n  overflow: hidden;\n}\n\n/* SVG text should not be selectable */\n.escher-container svg text {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* Status */\n.escher-container #status {\n  position:absolute;\n  bottom:10px;\n  left: 20px;\n  color: red;\n  background-color: white;\n  font-size: 16px\n}\n\n/* Search & Menu */\n.escher-container .search-menu-container {\n  position: absolute;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  margin: 0;\n  text-align: center;\n  pointer-events: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.escher-container .search-menu-container .legend-container{\n  display: none;\n  width: 224px;\n  height: 35.5px;\n}\n\n.escher-container .search-menu-container .vertical-legend-container{\n  display: none;\n}\n\n.escher-container .search-menu-container-inline {\n  box-sizing: border-box;\n  width: 320px;\n  display: inline-block;\n  text-align: left;\n  pointer-events: auto;\n}\n@media (min-width: 550px) {\n  .escher-container .search-menu-container-inline {\n    width: 470px;\n  }\n}\n\n/* Reaction input */\n.escher-container #rxn-input {\n  z-index: 10;\n  width: 200px;\n}\n.escher-container .input-close-button {\n  position: absolute;\n  right: 0px;\n  width: 18px;\n  bottom: 0px;\n  padding: 0px;\n  border-width: 0px;\n  margin: 0px;\n  background: none;\n  font-size: 20px;\n  font-weight: normal;\n  top: -8px;\n}\n.escher-container .input-close-button:hover {\n  color: #ff3333;\n  font-weight: bold;\n}\n\n/* text edit input */\n.escher-container #text-edit-input input {\n  width: 500px;\n  border: 1px solid #cccccc;\n  font-size: 22px;\n}\n\n.escher-container #tooltip-container {\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n/* Buttons */\n.escher-container .btn {\n  color: white!important;\n  border: 1px solid #2E2F2F;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  cursor: pointer;\n}\n\n.escher-container .btn:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n\n/* Modal container */\n#legend-config-modal {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 400px;\n  padding: 20px;\n  background-color: white;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n  z-index: 1001;\n  display: none; /* Hidden by default */\n  border-radius: 8px;\n  border: 1px solid #ccc;\n}\n\n#legend-config-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */\n  z-index: 1000; /* Ensure the overlay is behind the modal */\n  display: none; /* Hidden by default */\n}\n\n/* Modal content */\n#legend-config-modal .modal-content h3 {\n  font-size: 1.25em;\n  margin-bottom: 20px;\n  margin-top: 0;\n}\n\n#legend-config-modal .modal-content label {\n  display: block;\n  margin: 10px 0 5px;\n  font-weight: bold;\n  text-align: left;\n}\n\n#legend-config-modal .modal-content select {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n/* Modal actions */\n#legend-config-modal .modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n}\n\n#legend-config-modal .modal-button {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-left: 10px;\n}\n\n#legend-config-modal .modal-button.confirm {\n  background-color: #4CAF50;\n  color: white;\n}\n\n#legend-config-modal .modal-button.cancel {\n  background-color: #f2f2f2;\n  color: #000;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/Builder.css\"],\"names\":[],\"mappings\":\"AAAA,eAAe;;AAEf,kDAAkD;AAClD;EACE,sEAAsE;EACtE,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;AAChB;;AAEA;gCACgC;AAChC;EACE,YAAY;EACZ,WAAW;AACb;AACA;EACE,SAAS;EACT,kBAAkB;EAClB,gBAAgB;EAChB,YAAY;EACZ,WAAW;AACb;;AAEA;;UAEU;AACV;EACE,SAAS;EACT,UAAU;EACV,eAAe;EACf,QAAQ;EACR,WAAW;EACX,SAAS;EACT,UAAU;EACV,sBAAsB;EACtB,uBAAuB;EACvB,aAAa;AACf;;AAEA,gCAAgC;AAChC;;;EAGE,sBAAsB;EACtB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA,sCAAsC;AACtC;EACE,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA,WAAW;AACX;EACE,iBAAiB;EACjB,WAAW;EACX,UAAU;EACV,UAAU;EACV,uBAAuB;EACvB;AACF;;AAEA,kBAAkB;AAClB;EACE,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,SAAS;EACT,SAAS;EACT,kBAAkB;EAClB,oBAAoB;EACpB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;EACrB,gBAAgB;EAChB,oBAAoB;AACtB;AACA;EACE;IACE,YAAY;EACd;AACF;;AAEA,mBAAmB;AACnB;EACE,WAAW;EACX,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,WAAW;EACX,gBAAgB;EAChB,eAAe;EACf,mBAAmB;EACnB,SAAS;AACX;AACA;EACE,cAAc;EACd,iBAAiB;AACnB;;AAEA,oBAAoB;AACpB;EACE,YAAY;EACZ,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA,YAAY;AACZ;EACE,sBAAsB;EACtB,yBAAyB;EACzB,+DAA+D;EAC/D,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,+DAA+D;AACjE;;;AAGA,oBAAoB;AACpB;EACE,eAAe;EACf,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,0CAA0C;EAC1C,aAAa;EACb,aAAa,EAAE,sBAAsB;EACrC,kBAAkB;EAClB,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,oCAAoC,EAAE,2BAA2B;EACjE,aAAa,EAAE,2CAA2C;EAC1D,aAAa,EAAE,sBAAsB;AACvC;;AAEA,kBAAkB;AAClB;EACE,iBAAiB;EACjB,mBAAmB;EACnB,aAAa;AACf;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA,kBAAkB;AAClB;EACE,aAAa;EACb,yBAAyB;EACzB,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb\",\"sourcesContent\":[\"/* Containers */\\n\\n/* The top level container for an Escher Builder */\\n.escher-container {\\n  font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif !important;\\n  background-color: #F3F3F3;\\n  text-align: center;\\n  position: relative;\\n  font-size: 14px;\\n  color: #333333;\\n}\\n\\n/* Applied to the body when Escher fills the screen. This stops browser from\\nshowing scroll-end animations. */\\nhtml.fill-screen {\\n  height: 100%;\\n  width: 100%;\\n}\\nbody.fill-screen {\\n  margin: 0;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n/* Applied to top level container (generally .escher-container) when Escher\\nfills the screen. These make sure Escher completely fills the screen, even after\\nresizes. */\\n.fill-screen-div {\\n  margin: 0;\\n  padding: 0;\\n  position: fixed;\\n  top: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  right: 0px;\\n  width: 100% !important;\\n  height: 100% !important;\\n  z-index: 1000;\\n}\\n\\n/* The zoom container classes. */\\n.escher-container .escher-zoom-container,\\n.escher-container .escher-3d-transform-container,\\n.escher-container svg.escher-svg {\\n  width: 100% !important;\\n  height: 100% !important;\\n  overflow: hidden;\\n}\\n\\n/* SVG text should not be selectable */\\n.escher-container svg text {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n/* Status */\\n.escher-container #status {\\n  position:absolute;\\n  bottom:10px;\\n  left: 20px;\\n  color: red;\\n  background-color: white;\\n  font-size: 16px\\n}\\n\\n/* Search & Menu */\\n.escher-container .search-menu-container {\\n  position: absolute;\\n  width: 100%;\\n  top: 0px;\\n  left: 0px;\\n  margin: 0;\\n  text-align: center;\\n  pointer-events: none;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.escher-container .search-menu-container .legend-container{\\n  display: none;\\n  width: 224px;\\n  height: 35.5px;\\n}\\n\\n.escher-container .search-menu-container .vertical-legend-container{\\n  display: none;\\n}\\n\\n.escher-container .search-menu-container-inline {\\n  box-sizing: border-box;\\n  width: 320px;\\n  display: inline-block;\\n  text-align: left;\\n  pointer-events: auto;\\n}\\n@media (min-width: 550px) {\\n  .escher-container .search-menu-container-inline {\\n    width: 470px;\\n  }\\n}\\n\\n/* Reaction input */\\n.escher-container #rxn-input {\\n  z-index: 10;\\n  width: 200px;\\n}\\n.escher-container .input-close-button {\\n  position: absolute;\\n  right: 0px;\\n  width: 18px;\\n  bottom: 0px;\\n  padding: 0px;\\n  border-width: 0px;\\n  margin: 0px;\\n  background: none;\\n  font-size: 20px;\\n  font-weight: normal;\\n  top: -8px;\\n}\\n.escher-container .input-close-button:hover {\\n  color: #ff3333;\\n  font-weight: bold;\\n}\\n\\n/* text edit input */\\n.escher-container #text-edit-input input {\\n  width: 500px;\\n  border: 1px solid #cccccc;\\n  font-size: 22px;\\n}\\n\\n.escher-container #tooltip-container {\\n  -ms-touch-action: none;\\n  touch-action: none;\\n}\\n\\n/* Buttons */\\n.escher-container .btn {\\n  color: white!important;\\n  border: 1px solid #2E2F2F;\\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\\n  background-color: white;\\n  cursor: pointer;\\n}\\n\\n.escher-container .btn:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\\n\\n/* Modal container */\\n#legend-config-modal {\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  width: 400px;\\n  padding: 20px;\\n  background-color: white;\\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\\n  z-index: 1001;\\n  display: none; /* Hidden by default */\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n}\\n\\n#legend-config-modal-overlay {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */\\n  z-index: 1000; /* Ensure the overlay is behind the modal */\\n  display: none; /* Hidden by default */\\n}\\n\\n/* Modal content */\\n#legend-config-modal .modal-content h3 {\\n  font-size: 1.25em;\\n  margin-bottom: 20px;\\n  margin-top: 0;\\n}\\n\\n#legend-config-modal .modal-content label {\\n  display: block;\\n  margin: 10px 0 5px;\\n  font-weight: bold;\\n  text-align: left;\\n}\\n\\n#legend-config-modal .modal-content select {\\n  width: 100%;\\n  padding: 8px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n}\\n\\n/* Modal actions */\\n#legend-config-modal .modal-actions {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 20px;\\n}\\n\\n#legend-config-modal .modal-button {\\n  padding: 8px 16px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  margin-left: 10px;\\n}\\n\\n#legend-config-modal .modal-button.confirm {\\n  background-color: #4CAF50;\\n  color: white;\\n}\\n\\n#legend-config-modal .modal-button.cancel {\\n  background-color: #f2f2f2;\\n  color: #000;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .button-panel {\n  position: absolute;\n  left: 4px;\n  top: 20%;\n  margin-top: -32px;\n  padding-left: 0;\n  touch-action: none;\n}\n\n.escher-container .button-panel>li {\n  margin-top: 5px;\n  display: block;\n\n  /* these sometimes get overridden */\n  margin-left: 0 !important;\n}\n\n.escher-container .grouping {\n  display: block;\n}\n\n.escher-container .buttonGroup {\n  display: block;\n  margin-bottom: -1px;\n  padding: 5px 0px;\n  border-radius: 0;\n}\n\n.escher-container .grouping>.buttonGroup:first-child {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n.escher-container .grouping>.buttonGroup:last-child {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.escher-container .button-panel>.grouping:last-child {\n  margin-top: 4px;\n}\n\n.escher-container #currentMode,\n.escher-container .active-button {\n  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d) !important;\n}\n\n.escher-container .buttonGroup.btn {\n  margin-top: -1px;\n}\n\n.escher-container .button {\n  border-radius: 4px;\n}\n\n.escher-container .button.btn, .escher-container .buttonGroup.btn {\n  padding: unset;\n  color: white!important;\n  border: 1px solid #474949;\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\n  background-color: white;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 14px!important;\n  font-weight: 400;\n  width: 40px;\n  height: 40px;\n}\n\n.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .button-panel .fa {\n  font-size: 24px;\n}\n\n/* Icons */\n.escher-container .button-panel [class^='icon-'] {\n  font-size: 23px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ButtonPanel.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,cAAc;;EAEd,mCAAmC;EACnC,yBAAyB;AAC3B;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,2BAA2B;EAC3B,4BAA4B;AAC9B;;AAEA;EACE,8BAA8B;EAC9B,+BAA+B;AACjC;;AAEA;EACE,eAAe;AACjB;;AAEA;;EAEE,wEAAwE;AAC1E;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,sBAAsB;EACtB,yBAAyB;EACzB,+DAA+D;EAC/D,uBAAuB;EACvB,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf,yBAAyB;EACzB,gBAAgB;EAChB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,+DAA+D;AACjE;;AAEA;EACE,eAAe;AACjB;;AAEA,UAAU;AACV;EACE,eAAe;AACjB\",\"sourcesContent\":[\".escher-container .button-panel {\\n  position: absolute;\\n  left: 4px;\\n  top: 20%;\\n  margin-top: -32px;\\n  padding-left: 0;\\n  touch-action: none;\\n}\\n\\n.escher-container .button-panel>li {\\n  margin-top: 5px;\\n  display: block;\\n\\n  /* these sometimes get overridden */\\n  margin-left: 0 !important;\\n}\\n\\n.escher-container .grouping {\\n  display: block;\\n}\\n\\n.escher-container .buttonGroup {\\n  display: block;\\n  margin-bottom: -1px;\\n  padding: 5px 0px;\\n  border-radius: 0;\\n}\\n\\n.escher-container .grouping>.buttonGroup:first-child {\\n  border-top-left-radius: 4px;\\n  border-top-right-radius: 4px;\\n}\\n\\n.escher-container .grouping>.buttonGroup:last-child {\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n}\\n\\n.escher-container .button-panel>.grouping:last-child {\\n  margin-top: 4px;\\n}\\n\\n.escher-container #currentMode,\\n.escher-container .active-button {\\n  background-image: linear-gradient(#8F4F3F,#834c3c 6%,#8d3a2d) !important;\\n}\\n\\n.escher-container .buttonGroup.btn {\\n  margin-top: -1px;\\n}\\n\\n.escher-container .button {\\n  border-radius: 4px;\\n}\\n\\n.escher-container .button.btn, .escher-container .buttonGroup.btn {\\n  padding: unset;\\n  color: white!important;\\n  border: 1px solid #474949;\\n  background-image: linear-gradient(#4F5151, #474949 6%, #3F4141);\\n  background-color: white;\\n  text-align: center;\\n  vertical-align: middle;\\n  cursor: pointer;\\n  font-size: 14px!important;\\n  font-weight: 400;\\n  width: 40px;\\n  height: 40px;\\n}\\n\\n.escher-container .button-panel .button:active, .escher-container .buttonGroup label:active, .escher-container .button-panel .buttonGroup:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\\n.escher-container .button-panel .fa {\\n  font-size: 24px;\\n}\\n\\n/* Icons */\\n.escher-container .button-panel [class^='icon-'] {\\n  font-size: 23px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .default-tooltip {\n  box-sizing: border-box;\n  min-width: 300px;\n  min-height: 100px;\n  border-radius: 2px;\n  border: 1px solid #b58787;\n  padding: 7px;\n  background-color: #fff;\n  text-align: left;\n  font-size: 16px;\n  font-family: sans-serif;\n  color: #111;\n  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);\n}\n\n.escher-container .default-tooltip .id{\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.escher-container .default-tooltip button {\n  border-radius: 3px;\n  background-color: #eee;\n  border: 1px solid #ddd;\n  margin-top: 4px;\n  font-size: 16px;\n  padding: 3px 6px;\n}\n\n.escher-container .default-tooltip .top-right {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n}\n\n.escher-container .default-tooltip .top-right * {\n  float: right;\n  text-align: right;\n}\n\n.escher-container .default-tooltip .top-right a {\n  font-size: 11px;\n  color: #999;\n  cursor: pointer;\n}\n.escher-container .default-tooltip .top-right a:hover {\n  color: #444;\n  text-decoration: underline;\n}\n\n.escher-container .default-tooltip .type-label {\n  font-size: 15px;\n  color: #d27066;\n  background-color: #ffeded;\n  border-radius: 2px;\n  margin: 0 0 0 10px;\n  padding: 0 5px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/DefaultTooltip.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,yBAAyB;EACzB,YAAY;EACZ,sBAAsB;EACtB,gBAAgB;EAChB,eAAe;EACf,uBAAuB;EACvB,WAAW;EACX,+CAA+C;AACjD;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,sBAAsB;EACtB,sBAAsB;EACtB,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;;AAEA;EACE,YAAY;EACZ,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,WAAW;EACX,eAAe;AACjB;AACA;EACE,WAAW;EACX,0BAA0B;AAC5B;;AAEA;EACE,eAAe;EACf,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;EAClB,cAAc;AAChB\",\"sourcesContent\":[\".escher-container .default-tooltip {\\n  box-sizing: border-box;\\n  min-width: 300px;\\n  min-height: 100px;\\n  border-radius: 2px;\\n  border: 1px solid #b58787;\\n  padding: 7px;\\n  background-color: #fff;\\n  text-align: left;\\n  font-size: 16px;\\n  font-family: sans-serif;\\n  color: #111;\\n  box-shadow: 4px 6px 20px 0px rgba(0, 0, 0, 0.4);\\n}\\n\\n.escher-container .default-tooltip .id{\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n.escher-container .default-tooltip button {\\n  border-radius: 3px;\\n  background-color: #eee;\\n  border: 1px solid #ddd;\\n  margin-top: 4px;\\n  font-size: 16px;\\n  padding: 3px 6px;\\n}\\n\\n.escher-container .default-tooltip .top-right {\\n  position: absolute;\\n  top: 4px;\\n  right: 4px;\\n}\\n\\n.escher-container .default-tooltip .top-right * {\\n  float: right;\\n  text-align: right;\\n}\\n\\n.escher-container .default-tooltip .top-right a {\\n  font-size: 11px;\\n  color: #999;\\n  cursor: pointer;\\n}\\n.escher-container .default-tooltip .top-right a:hover {\\n  color: #444;\\n  text-decoration: underline;\\n}\\n\\n.escher-container .default-tooltip .type-label {\\n  font-size: 15px;\\n  color: #d27066;\\n  background-color: #ffeded;\\n  border-radius: 2px;\\n  margin: 0 0 0 10px;\\n  padding: 0 5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .menu-bar {\n  box-sizing: border-box;\n  list-style-type: none;\n  padding: 0;\n  padding-right: 20px;\n  position: relative;\n  margin: 5px 0px;\n  background-color: white;\n  border: 1px solid #ddd;\n  display: inline-flex;\n  box-sizing: border-box;\n  width: 100%;\n  justify-content: space-between;\n}\n\n.escher-container .dropdown {\n  position: relative;\n  float: left;\n  box-sizing: border-box;\n  font-size: 12px;\n  border-radius: 3px;\n\n  /* these sometimes get overridden */\n  margin: 0 !important;\n  font-weight: normal !important;\n\n  text-align: center;\n  vertical-align: middle;\n  -ms-touch-action: none;\n  touch-action: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .dropdownButton {\n  color: #d9230f!important;\n  border: 1px solid transparent;\n  padding: 6px 9px;\n}\n\n.escher-container .helpButton {\n  color: #d9230f!important;\n  padding: 0px 5px;\n  background-color: #f5f5f5!important;\n  border: 0!important;\n  text-decoration: unset;\n  height: fit-content;\n  position: absolute;\n  right: 0;\n  font-size: 12px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {\n  color: #91170a!important;\n  text-decoration: underline;\n}\n\n.escher-container .menu-bar .icon-sort-down {\n  position: absolute;\n  font-size: 10px;\n  margin-left: -5px;\n}\n\n@media (min-width: 550px) {\n  .escher-container .menu-bar {\n    padding-right: 25px;\n  }\n\n  .escher-container .dropdown {\n    font-size: 18px;\n  }\n\n  .escher-container .dropdownButton {\n    padding: 6px 10px;\n    padding-right: 16px;\n  }\n\n  .escher-container .helpButton {\n    font-size: 16px;\n  }\n\n  .escher-container .menu-bar .icon-sort-down {\n    font-size: 14px;\n  }\n}\n\n.escher-container .menu {\n  box-sizing: border-box;\n  font-weight: normal!important;\n  word-spacing: 0;\n  position: absolute;\n  white-space: nowrap;\n  top: 103%;\n  left: -1%;\n  z-index: 1000;\n  display: block;\n  float: none;\n  min-width: 160px;\n  padding: 5px 0;\n  list-style: none;\n  font-size: 13px;\n  box-shadow: 0 6px 12px rgba(0,0,0,0.175);\n  background-clip: padding-box;\n  border: 1px solid #ddd;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 0;\n  margin: 0;\n  text-align: left;\n}\n\n.escher-container #rightMenu {\n  left: auto;\n  right: -2%;\n}\n\n.escher-container .menu li:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menu li, .menu label {\n  font-size: 15px;\n  display: block;\n  color: #444444;\n\n  /* these sometimes get overridden */\n  font-weight: normal !important;\n  margin: 0 !important;\n}\n\n.escher-container .menu.ul.li {\n  background-color: rgba(255, 255, 255, 0.95);\n}\n\n.escher-container .menuButton {\n  box-sizing: border-box;\n  width: 100%;\n  padding: 5px 20px;\n  margin: 0;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container label:focus, .menuButton:focus {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container .menuButton:hover {\n  background-color: #d9230f;\n  color: #FFFFFF;\n}\n\n.escher-container input[type=\"file\"] {\n  display: none;\n}\n\n.escher-container #disabled {\n  color: #e0e0e0;\n}\n\n.escher-container #disabled:hover, #disabled:focus {\n  background-color: rgba(255, 255, 255, 0.95);\n  cursor: default;\n}\n\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 50px;\n  height: 25px;\n  vertical-align: middle;\n}\n\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  transition: .4s;\n  border-radius: 25px;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 19px;\n  width: 19px;\n  left: 3px;\n  bottom: 3px;\n  background-color: white;\n  transition: .4s;\n  border-radius: 50%;\n}\n\ninput:checked + .slider {\n  background-color: #d9230f;\n}\n\ninput:checked + .slider:before {\n  transform: translateX(25px);\n}\n\n.switch-container {\n  display: flex;\n  align-items: center;\n}\n\n.switch-description {\n  margin-right: 10px;\n  font-size: 16px;\n}\n\n/* Tooltip styling */\n.tooltip {\n  position: relative;\n  display: inline-block;\n}\n\n.tooltip .tooltiptext {\n  visibility: hidden;\n  width: 120px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px;\n  position: absolute;\n  z-index: 1;\n  top: 125%; /* Position the tooltip below the switch */\n  left: 50%;\n  margin-left: -60px;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.tooltip .tooltiptext::after {\n  content: \"\";\n  position: absolute;\n  bottom: 100%; /* At the top of the tooltip */\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: transparent transparent black transparent;\n}\n\n.tooltip:hover .tooltiptext {\n  visibility: visible;\n  opacity: 1;\n}\n\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/Dropdown.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".escher-container .menu-bar {\\n  box-sizing: border-box;\\n  list-style-type: none;\\n  padding: 0;\\n  padding-right: 20px;\\n  position: relative;\\n  margin: 5px 0px;\\n  background-color: white;\\n  border: 1px solid #ddd;\\n  display: inline-flex;\\n  box-sizing: border-box;\\n  width: 100%;\\n  justify-content: space-between;\\n}\\n\\n.escher-container .dropdown {\\n  position: relative;\\n  float: left;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n  border-radius: 3px;\\n\\n  /* these sometimes get overridden */\\n  margin: 0 !important;\\n  font-weight: normal !important;\\n\\n  text-align: center;\\n  vertical-align: middle;\\n  -ms-touch-action: none;\\n  touch-action: none;\\n  cursor: pointer;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .dropdownButton {\\n  color: #d9230f!important;\\n  border: 1px solid transparent;\\n  padding: 6px 9px;\\n}\\n\\n.escher-container .helpButton {\\n  color: #d9230f!important;\\n  padding: 0px 5px;\\n  background-color: #f5f5f5!important;\\n  border: 0!important;\\n  text-decoration: unset;\\n  height: fit-content;\\n  position: absolute;\\n  right: 0;\\n  font-size: 12px;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .dropdownButton:focus, .escher-container .helpButton:focus {\\n  color: #91170a!important;\\n  text-decoration: underline;\\n}\\n\\n.escher-container .dropdownButton:hover, .escher-container .helpButton:hover {\\n  color: #91170a!important;\\n  text-decoration: underline;\\n}\\n\\n.escher-container .menu-bar .icon-sort-down {\\n  position: absolute;\\n  font-size: 10px;\\n  margin-left: -5px;\\n}\\n\\n@media (min-width: 550px) {\\n  .escher-container .menu-bar {\\n    padding-right: 25px;\\n  }\\n\\n  .escher-container .dropdown {\\n    font-size: 18px;\\n  }\\n\\n  .escher-container .dropdownButton {\\n    padding: 6px 10px;\\n    padding-right: 16px;\\n  }\\n\\n  .escher-container .helpButton {\\n    font-size: 16px;\\n  }\\n\\n  .escher-container .menu-bar .icon-sort-down {\\n    font-size: 14px;\\n  }\\n}\\n\\n.escher-container .menu {\\n  box-sizing: border-box;\\n  font-weight: normal!important;\\n  word-spacing: 0;\\n  position: absolute;\\n  white-space: nowrap;\\n  top: 103%;\\n  left: -1%;\\n  z-index: 1000;\\n  display: block;\\n  float: none;\\n  min-width: 160px;\\n  padding: 5px 0;\\n  list-style: none;\\n  font-size: 13px;\\n  box-shadow: 0 6px 12px rgba(0,0,0,0.175);\\n  background-clip: padding-box;\\n  border: 1px solid #ddd;\\n  background-color: rgba(255, 255, 255, 0.95);\\n  border-radius: 0;\\n  margin: 0;\\n  text-align: left;\\n}\\n\\n.escher-container #rightMenu {\\n  left: auto;\\n  right: -2%;\\n}\\n\\n.escher-container .menu li:hover {\\n  background-color: #d9230f;\\n  color: #FFFFFF;\\n}\\n\\n.escher-container .menu li, .menu label {\\n  font-size: 15px;\\n  display: block;\\n  color: #444444;\\n\\n  /* these sometimes get overridden */\\n  font-weight: normal !important;\\n  margin: 0 !important;\\n}\\n\\n.escher-container .menu.ul.li {\\n  background-color: rgba(255, 255, 255, 0.95);\\n}\\n\\n.escher-container .menuButton {\\n  box-sizing: border-box;\\n  width: 100%;\\n  padding: 5px 20px;\\n  margin: 0;\\n  cursor: pointer;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container label:focus, .menuButton:focus {\\n  background-color: #d9230f;\\n  color: #FFFFFF;\\n}\\n\\n.escher-container .menuButton:hover {\\n  background-color: #d9230f;\\n  color: #FFFFFF;\\n}\\n\\n.escher-container input[type=\\\"file\\\"] {\\n  display: none;\\n}\\n\\n.escher-container #disabled {\\n  color: #e0e0e0;\\n}\\n\\n.escher-container #disabled:hover, #disabled:focus {\\n  background-color: rgba(255, 255, 255, 0.95);\\n  cursor: default;\\n}\\n\\n.switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 50px;\\n  height: 25px;\\n  vertical-align: middle;\\n}\\n\\n.switch input {\\n  opacity: 0;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #ccc;\\n  transition: .4s;\\n  border-radius: 25px;\\n}\\n\\n.slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 19px;\\n  width: 19px;\\n  left: 3px;\\n  bottom: 3px;\\n  background-color: white;\\n  transition: .4s;\\n  border-radius: 50%;\\n}\\n\\ninput:checked + .slider {\\n  background-color: #d9230f;\\n}\\n\\ninput:checked + .slider:before {\\n  transform: translateX(25px);\\n}\\n\\n.switch-container {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.switch-description {\\n  margin-right: 10px;\\n  font-size: 16px;\\n}\\n\\n/* Tooltip styling */\\n.tooltip {\\n  position: relative;\\n  display: inline-block;\\n}\\n\\n.tooltip .tooltiptext {\\n  visibility: hidden;\\n  width: 120px;\\n  background-color: black;\\n  color: #fff;\\n  text-align: center;\\n  border-radius: 6px;\\n  padding: 5px;\\n  position: absolute;\\n  z-index: 1;\\n  top: 125%; /* Position the tooltip below the switch */\\n  left: 50%;\\n  margin-left: -60px;\\n  opacity: 0;\\n  transition: opacity 0.3s;\\n}\\n\\n.tooltip .tooltiptext::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 100%; /* At the top of the tooltip */\\n  left: 50%;\\n  margin-left: -5px;\\n  border-width: 5px;\\n  border-style: solid;\\n  border-color: transparent transparent black transparent;\\n}\\n\\n.tooltip:hover .tooltiptext {\\n  visibility: visible;\\n  opacity: 1;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .picker {\n  top: 35px;\n  margin-left: -7px;\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .pickerBox {\n  position: absolute;\n  cursor: pointer;\n  background: rgba(0, 0, 0, 0.375);\n  width: 14px;\n  height: 35px;\n  top: -35px\n}\n\n.escher-container .scaleTrack .rightOptions {\n  position: absolute;\n  left: -76px;\n}\n\n.escher-container .pickerOptions {\n  box-shadow: 0 2px 14px #c5c5c5;\n  margin-top: 1px;\n  display: inline-flex;\n  flex-direction: column;\n  width: 90px;\n}\n\n.escher-container .pickerOptions * {\n  font-size: 12px;\n}\n\n.escher-container .pickerOptions .option {\n  padding: 3px 0px;\n}\n\n.escher-container .pickerOptions .typePicker {\n  width: 20px;\n  position: absolute;\n  left: 70px;\n  top: 1px;\n  right: 0px;\n  height: 14px;\n  background-color: rgb(232, 232, 232);\n}\n\n.escher-container .pickerOptions .colorOptions {\n  display: inline-flex;\n}\n\n.escher-container .colorOptions .colorText {\n  padding: 3px 0px;\n  width: 100%;\n}\n\n.escher-container .colorOptions .colorWheel {\n  padding: 0px;\n  position: absolute;\n  right: 0;\n  height: 24px;\n  width: 21px;\n  border: 1px solid black;\n}\n\n.escher-container .picker .trashDiv {\n  position: absolute;\n  top: -56px;\n  font-size: 17px;\n}\n\n.escher-container .picker .trashDiv * {\n  font-size: 17px;\n  cursor: pointer;\n}\n\n.escher-container .picker .icon-trash-empty {\n  margin: -5px;\n}\n\n.escher-container .scaleEditor :disabled {\n  background: #f1ecfa;\n}\n\n.escher-container .scaleEditor input[type=color]:disabled {\n  margin-top: 1px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/Picker.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,SAAS;EACT,iBAAiB;EACjB,kBAAkB;EAClB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,gCAAgC;EAChC,WAAW;EACX,YAAY;EACZ;AACF;;AAEA;EACE,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,8BAA8B;EAC9B,eAAe;EACf,oBAAoB;EACpB,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,UAAU;EACV,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,oCAAoC;AACtC;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,WAAW;EACX,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;AACjB\",\"sourcesContent\":[\".escher-container .picker {\\n  top: 35px;\\n  margin-left: -7px;\\n  position: absolute;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .pickerBox {\\n  position: absolute;\\n  cursor: pointer;\\n  background: rgba(0, 0, 0, 0.375);\\n  width: 14px;\\n  height: 35px;\\n  top: -35px\\n}\\n\\n.escher-container .scaleTrack .rightOptions {\\n  position: absolute;\\n  left: -76px;\\n}\\n\\n.escher-container .pickerOptions {\\n  box-shadow: 0 2px 14px #c5c5c5;\\n  margin-top: 1px;\\n  display: inline-flex;\\n  flex-direction: column;\\n  width: 90px;\\n}\\n\\n.escher-container .pickerOptions * {\\n  font-size: 12px;\\n}\\n\\n.escher-container .pickerOptions .option {\\n  padding: 3px 0px;\\n}\\n\\n.escher-container .pickerOptions .typePicker {\\n  width: 20px;\\n  position: absolute;\\n  left: 70px;\\n  top: 1px;\\n  right: 0px;\\n  height: 14px;\\n  background-color: rgb(232, 232, 232);\\n}\\n\\n.escher-container .pickerOptions .colorOptions {\\n  display: inline-flex;\\n}\\n\\n.escher-container .colorOptions .colorText {\\n  padding: 3px 0px;\\n  width: 100%;\\n}\\n\\n.escher-container .colorOptions .colorWheel {\\n  padding: 0px;\\n  position: absolute;\\n  right: 0;\\n  height: 24px;\\n  width: 21px;\\n  border: 1px solid black;\\n}\\n\\n.escher-container .picker .trashDiv {\\n  position: absolute;\\n  top: -56px;\\n  font-size: 17px;\\n}\\n\\n.escher-container .picker .trashDiv * {\\n  font-size: 17px;\\n  cursor: pointer;\\n}\\n\\n.escher-container .picker .icon-trash-empty {\\n  margin: -5px;\\n}\\n\\n.escher-container .scaleEditor :disabled {\\n  background: #f1ecfa;\\n}\\n\\n.escher-container .scaleEditor input[type=color]:disabled {\\n  margin-top: 1px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .scaleEditor * {\n  font-size: 12px;\n  color: #777;\n  box-sizing: border-box;\n}\n\n.escher-container .scaleEditor {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.escher-container .scaleTrack {\n  position: relative;\n  display: flex;\n  height: 30px;\n  margin-bottom: 9px;\n  margin-top: 30px;\n  margin-left: 55px;\n  font-size: 15px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.escher-container .scaleTrack.disabled {\n  background: #f1ecfa;\n  color: #b19ec0;\n  padding: 4px 0;\n  justify-content: center;\n}\n\n.escher-container .gradient {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.escher-container .scaleLabels {\n  display: inline-flex;\n  flex-direction: column;\n  font-size: 12px;\n}\n\n.escher-container .scaleLabels label {\n  padding: 4px 0;\n}\n\n.escher-container .noDataStyle {\n  position: relative;\n  margin-top: 20px;\n}\n\n.escher-container .noDataStyle .styleHeader {\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.escher-container .noDataStyle label {\n  margin-right: 5px;\n}\n\n.escher-container .noDataStyle input[type=text] {\n  margin-right: 10px;\n  padding: 3px 0px;\n  width: 86px;\n}\n\n.escher-container .noDataStyle input[type=color] {\n  position: absolute;\n  padding: 0px;\n  border: 1px solid black;\n  left: 103px;\n  height: 24px;\n  width: 21px;\n}\n\n.escher-container .scaleEditor .icon-plus {\n  cursor: pointer;\n  position: absolute;\n  font-size: 14px;\n  right: 19px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/ScaleSlider.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;EACf,WAAW;EACX,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,iBAAiB;EACjB,eAAe;EACf,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,cAAc;EACd,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,oBAAoB;EACpB,sBAAsB;EACtB,eAAe;AACjB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,eAAe;EACf,WAAW;AACb\",\"sourcesContent\":[\".escher-container .scaleEditor * {\\n  font-size: 12px;\\n  color: #777;\\n  box-sizing: border-box;\\n}\\n\\n.escher-container .scaleEditor {\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.escher-container .scaleTrack {\\n  position: relative;\\n  display: flex;\\n  height: 30px;\\n  margin-bottom: 9px;\\n  margin-top: 30px;\\n  margin-left: 55px;\\n  font-size: 15px;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n\\n.escher-container .scaleTrack.disabled {\\n  background: #f1ecfa;\\n  color: #b19ec0;\\n  padding: 4px 0;\\n  justify-content: center;\\n}\\n\\n.escher-container .gradient {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  cursor: pointer;\\n}\\n\\n.escher-container .scaleLabels {\\n  display: inline-flex;\\n  flex-direction: column;\\n  font-size: 12px;\\n}\\n\\n.escher-container .scaleLabels label {\\n  padding: 4px 0;\\n}\\n\\n.escher-container .noDataStyle {\\n  position: relative;\\n  margin-top: 20px;\\n}\\n\\n.escher-container .noDataStyle .styleHeader {\\n  font-size: 12px;\\n  font-weight: bold;\\n}\\n\\n.escher-container .noDataStyle label {\\n  margin-right: 5px;\\n}\\n\\n.escher-container .noDataStyle input[type=text] {\\n  margin-right: 10px;\\n  padding: 3px 0px;\\n  width: 86px;\\n}\\n\\n.escher-container .noDataStyle input[type=color] {\\n  position: absolute;\\n  padding: 0px;\\n  border: 1px solid black;\\n  left: 103px;\\n  height: 24px;\\n  width: 21px;\\n}\\n\\n.escher-container .scaleEditor .icon-plus {\\n  cursor: pointer;\\n  position: absolute;\\n  font-size: 14px;\\n  right: 19px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .search-container {\n  display: flex;\n  flex-direction: row;\n  background-color: rgba(255, 255, 255, 0.95);\n  padding: 3px;\n  border: 1px solid #DDD;\n}\n\n.escher-container .search-container .search-field {\n  flex: 0 0 auto;\n  color: #777;\n  border: 1px solid #DDD;\n  width: 114px;\n  height: 29px;\n  border-radius: 3px;\n  font-size: 13px;\n}\n\n.escher-container .search-container .search-counter {\n  flex: 1;\n  color: #777;\n  font-size: 13px;\n  padding: 9px 0 0 6px;\n}\n\n.escher-container .search-container .search-bar-button {\n  flex: 0 0 auto;\n  border-radius: 4px;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 14px;\n  font-weight: 400;\n  height: 29px;\n  width: 34px;\n  margin: 3px;\n}\n\n.escher-container .search-container .search-bar-button.left {\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n  margin-right: 0;\n}\n\n.escher-container .search-container .search-bar-button.right {\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n  margin-left: 0;\n}\n\n.escher-container .search-container .search-bar-button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/SearchBar.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,2CAA2C;EAC3C,YAAY;EACZ,sBAAsB;AACxB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,sBAAsB;EACtB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,OAAO;EACP,WAAW;EACX,eAAe;EACf,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;EACf,gBAAgB;EAChB,YAAY;EACZ,WAAW;EACX,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,+BAA+B;EAC/B,eAAe;AACjB;;AAEA;EACE,2BAA2B;EAC3B,8BAA8B;EAC9B,cAAc;AAChB;;AAEA;EACE,+DAA+D;AACjE\",\"sourcesContent\":[\".escher-container .search-container {\\n  display: flex;\\n  flex-direction: row;\\n  background-color: rgba(255, 255, 255, 0.95);\\n  padding: 3px;\\n  border: 1px solid #DDD;\\n}\\n\\n.escher-container .search-container .search-field {\\n  flex: 0 0 auto;\\n  color: #777;\\n  border: 1px solid #DDD;\\n  width: 114px;\\n  height: 29px;\\n  border-radius: 3px;\\n  font-size: 13px;\\n}\\n\\n.escher-container .search-container .search-counter {\\n  flex: 1;\\n  color: #777;\\n  font-size: 13px;\\n  padding: 9px 0 0 6px;\\n}\\n\\n.escher-container .search-container .search-bar-button {\\n  flex: 0 0 auto;\\n  border-radius: 4px;\\n  text-align: center;\\n  vertical-align: middle;\\n  font-size: 14px;\\n  font-weight: 400;\\n  height: 29px;\\n  width: 34px;\\n  margin: 3px;\\n}\\n\\n.escher-container .search-container .search-bar-button.left {\\n  border-top-right-radius: 0px;\\n  border-bottom-right-radius: 0px;\\n  margin-right: 0;\\n}\\n\\n.escher-container .search-container .search-bar-button.right {\\n  border-top-left-radius: 0px;\\n  border-bottom-left-radius: 0px;\\n  margin-left: 0;\\n}\\n\\n.escher-container .search-container .search-bar-button:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.escher-container .settingsBackground {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9;\n  background: rgba(0,0,0,.4);\n  padding: 5% 0 80px;\n  text-align: center;\n}\n\n.escher-container .scale-editor .domain-input {\n  color: #333;\n}\n\n.escher-container .settingsBoxContainer button {\n  position: absolute;\n  top: 5px;\n  right: 20px;\n  z-index: 10;\n  text-align: center;\n  vertical-align: middle;\n  font-weight: normal!important;\n  width: 34px;\n  height: 30px;\n  margin: 0;\n  padding: unset;\n  font-size: 14px!important;\n  border-radius: 3px;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n.escher-container .settingsBoxContainer button:active {\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\n}\n\n.escher-container .settingsBoxContainer .discardChanges {\n  right: 60px;\n}\n\n.escher-container .settingsBoxContainer {\n  color: rgb(119, 119, 119);\n  display: inline-block;\n  position: relative;\n  width: 90%;\n  max-width: 520px;\n  height: 100%;\n  z-index: 10;\n}\n\n.escher-container .settingsBox {\n  font-size: 13px;\n  box-sizing: border-box;\n  display: inline-block;\n  max-height: 100%;\n  width: 100%;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  background: rgba(255, 255, 255, 0.953);\n  padding: 8px;\n  margin: 0;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\n.escher-container .settingsBox * {\n  box-sizing: border-box;\n}\n\n.escher-container .settingsBox .title {\n  font-size: 17px;\n  font-weight: 700;\n  color: #777777;\n}\n\n.escher-container .settingsBox .subheading {\n  font-size: 13px;\n  font-weight: 700;\n  margin-top: 15px;\n  color: #777777;\n}\n\n.escher-container .settingsBox table {\n  border-collapse: collapse;\n}\n\n.escher-container .settingsBox label {\n  display: inline;\n}\n\n.escher-container .settingsBox .radioSelection {\n  cursor: default;\n}\n\n.escher-container .radioSelection td {\n  padding: 3px 5px;\n}\n\n.escher-container .radioSelection input[type=radio] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .radioSelection .optionLabel {\n  width: 88px;\n}\n\n.escher-container .radioSelection .optionLabelWide {\n  width: 192px;\n}\n\n.escher-container .radioSelection .optionGroup {\n  margin-right: 10px\n}\n\n.escher-container .settingsBox .singleLine {\n  display: flex;\n}\n\n.escher-container .settingsContainer label {\n  display: block;\n  margin-bottom: 0;\n}\n\n.escher-container .settingsBoxContainer input[type=checkbox] {\n  margin: 0;\n  margin-top: 4px;\n  margin-right: 4px;\n}\n\n.escher-container .settingsTip {\n  font-size: 13px;\n}\n\n.escher-container .settingsBoxContainer hr {\n  margin: 18px 0;\n  border: 0;\n  border-top: 1px solid #dddddd;\n}\n\n.escher-container .scaleTitle {\n  margin-top: 15px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .selector {\n  position: relative;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  padding-top: 2px;\n}\n\n.escher-container .selectorTitle {\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  padding-left: 4px;\n  cursor: default;\n  width: 162px;\n}\n\n.escher-container .selectorTitle:hover:not(.disabled) {\n  border-color: black;\n}\n\n.escher-container .selectorTitle.disabled {\n  background-color: #f1ecfa;\n}\n\n.escher-container .selectorMenu {\n  position: absolute;\n  z-index: 4;\n  background-color: white;\n  border: 1px solid #a9a9a9;\n  min-width: 162px;\n}\n\n.escher-container .scaleSelection {\n  cursor: default;\n  padding: 0 6px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.escher-container .scaleSelection:hover {\n  background-color: dodgerblue;\n  color: white;\n}\n\n.escher-container .settingsBox .icon-sort-down {\n  position: absolute;\n  top: 0;\n}\n\n.escher-container .settingsBox .tooltipOption {\n  margin-left: 10px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/SettingsMenu.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,UAAU;EACV,0BAA0B;EAC1B,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,WAAW;EACX,kBAAkB;EAClB,sBAAsB;EACtB,6BAA6B;EAC7B,WAAW;EACX,YAAY;EACZ,SAAS;EACT,cAAc;EACd,yBAAyB;EACzB,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,+DAA+D;AACjE;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,yBAAyB;EACzB,qBAAqB;EACrB,kBAAkB;EAClB,UAAU;EACV,gBAAgB;EAChB,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,eAAe;EACf,sBAAsB;EACtB,qBAAqB;EACrB,gBAAgB;EAChB,WAAW;EACX,kBAAkB;EAClB,kBAAkB;EAClB,sCAAsC;EACtC,YAAY;EACZ,SAAS;EACT,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,YAAY;AACd;;AAEA;EACE;AACF;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,SAAS;EACT,6BAA6B;AAC/B;;AAEA;EACE,gBAAgB;EAChB,aAAa;EACb,8BAA8B;AAChC;;AAEA;EACE,kBAAkB;EAClB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,uBAAuB;EACvB,yBAAyB;EACzB,iBAAiB;EACjB,eAAe;EACf,YAAY;AACd;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,uBAAuB;EACvB,yBAAyB;EACzB,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,cAAc;EACd,aAAa;EACb,8BAA8B;AAChC;;AAEA;EACE,4BAA4B;EAC5B,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,MAAM;AACR;;AAEA;EACE,iBAAiB;AACnB\",\"sourcesContent\":[\".escher-container .settingsBackground {\\n  box-sizing: border-box;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 9;\\n  background: rgba(0,0,0,.4);\\n  padding: 5% 0 80px;\\n  text-align: center;\\n}\\n\\n.escher-container .scale-editor .domain-input {\\n  color: #333;\\n}\\n\\n.escher-container .settingsBoxContainer button {\\n  position: absolute;\\n  top: 5px;\\n  right: 20px;\\n  z-index: 10;\\n  text-align: center;\\n  vertical-align: middle;\\n  font-weight: normal!important;\\n  width: 34px;\\n  height: 30px;\\n  margin: 0;\\n  padding: unset;\\n  font-size: 14px!important;\\n  border-radius: 3px;\\n  -ms-touch-action: none;\\n  touch-action: none;\\n}\\n\\n.escher-container .settingsBoxContainer button:active {\\n  background-image: linear-gradient(#3F4141, #474949 6%, #4F5151);\\n}\\n\\n.escher-container .settingsBoxContainer .discardChanges {\\n  right: 60px;\\n}\\n\\n.escher-container .settingsBoxContainer {\\n  color: rgb(119, 119, 119);\\n  display: inline-block;\\n  position: relative;\\n  width: 90%;\\n  max-width: 520px;\\n  height: 100%;\\n  z-index: 10;\\n}\\n\\n.escher-container .settingsBox {\\n  font-size: 13px;\\n  box-sizing: border-box;\\n  display: inline-block;\\n  max-height: 100%;\\n  width: 100%;\\n  overflow-y: scroll;\\n  overflow-x: hidden;\\n  background: rgba(255, 255, 255, 0.953);\\n  padding: 8px;\\n  margin: 0;\\n  border: 1px solid #ddd;\\n  text-align: left;\\n}\\n\\n.escher-container .settingsBox * {\\n  box-sizing: border-box;\\n}\\n\\n.escher-container .settingsBox .title {\\n  font-size: 17px;\\n  font-weight: 700;\\n  color: #777777;\\n}\\n\\n.escher-container .settingsBox .subheading {\\n  font-size: 13px;\\n  font-weight: 700;\\n  margin-top: 15px;\\n  color: #777777;\\n}\\n\\n.escher-container .settingsBox table {\\n  border-collapse: collapse;\\n}\\n\\n.escher-container .settingsBox label {\\n  display: inline;\\n}\\n\\n.escher-container .settingsBox .radioSelection {\\n  cursor: default;\\n}\\n\\n.escher-container .radioSelection td {\\n  padding: 3px 5px;\\n}\\n\\n.escher-container .radioSelection input[type=radio] {\\n  margin: 0;\\n  margin-top: 4px;\\n  margin-right: 4px;\\n}\\n\\n.escher-container .radioSelection .optionLabel {\\n  width: 88px;\\n}\\n\\n.escher-container .radioSelection .optionLabelWide {\\n  width: 192px;\\n}\\n\\n.escher-container .radioSelection .optionGroup {\\n  margin-right: 10px\\n}\\n\\n.escher-container .settingsBox .singleLine {\\n  display: flex;\\n}\\n\\n.escher-container .settingsContainer label {\\n  display: block;\\n  margin-bottom: 0;\\n}\\n\\n.escher-container .settingsBoxContainer input[type=checkbox] {\\n  margin: 0;\\n  margin-top: 4px;\\n  margin-right: 4px;\\n}\\n\\n.escher-container .settingsTip {\\n  font-size: 13px;\\n}\\n\\n.escher-container .settingsBoxContainer hr {\\n  margin: 18px 0;\\n  border: 0;\\n  border-top: 1px solid #dddddd;\\n}\\n\\n.escher-container .scaleTitle {\\n  margin-top: 15px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.escher-container .selector {\\n  position: relative;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  padding-top: 2px;\\n}\\n\\n.escher-container .selectorTitle {\\n  background-color: white;\\n  border: 1px solid #a9a9a9;\\n  padding-left: 4px;\\n  cursor: default;\\n  width: 162px;\\n}\\n\\n.escher-container .selectorTitle:hover:not(.disabled) {\\n  border-color: black;\\n}\\n\\n.escher-container .selectorTitle.disabled {\\n  background-color: #f1ecfa;\\n}\\n\\n.escher-container .selectorMenu {\\n  position: absolute;\\n  z-index: 4;\\n  background-color: white;\\n  border: 1px solid #a9a9a9;\\n  min-width: 162px;\\n}\\n\\n.escher-container .scaleSelection {\\n  cursor: default;\\n  padding: 0 6px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.escher-container .scaleSelection:hover {\\n  background-color: dodgerblue;\\n  color: white;\\n}\\n\\n.escher-container .settingsBox .icon-sort-down {\\n  position: absolute;\\n  top: 0;\\n}\\n\\n.escher-container .settingsBox .tooltipOption {\\n  margin-left: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n//# sourceMappingURL=gif.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifiable(obj) {\n    // Safely stringify Object.create(null)\n    /* istanbul ignore next */\n    return typeof obj === 'object' && !('toString' in obj) ?\n        Object.prototype.toString.call(obj).slice(8, -1) :\n        obj;\n}\nvar isProduction = typeof process === 'object' && process.env.NODE_ENV === 'production';\nfunction invariant(condition, message) {\n    if (!condition) {\n        /* istanbul ignore next */\n        if (isProduction) {\n            throw new Error('Invariant failed');\n        }\n        throw new Error(message());\n    }\n}\nexports.invariant = invariant;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\nvar toString = Object.prototype.toString;\nfunction type(obj) {\n    return toString.call(obj).slice(8, -1);\n}\nvar assign = Object.assign || /* istanbul ignore next */ (function (target, source) {\n    getAllKeys(source).forEach(function (key) {\n        if (hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    });\n    return target;\n});\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function'\n    ? function (obj) { return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj)); }\n    /* istanbul ignore next */\n    : function (obj) { return Object.keys(obj); };\nfunction copy(object) {\n    return Array.isArray(object)\n        ? assign(object.constructor(object.length), object)\n        : (type(object) === 'Map')\n            ? new Map(object)\n            : (type(object) === 'Set')\n                ? new Set(object)\n                : (object && typeof object === 'object')\n                    ? assign(Object.create(Object.getPrototypeOf(object)), object)\n                    /* istanbul ignore next */\n                    : object;\n}\nvar Context = /** @class */ (function () {\n    function Context() {\n        this.commands = assign({}, defaultCommands);\n        this.update = this.update.bind(this);\n        // Deprecated: update.extend, update.isEquals and update.newContext\n        this.update.extend = this.extend = this.extend.bind(this);\n        this.update.isEquals = function (x, y) { return x === y; };\n        this.update.newContext = function () { return new Context().update; };\n    }\n    Object.defineProperty(Context.prototype, \"isEquals\", {\n        get: function () {\n            return this.update.isEquals;\n        },\n        set: function (value) {\n            this.update.isEquals = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Context.prototype.extend = function (directive, fn) {\n        this.commands[directive] = fn;\n    };\n    Context.prototype.update = function (object, $spec) {\n        var _this = this;\n        var spec = (typeof $spec === 'function') ? { $apply: $spec } : $spec;\n        if (!(Array.isArray(object) && Array.isArray(spec))) {\n            invariant(!Array.isArray(spec), function () { return \"update(): You provided an invalid spec to update(). The spec may \" +\n                \"not contain an array except as the value of $set, $push, $unshift, \" +\n                \"$splice or any custom command allowing an array value.\"; });\n        }\n        invariant(typeof spec === 'object' && spec !== null, function () { return \"update(): You provided an invalid spec to update(). The spec and \" +\n            \"every included key path must be plain objects containing one of the \" +\n            (\"following commands: \" + Object.keys(_this.commands).join(', ') + \".\"); });\n        var nextObject = object;\n        getAllKeys(spec).forEach(function (key) {\n            if (hasOwnProperty.call(_this.commands, key)) {\n                var objectWasNextObject = object === nextObject;\n                nextObject = _this.commands[key](spec[key], nextObject, spec, object);\n                if (objectWasNextObject && _this.isEquals(nextObject, object)) {\n                    nextObject = object;\n                }\n            }\n            else {\n                var nextValueForKey = type(object) === 'Map'\n                    ? _this.update(object.get(key), spec[key])\n                    : _this.update(object[key], spec[key]);\n                var nextObjectValue = type(nextObject) === 'Map'\n                    ? nextObject.get(key)\n                    : nextObject[key];\n                if (!_this.isEquals(nextValueForKey, nextObjectValue)\n                    || typeof nextValueForKey === 'undefined'\n                        && !hasOwnProperty.call(object, key)) {\n                    if (nextObject === object) {\n                        nextObject = copy(object);\n                    }\n                    if (type(nextObject) === 'Map') {\n                        nextObject.set(key, nextValueForKey);\n                    }\n                    else {\n                        nextObject[key] = nextValueForKey;\n                    }\n                }\n            }\n        });\n        return nextObject;\n    };\n    return Context;\n}());\nexports.Context = Context;\nvar defaultCommands = {\n    $push: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$push');\n        return value.length ? nextObject.concat(value) : nextObject;\n    },\n    $unshift: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$unshift');\n        return value.length ? value.concat(nextObject) : nextObject;\n    },\n    $splice: function (value, nextObject, spec, originalObject) {\n        invariantSplices(nextObject, spec);\n        value.forEach(function (args) {\n            invariantSplice(args);\n            if (nextObject === originalObject && args.length) {\n                nextObject = copy(originalObject);\n            }\n            splice.apply(nextObject, args);\n        });\n        return nextObject;\n    },\n    $set: function (value, _nextObject, spec) {\n        invariantSet(spec);\n        return value;\n    },\n    $toggle: function (targets, nextObject) {\n        invariantSpecArray(targets, '$toggle');\n        var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n        targets.forEach(function (target) {\n            nextObjectCopy[target] = !nextObject[target];\n        });\n        return nextObjectCopy;\n    },\n    $unset: function (value, nextObject, _spec, originalObject) {\n        invariantSpecArray(value, '$unset');\n        value.forEach(function (key) {\n            if (Object.hasOwnProperty.call(nextObject, key)) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                delete nextObject[key];\n            }\n        });\n        return nextObject;\n    },\n    $add: function (values, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$add');\n        invariantSpecArray(values, '$add');\n        if (type(nextObject) === 'Map') {\n            values.forEach(function (_a) {\n                var key = _a[0], value = _a[1];\n                if (nextObject === originalObject && nextObject.get(key) !== value) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.set(key, value);\n            });\n        }\n        else {\n            values.forEach(function (value) {\n                if (nextObject === originalObject && !nextObject.has(value)) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.add(value);\n            });\n        }\n        return nextObject;\n    },\n    $remove: function (value, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$remove');\n        invariantSpecArray(value, '$remove');\n        value.forEach(function (key) {\n            if (nextObject === originalObject && nextObject.has(key)) {\n                nextObject = copy(originalObject);\n            }\n            nextObject.delete(key);\n        });\n        return nextObject;\n    },\n    $merge: function (value, nextObject, _spec, originalObject) {\n        invariantMerge(nextObject, value);\n        getAllKeys(value).forEach(function (key) {\n            if (value[key] !== nextObject[key]) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject[key] = value[key];\n            }\n        });\n        return nextObject;\n    },\n    $apply: function (value, original) {\n        invariantApply(value);\n        return value(original);\n    },\n};\nvar defaultContext = new Context();\nexports.isEquals = defaultContext.update.isEquals;\nexports.extend = defaultContext.extend;\nexports.default = defaultContext.update;\n// @ts-ignore\nexports.default.default = module.exports = assign(exports.default, exports);\n// invariants\nfunction invariantPushAndUnshift(value, spec, command) {\n    invariant(Array.isArray(value), function () { return \"update(): expected target of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(value) + \".\"; });\n    invariantSpecArray(spec[command], command);\n}\nfunction invariantSpecArray(spec, command) {\n    invariant(Array.isArray(spec), function () { return \"update(): expected spec of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(spec) + \". \" +\n        \"Did you forget to wrap your parameter in an array?\"; });\n}\nfunction invariantSplices(value, spec) {\n    invariant(Array.isArray(value), function () { return \"Expected $splice target to be an array; got \" + stringifiable(value); });\n    invariantSplice(spec.$splice);\n}\nfunction invariantSplice(value) {\n    invariant(Array.isArray(value), function () { return \"update(): expected spec of $splice to be an array of arrays; got \" + stringifiable(value) + \". \" +\n        \"Did you forget to wrap your parameters in an array?\"; });\n}\nfunction invariantApply(fn) {\n    invariant(typeof fn === 'function', function () { return \"update(): expected spec of $apply to be a function; got \" + stringifiable(fn) + \".\"; });\n}\nfunction invariantSet(spec) {\n    invariant(Object.keys(spec).length === 1, function () { return \"Cannot have more than one key in an object with $set\"; });\n}\nfunction invariantMerge(target, specValue) {\n    invariant(specValue && typeof specValue === 'object', function () { return \"update(): $merge expects a spec of type 'object'; got \" + stringifiable(specValue); });\n    invariant(target && typeof target === 'object', function () { return \"update(): $merge expects a target of type 'object'; got \" + stringifiable(target); });\n}\nfunction invariantMapOrSet(target, command) {\n    var typeOfTarget = type(target);\n    invariant(typeOfTarget === 'Map' || typeOfTarget === 'Set', function () { return \"update(): \" + stringifiable(command) + \" expects a target of type Set or Map; got \" + stringifiable(typeOfTarget); });\n}\n","/*global define:false */\n/**\n * Copyright 2012-2017 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Mousetrap is a simple keyboard shortcut library for Javascript with\n * no external dependencies\n *\n * @version 1.6.5\n * @url craig.is/killing/mice\n */\n(function(window, document, undefined) {\n\n    // Check if mousetrap is used inside browser, if not, return\n    if (!window) {\n        return;\n    }\n\n    /**\n     * mapping of special keycodes to their corresponding keys\n     *\n     * everything in this dictionary cannot use keypress events\n     * so it has to be here to map to the correct keycodes for\n     * keyup/keydown events\n     *\n     * @type {Object}\n     */\n    var _MAP = {\n        8: 'backspace',\n        9: 'tab',\n        13: 'enter',\n        16: 'shift',\n        17: 'ctrl',\n        18: 'alt',\n        20: 'capslock',\n        27: 'esc',\n        32: 'space',\n        33: 'pageup',\n        34: 'pagedown',\n        35: 'end',\n        36: 'home',\n        37: 'left',\n        38: 'up',\n        39: 'right',\n        40: 'down',\n        45: 'ins',\n        46: 'del',\n        91: 'meta',\n        93: 'meta',\n        224: 'meta'\n    };\n\n    /**\n     * mapping for special characters so they can support\n     *\n     * this dictionary is only used incase you want to bind a\n     * keyup or keydown event to one of these keys\n     *\n     * @type {Object}\n     */\n    var _KEYCODE_MAP = {\n        106: '*',\n        107: '+',\n        109: '-',\n        110: '.',\n        111 : '/',\n        186: ';',\n        187: '=',\n        188: ',',\n        189: '-',\n        190: '.',\n        191: '/',\n        192: '`',\n        219: '[',\n        220: '\\\\',\n        221: ']',\n        222: '\\''\n    };\n\n    /**\n     * this is a mapping of keys that require shift on a US keypad\n     * back to the non shift equivelents\n     *\n     * this is so you can use keyup events with these keys\n     *\n     * note that this will only work reliably on US keyboards\n     *\n     * @type {Object}\n     */\n    var _SHIFT_MAP = {\n        '~': '`',\n        '!': '1',\n        '@': '2',\n        '#': '3',\n        '$': '4',\n        '%': '5',\n        '^': '6',\n        '&': '7',\n        '*': '8',\n        '(': '9',\n        ')': '0',\n        '_': '-',\n        '+': '=',\n        ':': ';',\n        '\\\"': '\\'',\n        '<': ',',\n        '>': '.',\n        '?': '/',\n        '|': '\\\\'\n    };\n\n    /**\n     * this is a list of special strings you can use to map\n     * to modifier keys when you specify your keyboard shortcuts\n     *\n     * @type {Object}\n     */\n    var _SPECIAL_ALIASES = {\n        'option': 'alt',\n        'command': 'meta',\n        'return': 'enter',\n        'escape': 'esc',\n        'plus': '+',\n        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'\n    };\n\n    /**\n     * variable to store the flipped version of _MAP from above\n     * needed to check if we should use keypress or not when no action\n     * is specified\n     *\n     * @type {Object|undefined}\n     */\n    var _REVERSE_MAP;\n\n    /**\n     * loop through the f keys, f1 to f19 and add them to the map\n     * programatically\n     */\n    for (var i = 1; i < 20; ++i) {\n        _MAP[111 + i] = 'f' + i;\n    }\n\n    /**\n     * loop through to map numbers on the numeric keypad\n     */\n    for (i = 0; i <= 9; ++i) {\n\n        // This needs to use a string cause otherwise since 0 is falsey\n        // mousetrap will never fire for numpad 0 pressed as part of a keydown\n        // event.\n        //\n        // @see https://github.com/ccampbell/mousetrap/pull/258\n        _MAP[i + 96] = i.toString();\n    }\n\n    /**\n     * cross browser add event method\n     *\n     * @param {Element|HTMLDocument} object\n     * @param {string} type\n     * @param {Function} callback\n     * @returns void\n     */\n    function _addEvent(object, type, callback) {\n        if (object.addEventListener) {\n            object.addEventListener(type, callback, false);\n            return;\n        }\n\n        object.attachEvent('on' + type, callback);\n    }\n\n    /**\n     * takes the event and returns the key character\n     *\n     * @param {Event} e\n     * @return {string}\n     */\n    function _characterFromEvent(e) {\n\n        // for keypress events we should return the character as is\n        if (e.type == 'keypress') {\n            var character = String.fromCharCode(e.which);\n\n            // if the shift key is not pressed then it is safe to assume\n            // that we want the character to be lowercase.  this means if\n            // you accidentally have caps lock on then your key bindings\n            // will continue to work\n            //\n            // the only side effect that might not be desired is if you\n            // bind something like 'A' cause you want to trigger an\n            // event when capital A is pressed caps lock will no longer\n            // trigger the event.  shift+a will though.\n            if (!e.shiftKey) {\n                character = character.toLowerCase();\n            }\n\n            return character;\n        }\n\n        // for non keypress events the special maps are needed\n        if (_MAP[e.which]) {\n            return _MAP[e.which];\n        }\n\n        if (_KEYCODE_MAP[e.which]) {\n            return _KEYCODE_MAP[e.which];\n        }\n\n        // if it is not in the special map\n\n        // with keydown and keyup events the character seems to always\n        // come in as an uppercase character whether you are pressing shift\n        // or not.  we should make sure it is always lowercase for comparisons\n        return String.fromCharCode(e.which).toLowerCase();\n    }\n\n    /**\n     * checks if two arrays are equal\n     *\n     * @param {Array} modifiers1\n     * @param {Array} modifiers2\n     * @returns {boolean}\n     */\n    function _modifiersMatch(modifiers1, modifiers2) {\n        return modifiers1.sort().join(',') === modifiers2.sort().join(',');\n    }\n\n    /**\n     * takes a key event and figures out what the modifiers are\n     *\n     * @param {Event} e\n     * @returns {Array}\n     */\n    function _eventModifiers(e) {\n        var modifiers = [];\n\n        if (e.shiftKey) {\n            modifiers.push('shift');\n        }\n\n        if (e.altKey) {\n            modifiers.push('alt');\n        }\n\n        if (e.ctrlKey) {\n            modifiers.push('ctrl');\n        }\n\n        if (e.metaKey) {\n            modifiers.push('meta');\n        }\n\n        return modifiers;\n    }\n\n    /**\n     * prevents default for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _preventDefault(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n            return;\n        }\n\n        e.returnValue = false;\n    }\n\n    /**\n     * stops propogation for this event\n     *\n     * @param {Event} e\n     * @returns void\n     */\n    function _stopPropagation(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n            return;\n        }\n\n        e.cancelBubble = true;\n    }\n\n    /**\n     * determines if the keycode specified is a modifier key or not\n     *\n     * @param {string} key\n     * @returns {boolean}\n     */\n    function _isModifier(key) {\n        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';\n    }\n\n    /**\n     * reverses the map lookup so that we can look for specific keys\n     * to see what can and can't use keypress\n     *\n     * @return {Object}\n     */\n    function _getReverseMap() {\n        if (!_REVERSE_MAP) {\n            _REVERSE_MAP = {};\n            for (var key in _MAP) {\n\n                // pull out the numeric keypad from here cause keypress should\n                // be able to detect the keys from the character\n                if (key > 95 && key < 112) {\n                    continue;\n                }\n\n                if (_MAP.hasOwnProperty(key)) {\n                    _REVERSE_MAP[_MAP[key]] = key;\n                }\n            }\n        }\n        return _REVERSE_MAP;\n    }\n\n    /**\n     * picks the best action based on the key combination\n     *\n     * @param {string} key - character for key\n     * @param {Array} modifiers\n     * @param {string=} action passed in\n     */\n    function _pickBestAction(key, modifiers, action) {\n\n        // if no action was picked in we should try to pick the one\n        // that we think would work best for this key\n        if (!action) {\n            action = _getReverseMap()[key] ? 'keydown' : 'keypress';\n        }\n\n        // modifier keys don't work as expected with keypress,\n        // switch to keydown\n        if (action == 'keypress' && modifiers.length) {\n            action = 'keydown';\n        }\n\n        return action;\n    }\n\n    /**\n     * Converts from a string key combination to an array\n     *\n     * @param  {string} combination like \"command+shift+l\"\n     * @return {Array}\n     */\n    function _keysFromString(combination) {\n        if (combination === '+') {\n            return ['+'];\n        }\n\n        combination = combination.replace(/\\+{2}/g, '+plus');\n        return combination.split('+');\n    }\n\n    /**\n     * Gets info for a specific key combination\n     *\n     * @param  {string} combination key combination (\"command+s\" or \"a\" or \"*\")\n     * @param  {string=} action\n     * @returns {Object}\n     */\n    function _getKeyInfo(combination, action) {\n        var keys;\n        var key;\n        var i;\n        var modifiers = [];\n\n        // take the keys from this pattern and figure out what the actual\n        // pattern is all about\n        keys = _keysFromString(combination);\n\n        for (i = 0; i < keys.length; ++i) {\n            key = keys[i];\n\n            // normalize key names\n            if (_SPECIAL_ALIASES[key]) {\n                key = _SPECIAL_ALIASES[key];\n            }\n\n            // if this is not a keypress event then we should\n            // be smart about using shift keys\n            // this will only work for US keyboards however\n            if (action && action != 'keypress' && _SHIFT_MAP[key]) {\n                key = _SHIFT_MAP[key];\n                modifiers.push('shift');\n            }\n\n            // if this key is a modifier then add it to the list of modifiers\n            if (_isModifier(key)) {\n                modifiers.push(key);\n            }\n        }\n\n        // depending on what the key combination is\n        // we will try to pick the best event for it\n        action = _pickBestAction(key, modifiers, action);\n\n        return {\n            key: key,\n            modifiers: modifiers,\n            action: action\n        };\n    }\n\n    function _belongsTo(element, ancestor) {\n        if (element === null || element === document) {\n            return false;\n        }\n\n        if (element === ancestor) {\n            return true;\n        }\n\n        return _belongsTo(element.parentNode, ancestor);\n    }\n\n    function Mousetrap(targetElement) {\n        var self = this;\n\n        targetElement = targetElement || document;\n\n        if (!(self instanceof Mousetrap)) {\n            return new Mousetrap(targetElement);\n        }\n\n        /**\n         * element to attach key events to\n         *\n         * @type {Element}\n         */\n        self.target = targetElement;\n\n        /**\n         * a list of all the callbacks setup via Mousetrap.bind()\n         *\n         * @type {Object}\n         */\n        self._callbacks = {};\n\n        /**\n         * direct map of string combinations to callbacks used for trigger()\n         *\n         * @type {Object}\n         */\n        self._directMap = {};\n\n        /**\n         * keeps track of what level each sequence is at since multiple\n         * sequences can start out with the same sequence\n         *\n         * @type {Object}\n         */\n        var _sequenceLevels = {};\n\n        /**\n         * variable to store the setTimeout call\n         *\n         * @type {null|number}\n         */\n        var _resetTimer;\n\n        /**\n         * temporary state where we will ignore the next keyup\n         *\n         * @type {boolean|string}\n         */\n        var _ignoreNextKeyup = false;\n\n        /**\n         * temporary state where we will ignore the next keypress\n         *\n         * @type {boolean}\n         */\n        var _ignoreNextKeypress = false;\n\n        /**\n         * are we currently inside of a sequence?\n         * type of action (\"keyup\" or \"keydown\" or \"keypress\") or false\n         *\n         * @type {boolean|string}\n         */\n        var _nextExpectedAction = false;\n\n        /**\n         * resets all sequence counters except for the ones passed in\n         *\n         * @param {Object} doNotReset\n         * @returns void\n         */\n        function _resetSequences(doNotReset) {\n            doNotReset = doNotReset || {};\n\n            var activeSequences = false,\n                key;\n\n            for (key in _sequenceLevels) {\n                if (doNotReset[key]) {\n                    activeSequences = true;\n                    continue;\n                }\n                _sequenceLevels[key] = 0;\n            }\n\n            if (!activeSequences) {\n                _nextExpectedAction = false;\n            }\n        }\n\n        /**\n         * finds all callbacks that match based on the keycode, modifiers,\n         * and action\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event|Object} e\n         * @param {string=} sequenceName - name of the sequence we are looking for\n         * @param {string=} combination\n         * @param {number=} level\n         * @returns {Array}\n         */\n        function _getMatches(character, modifiers, e, sequenceName, combination, level) {\n            var i;\n            var callback;\n            var matches = [];\n            var action = e.type;\n\n            // if there are no events related to this keycode\n            if (!self._callbacks[character]) {\n                return [];\n            }\n\n            // if a modifier key is coming up on its own we should allow it\n            if (action == 'keyup' && _isModifier(character)) {\n                modifiers = [character];\n            }\n\n            // loop through all callbacks for the key that was pressed\n            // and see if any of them match\n            for (i = 0; i < self._callbacks[character].length; ++i) {\n                callback = self._callbacks[character][i];\n\n                // if a sequence name is not specified, but this is a sequence at\n                // the wrong level then move onto the next match\n                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {\n                    continue;\n                }\n\n                // if the action we are looking for doesn't match the action we got\n                // then we should keep going\n                if (action != callback.action) {\n                    continue;\n                }\n\n                // if this is a keypress event and the meta key and control key\n                // are not pressed that means that we need to only look at the\n                // character, otherwise check the modifiers as well\n                //\n                // chrome will not fire a keypress if meta or control is down\n                // safari will fire a keypress if meta or meta+shift is down\n                // firefox will fire a keypress if meta or control is down\n                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {\n\n                    // when you bind a combination or sequence a second time it\n                    // should overwrite the first one.  if a sequenceName or\n                    // combination is specified in this call it does just that\n                    //\n                    // @todo make deleting its own method?\n                    var deleteCombo = !sequenceName && callback.combo == combination;\n                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;\n                    if (deleteCombo || deleteSequence) {\n                        self._callbacks[character].splice(i, 1);\n                    }\n\n                    matches.push(callback);\n                }\n            }\n\n            return matches;\n        }\n\n        /**\n         * actually calls the callback function\n         *\n         * if your callback function returns false this will use the jquery\n         * convention - prevent default and stop propogation on the event\n         *\n         * @param {Function} callback\n         * @param {Event} e\n         * @returns void\n         */\n        function _fireCallback(callback, e, combo, sequence) {\n\n            // if this event should not happen stop here\n            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {\n                return;\n            }\n\n            if (callback(e, combo) === false) {\n                _preventDefault(e);\n                _stopPropagation(e);\n            }\n        }\n\n        /**\n         * handles a character key event\n         *\n         * @param {string} character\n         * @param {Array} modifiers\n         * @param {Event} e\n         * @returns void\n         */\n        self._handleKey = function(character, modifiers, e) {\n            var callbacks = _getMatches(character, modifiers, e);\n            var i;\n            var doNotReset = {};\n            var maxLevel = 0;\n            var processedSequenceCallback = false;\n\n            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence\n            for (i = 0; i < callbacks.length; ++i) {\n                if (callbacks[i].seq) {\n                    maxLevel = Math.max(maxLevel, callbacks[i].level);\n                }\n            }\n\n            // loop through matching callbacks for this key event\n            for (i = 0; i < callbacks.length; ++i) {\n\n                // fire for all sequence callbacks\n                // this is because if for example you have multiple sequences\n                // bound such as \"g i\" and \"g t\" they both need to fire the\n                // callback for matching g cause otherwise you can only ever\n                // match the first one\n                if (callbacks[i].seq) {\n\n                    // only fire callbacks for the maxLevel to prevent\n                    // subsequences from also firing\n                    //\n                    // for example 'a option b' should not cause 'option b' to fire\n                    // even though 'option b' is part of the other sequence\n                    //\n                    // any sequences that do not match here will be discarded\n                    // below by the _resetSequences call\n                    if (callbacks[i].level != maxLevel) {\n                        continue;\n                    }\n\n                    processedSequenceCallback = true;\n\n                    // keep a list of which sequences were matches for later\n                    doNotReset[callbacks[i].seq] = 1;\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);\n                    continue;\n                }\n\n                // if there were no sequence matches but we are still here\n                // that means this is a regular match so we should fire that\n                if (!processedSequenceCallback) {\n                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);\n                }\n            }\n\n            // if the key you pressed matches the type of sequence without\n            // being a modifier (ie \"keyup\" or \"keypress\") then we should\n            // reset all sequences that were not matched by this event\n            //\n            // this is so, for example, if you have the sequence \"h a t\" and you\n            // type \"h e a r t\" it does not match.  in this case the \"e\" will\n            // cause the sequence to reset\n            //\n            // modifier keys are ignored because you can have a sequence\n            // that contains modifiers such as \"enter ctrl+space\" and in most\n            // cases the modifier key will be pressed before the next key\n            //\n            // also if you have a sequence such as \"ctrl+b a\" then pressing the\n            // \"b\" key will trigger a \"keypress\" and a \"keydown\"\n            //\n            // the \"keydown\" is expected when there is a modifier, but the\n            // \"keypress\" ends up matching the _nextExpectedAction since it occurs\n            // after and that causes the sequence to reset\n            //\n            // we ignore keypresses in a sequence that directly follow a keydown\n            // for the same character\n            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;\n            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {\n                _resetSequences(doNotReset);\n            }\n\n            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';\n        };\n\n        /**\n         * handles a keydown event\n         *\n         * @param {Event} e\n         * @returns void\n         */\n        function _handleKeyEvent(e) {\n\n            // normalize e.which for key events\n            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion\n            if (typeof e.which !== 'number') {\n                e.which = e.keyCode;\n            }\n\n            var character = _characterFromEvent(e);\n\n            // no character found then stop\n            if (!character) {\n                return;\n            }\n\n            // need to use === for the character check because the character can be 0\n            if (e.type == 'keyup' && _ignoreNextKeyup === character) {\n                _ignoreNextKeyup = false;\n                return;\n            }\n\n            self.handleKey(character, _eventModifiers(e), e);\n        }\n\n        /**\n         * called to set a 1 second timeout on the specified sequence\n         *\n         * this is so after each key press in the sequence you have 1 second\n         * to press the next key before you have to start over\n         *\n         * @returns void\n         */\n        function _resetSequenceTimer() {\n            clearTimeout(_resetTimer);\n            _resetTimer = setTimeout(_resetSequences, 1000);\n        }\n\n        /**\n         * binds a key sequence to an event\n         *\n         * @param {string} combo - combo specified in bind call\n         * @param {Array} keys\n         * @param {Function} callback\n         * @param {string=} action\n         * @returns void\n         */\n        function _bindSequence(combo, keys, callback, action) {\n\n            // start off by adding a sequence level record for this combination\n            // and setting the level to 0\n            _sequenceLevels[combo] = 0;\n\n            /**\n             * callback to increase the sequence level for this sequence and reset\n             * all other sequences that were active\n             *\n             * @param {string} nextAction\n             * @returns {Function}\n             */\n            function _increaseSequence(nextAction) {\n                return function() {\n                    _nextExpectedAction = nextAction;\n                    ++_sequenceLevels[combo];\n                    _resetSequenceTimer();\n                };\n            }\n\n            /**\n             * wraps the specified callback inside of another function in order\n             * to reset all sequence counters as soon as this sequence is done\n             *\n             * @param {Event} e\n             * @returns void\n             */\n            function _callbackAndReset(e) {\n                _fireCallback(callback, e, combo);\n\n                // we should ignore the next key up if the action is key down\n                // or keypress.  this is so if you finish a sequence and\n                // release the key the final key will not trigger a keyup\n                if (action !== 'keyup') {\n                    _ignoreNextKeyup = _characterFromEvent(e);\n                }\n\n                // weird race condition if a sequence ends with the key\n                // another sequence begins with\n                setTimeout(_resetSequences, 10);\n            }\n\n            // loop through keys one at a time and bind the appropriate callback\n            // function.  for any key leading up to the final one it should\n            // increase the sequence. after the final, it should reset all sequences\n            //\n            // if an action is specified in the original bind call then that will\n            // be used throughout.  otherwise we will pass the action that the\n            // next key in the sequence should match.  this allows a sequence\n            // to mix and match keypress and keydown events depending on which\n            // ones are better suited to the key provided\n            for (var i = 0; i < keys.length; ++i) {\n                var isFinal = i + 1 === keys.length;\n                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);\n                _bindSingle(keys[i], wrappedCallback, action, combo, i);\n            }\n        }\n\n        /**\n         * binds a single keyboard combination\n         *\n         * @param {string} combination\n         * @param {Function} callback\n         * @param {string=} action\n         * @param {string=} sequenceName - name of sequence if part of sequence\n         * @param {number=} level - what part of the sequence the command is\n         * @returns void\n         */\n        function _bindSingle(combination, callback, action, sequenceName, level) {\n\n            // store a direct mapped reference for use with Mousetrap.trigger\n            self._directMap[combination + ':' + action] = callback;\n\n            // make sure multiple spaces in a row become a single space\n            combination = combination.replace(/\\s+/g, ' ');\n\n            var sequence = combination.split(' ');\n            var info;\n\n            // if this pattern is a sequence of keys then run through this method\n            // to reprocess each pattern one key at a time\n            if (sequence.length > 1) {\n                _bindSequence(combination, sequence, callback, action);\n                return;\n            }\n\n            info = _getKeyInfo(combination, action);\n\n            // make sure to initialize array if this is the first time\n            // a callback is added for this key\n            self._callbacks[info.key] = self._callbacks[info.key] || [];\n\n            // remove an existing match if there is one\n            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);\n\n            // add this call back to the array\n            // if it is a sequence put it at the beginning\n            // if not put it at the end\n            //\n            // this is important because the way these are processed expects\n            // the sequence ones to come first\n            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({\n                callback: callback,\n                modifiers: info.modifiers,\n                action: info.action,\n                seq: sequenceName,\n                level: level,\n                combo: combination\n            });\n        }\n\n        /**\n         * binds multiple combinations to the same callback\n         *\n         * @param {Array} combinations\n         * @param {Function} callback\n         * @param {string|undefined} action\n         * @returns void\n         */\n        self._bindMultiple = function(combinations, callback, action) {\n            for (var i = 0; i < combinations.length; ++i) {\n                _bindSingle(combinations[i], callback, action);\n            }\n        };\n\n        // start!\n        _addEvent(targetElement, 'keypress', _handleKeyEvent);\n        _addEvent(targetElement, 'keydown', _handleKeyEvent);\n        _addEvent(targetElement, 'keyup', _handleKeyEvent);\n    }\n\n    /**\n     * binds an event to mousetrap\n     *\n     * can be a single key, a combination of keys separated with +,\n     * an array of keys, or a sequence of keys separated by spaces\n     *\n     * be sure to list the modifier keys first to make sure that the\n     * correct key ends up getting bound (the last key in the pattern)\n     *\n     * @param {string|Array} keys\n     * @param {Function} callback\n     * @param {string=} action - 'keypress', 'keydown', or 'keyup'\n     * @returns void\n     */\n    Mousetrap.prototype.bind = function(keys, callback, action) {\n        var self = this;\n        keys = keys instanceof Array ? keys : [keys];\n        self._bindMultiple.call(self, keys, callback, action);\n        return self;\n    };\n\n    /**\n     * unbinds an event to mousetrap\n     *\n     * the unbinding sets the callback function of the specified key combo\n     * to an empty function and deletes the corresponding key in the\n     * _directMap dict.\n     *\n     * TODO: actually remove this from the _callbacks dictionary instead\n     * of binding an empty function\n     *\n     * the keycombo+action has to be exactly the same as\n     * it was defined in the bind method\n     *\n     * @param {string|Array} keys\n     * @param {string} action\n     * @returns void\n     */\n    Mousetrap.prototype.unbind = function(keys, action) {\n        var self = this;\n        return self.bind.call(self, keys, function() {}, action);\n    };\n\n    /**\n     * triggers an event that has already been bound\n     *\n     * @param {string} keys\n     * @param {string=} action\n     * @returns void\n     */\n    Mousetrap.prototype.trigger = function(keys, action) {\n        var self = this;\n        if (self._directMap[keys + ':' + action]) {\n            self._directMap[keys + ':' + action]({}, keys);\n        }\n        return self;\n    };\n\n    /**\n     * resets the library back to its initial state.  this is useful\n     * if you want to clear out the current keyboard shortcuts and bind\n     * new ones - for example if you switch to another page\n     *\n     * @returns void\n     */\n    Mousetrap.prototype.reset = function() {\n        var self = this;\n        self._callbacks = {};\n        self._directMap = {};\n        return self;\n    };\n\n    /**\n     * should we stop this event before firing off callbacks\n     *\n     * @param {Event} e\n     * @param {Element} element\n     * @return {boolean}\n     */\n    Mousetrap.prototype.stopCallback = function(e, element) {\n        var self = this;\n\n        // if the element has the class \"mousetrap\" then no need to stop\n        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {\n            return false;\n        }\n\n        if (_belongsTo(element, self.target)) {\n            return false;\n        }\n\n        // Events originating from a shadow DOM are re-targetted and `e.target` is the shadow host,\n        // not the initial event target in the shadow tree. Note that not all events cross the\n        // shadow boundary.\n        // For shadow trees with `mode: 'open'`, the initial event target is the first element in\n        // the event’s composed path. For shadow trees with `mode: 'closed'`, the initial event\n        // target cannot be obtained.\n        if ('composedPath' in e && typeof e.composedPath === 'function') {\n            // For open shadow trees, update `element` so that the following check works.\n            var initialEventTarget = e.composedPath()[0];\n            if (initialEventTarget !== e.target) {\n                element = initialEventTarget;\n            }\n        }\n\n        // stop for input, select, and textarea\n        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;\n    };\n\n    /**\n     * exposes _handleKey publicly so it can be overwritten by extensions\n     */\n    Mousetrap.prototype.handleKey = function() {\n        var self = this;\n        return self._handleKey.apply(self, arguments);\n    };\n\n    /**\n     * allow custom key mappings\n     */\n    Mousetrap.addKeycodes = function(object) {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                _MAP[key] = object[key];\n            }\n        }\n        _REVERSE_MAP = null;\n    };\n\n    /**\n     * Init the global mousetrap functions\n     *\n     * This method is needed to allow the global mousetrap functions to work\n     * now that mousetrap is a constructor function.\n     */\n    Mousetrap.init = function() {\n        var documentMousetrap = Mousetrap(document);\n        for (var method in documentMousetrap) {\n            if (method.charAt(0) !== '_') {\n                Mousetrap[method] = (function(method) {\n                    return function() {\n                        return documentMousetrap[method].apply(documentMousetrap, arguments);\n                    };\n                } (method));\n            }\n        }\n    };\n\n    Mousetrap.init();\n\n    // expose mousetrap to the global object\n    window.Mousetrap = Mousetrap;\n\n    // expose as a common js module\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Mousetrap;\n    }\n\n    // expose mousetrap as an AMD module\n    if (typeof define === 'function' && define.amd) {\n        define(function() {\n            return Mousetrap;\n        });\n    }\n}) (typeof window !== 'undefined' ? window : null, typeof  window !== 'undefined' ? document : null);\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","/**\r\n* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.\r\n*\r\n* Copyright (c) 2012 Vadim Kiryukhin\r\n* vkiryukhin @ gmail.com\r\n* http://www.eslinstructor.net/vkbeautify/\r\n*\r\n* Dual licensed under the MIT and GPL licenses:\r\n*   http://www.opensource.org/licenses/mit-license.php\r\n*   http://www.gnu.org/licenses/gpl.html\r\n*\r\n*   Pretty print\r\n*\r\n*        vkbeautify.xml(text [,indent_pattern]);\r\n*        vkbeautify.json(text [,indent_pattern]);\r\n*        vkbeautify.css(text [,indent_pattern]);\r\n*        vkbeautify.sql(text [,indent_pattern]);\r\n*\r\n*        @text - String; text to beatufy;\r\n*        @indent_pattern - Integer | String;\r\n*                Integer:  number of white spaces;\r\n*                String:   character string to visualize indentation ( can also be a set of white spaces )\r\n*   Minify\r\n*\r\n*        vkbeautify.xmlmin(text [,preserve_comments]);\r\n*        vkbeautify.jsonmin(text);\r\n*        vkbeautify.cssmin(text [,preserve_comments]);\r\n*        vkbeautify.sqlmin(text);\r\n*\r\n*        @text - String; text to minify;\r\n*        @preserve_comments - Bool; [optional];\r\n*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )\r\n*\r\n*   Examples:\r\n*        vkbeautify.xml(text); // pretty print XML\r\n*        vkbeautify.json(text, 4 ); // pretty print JSON\r\n*        vkbeautify.css(text, '. . . .'); // pretty print CSS\r\n*        vkbeautify.sql(text, '----'); // pretty print SQL\r\n*\r\n*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments\r\n*        vkbeautify.jsonmin(text);// minify JSON\r\n*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )\r\n*        vkbeautify.sqlmin(text);// minify SQL\r\n*\r\n*/\r\nfunction createShiftArr(step) {\r\n\r\n\tvar space = '    ';\r\n\r\n\tif ( isNaN(parseInt(step)) ) {  // argument is string\r\n\t\tspace = step;\r\n\t} else { // argument is integer\r\n\t\tswitch(step) {\r\n\t\t\tcase 1: space = ' '; break;\r\n\t\t\tcase 2: space = '  '; break;\r\n\t\t\tcase 3: space = '   '; break;\r\n\t\t\tcase 4: space = '    '; break;\r\n\t\t\tcase 5: space = '     '; break;\r\n\t\t\tcase 6: space = '      '; break;\r\n\t\t\tcase 7: space = '       '; break;\r\n\t\t\tcase 8: space = '        '; break;\r\n\t\t\tcase 9: space = '         '; break;\r\n\t\t\tcase 10: space = '          '; break;\r\n\t\t\tcase 11: space = '           '; break;\r\n\t\t\tcase 12: space = '            '; break;\r\n\t\t}\r\n\t}\r\n\r\n\tvar shift = ['\\n']; // array of shifts\r\n\tfor(var ix=0;ix<100;ix++) {\r\n\t\tshift.push(shift[ix]+space);\r\n\t}\r\n\treturn shift;\r\n}\r\n\r\nfunction vkbeautify(){\r\n\tthis.step = '    '; // 4 spaces\r\n\tthis.shift = createShiftArr(this.step);\r\n};\r\n\r\nvkbeautify.prototype.xml = function(text,step) {\r\n\r\n\tvar ar = text.replace(/>\\s{0,}</g,\"><\")\r\n\t\t\t\t .replace(/</g,\"~::~<\")\r\n\t\t\t\t .replace(/\\s*xmlns\\:/g,\"~::~xmlns:\")\r\n\t\t\t\t .replace(/\\s*xmlns\\=/g,\"~::~xmlns=\")\r\n\t\t\t\t .split('~::~'),\r\n\t\tlen = ar.length,\r\n\t\tinComment = false,\r\n\t\tdeep = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\t\t\t// start comment or <![CDATA[...]]> or <!DOCTYPE //\r\n\t\t\tif(ar[ix].search(/<!/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t\tinComment = true;\r\n\t\t\t\t// end comment  or <![CDATA[...]]> //\r\n\t\t\t\tif(ar[ix].search(/-->/) > -1 || ar[ix].search(/\\]>/) > -1 || ar[ix].search(/!DOCTYPE/) > -1 ) {\r\n\t\t\t\t\tinComment = false;\r\n\t\t\t\t}\r\n\t\t\t} else\r\n\t\t\t// end comment  or <![CDATA[...]]> //\r\n\t\t\tif(ar[ix].search(/-->/) > -1 || ar[ix].search(/\\]>/) > -1) {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t\tinComment = false;\r\n\t\t\t} else\r\n\t\t\t// <elm></elm> //\r\n\t\t\tif( /^<\\w/.exec(ar[ix-1]) && /^<\\/\\w/.exec(ar[ix]) &&\r\n\t\t\t\t/^<[\\w:\\-\\.\\,]+/.exec(ar[ix-1]) == /^<\\/[\\w:\\-\\.\\,]+/.exec(ar[ix])[0].replace('/','')) {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t\tif(!inComment) deep--;\r\n\t\t\t} else\r\n\t\t\t // <elm> //\r\n\t\t\tif(ar[ix].search(/<\\w/) > -1 && ar[ix].search(/<\\//) == -1 && ar[ix].search(/\\/>/) == -1 ) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep++]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t // <elm>...</elm> //\r\n\t\t\tif(ar[ix].search(/<\\w/) > -1 && ar[ix].search(/<\\//) > -1) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// </elm> //\r\n\t\t\tif(ar[ix].search(/<\\//) > -1) {\r\n\t\t\t\tstr = !inComment ? str += shift[--deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// <elm/> //\r\n\t\t\tif(ar[ix].search(/\\/>/) > -1 ) {\r\n\t\t\t\tstr = !inComment ? str += shift[deep]+ar[ix] : str += ar[ix];\r\n\t\t\t} else\r\n\t\t\t// <? xml ... ?> //\r\n\t\t\tif(ar[ix].search(/<\\?/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\t// xmlns //\r\n\t\t\tif( ar[ix].search(/xmlns\\:/) > -1  || ar[ix].search(/xmlns\\=/) > -1) {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\treturn  (str[0] == '\\n') ? str.slice(1) : str;\r\n}\r\n\r\nvkbeautify.prototype.json = function(text,step) {\r\n\r\n\tvar step = step ? step : this.step;\r\n\r\n\tif (typeof JSON === 'undefined' ) return text;\r\n\r\n\tif ( typeof text === \"string\" ) return JSON.stringify(JSON.parse(text), null, step);\r\n\tif ( typeof text === \"object\" ) return JSON.stringify(text, null, step);\r\n\r\n\treturn text; // text is not string nor object\r\n}\r\n\r\nvkbeautify.prototype.css = function(text, step) {\r\n\r\n\tvar ar = text.replace(/\\s{1,}/g,' ')\r\n\t\t\t\t.replace(/\\{/g,\"{~::~\")\r\n\t\t\t\t.replace(/\\}/g,\"~::~}~::~\")\r\n\t\t\t\t.replace(/\\;/g,\";~::~\")\r\n\t\t\t\t.replace(/\\/\\*/g,\"~::~/*\")\r\n\t\t\t\t.replace(/\\*\\//g,\"*/~::~\")\r\n\t\t\t\t.replace(/~::~\\s{0,}~::~/g,\"~::~\")\r\n\t\t\t\t.split('~::~'),\r\n\t\tlen = ar.length,\r\n\t\tdeep = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\r\n\t\t\tif( /\\{/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[deep++]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\}/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[--deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\*\\\\/.exec(ar[ix]))  {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn str.replace(/^\\n{1,}/,'');\r\n}\r\n\r\n//----------------------------------------------------------------------------\r\n\r\nfunction isSubquery(str, parenthesisLevel) {\r\n\treturn  parenthesisLevel - (str.replace(/\\(/g,'').length - str.replace(/\\)/g,'').length )\r\n}\r\n\r\nfunction split_sql(str, tab) {\r\n\r\n\treturn str.replace(/\\s{1,}/g,\" \")\r\n\r\n\t\t\t\t.replace(/ AND /ig,\"~::~\"+tab+tab+\"AND \")\r\n\t\t\t\t.replace(/ BETWEEN /ig,\"~::~\"+tab+\"BETWEEN \")\r\n\t\t\t\t.replace(/ CASE /ig,\"~::~\"+tab+\"CASE \")\r\n\t\t\t\t.replace(/ ELSE /ig,\"~::~\"+tab+\"ELSE \")\r\n\t\t\t\t.replace(/ END /ig,\"~::~\"+tab+\"END \")\r\n\t\t\t\t.replace(/ FROM /ig,\"~::~FROM \")\r\n\t\t\t\t.replace(/ GROUP\\s{1,}BY/ig,\"~::~GROUP BY \")\r\n\t\t\t\t.replace(/ HAVING /ig,\"~::~HAVING \")\r\n\t\t\t\t//.replace(/ SET /ig,\" SET~::~\")\r\n\t\t\t\t.replace(/ IN /ig,\" IN \")\r\n\r\n\t\t\t\t.replace(/ JOIN /ig,\"~::~JOIN \")\r\n\t\t\t\t.replace(/ CROSS~::~{1,}JOIN /ig,\"~::~CROSS JOIN \")\r\n\t\t\t\t.replace(/ INNER~::~{1,}JOIN /ig,\"~::~INNER JOIN \")\r\n\t\t\t\t.replace(/ LEFT~::~{1,}JOIN /ig,\"~::~LEFT JOIN \")\r\n\t\t\t\t.replace(/ RIGHT~::~{1,}JOIN /ig,\"~::~RIGHT JOIN \")\r\n\r\n\t\t\t\t.replace(/ ON /ig,\"~::~\"+tab+\"ON \")\r\n\t\t\t\t.replace(/ OR /ig,\"~::~\"+tab+tab+\"OR \")\r\n\t\t\t\t.replace(/ ORDER\\s{1,}BY/ig,\"~::~ORDER BY \")\r\n\t\t\t\t.replace(/ OVER /ig,\"~::~\"+tab+\"OVER \")\r\n\r\n\t\t\t\t.replace(/\\(\\s{0,}SELECT /ig,\"~::~(SELECT \")\r\n\t\t\t\t.replace(/\\)\\s{0,}SELECT /ig,\")~::~SELECT \")\r\n\r\n\t\t\t\t.replace(/ THEN /ig,\" THEN~::~\"+tab+\"\")\r\n\t\t\t\t.replace(/ UNION /ig,\"~::~UNION~::~\")\r\n\t\t\t\t.replace(/ USING /ig,\"~::~USING \")\r\n\t\t\t\t.replace(/ WHEN /ig,\"~::~\"+tab+\"WHEN \")\r\n\t\t\t\t.replace(/ WHERE /ig,\"~::~WHERE \")\r\n\t\t\t\t.replace(/ WITH /ig,\"~::~WITH \")\r\n\r\n\t\t\t\t//.replace(/\\,\\s{0,}\\(/ig,\",~::~( \")\r\n\t\t\t\t//.replace(/\\,/ig,\",~::~\"+tab+tab+\"\")\r\n\r\n\t\t\t\t.replace(/ ALL /ig,\" ALL \")\r\n\t\t\t\t.replace(/ AS /ig,\" AS \")\r\n\t\t\t\t.replace(/ ASC /ig,\" ASC \")\r\n\t\t\t\t.replace(/ DESC /ig,\" DESC \")\r\n\t\t\t\t.replace(/ DISTINCT /ig,\" DISTINCT \")\r\n\t\t\t\t.replace(/ EXISTS /ig,\" EXISTS \")\r\n\t\t\t\t.replace(/ NOT /ig,\" NOT \")\r\n\t\t\t\t.replace(/ NULL /ig,\" NULL \")\r\n\t\t\t\t.replace(/ LIKE /ig,\" LIKE \")\r\n\t\t\t\t.replace(/\\s{0,}SELECT /ig,\"SELECT \")\r\n\t\t\t\t.replace(/\\s{0,}UPDATE /ig,\"UPDATE \")\r\n\t\t\t\t.replace(/ SET /ig,\" SET \")\r\n\r\n\t\t\t\t.replace(/~::~{1,}/g,\"~::~\")\r\n\t\t\t\t.split('~::~');\r\n}\r\n\r\nvkbeautify.prototype.sql = function(text,step) {\r\n\r\n\tvar ar_by_quote = text.replace(/\\s{1,}/g,\" \")\r\n\t\t\t\t\t\t\t.replace(/\\'/ig,\"~::~\\'\")\r\n\t\t\t\t\t\t\t.split('~::~'),\r\n\t\tlen = ar_by_quote.length,\r\n\t\tar = [],\r\n\t\tdeep = 0,\r\n\t\ttab = this.step,//+this.step,\r\n\t\tinComment = true,\r\n\t\tinQuote = false,\r\n\t\tparenthesisLevel = 0,\r\n\t\tstr = '',\r\n\t\tix = 0,\r\n\t\tshift = step ? createShiftArr(step) : this.shift;;\r\n\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\t\t\tif(ix%2) {\r\n\t\t\t\tar = ar.concat(ar_by_quote[ix]);\r\n\t\t\t} else {\r\n\t\t\t\tar = ar.concat(split_sql(ar_by_quote[ix], tab) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlen = ar.length;\r\n\t\tfor(ix=0;ix<len;ix++) {\r\n\r\n\t\t\tparenthesisLevel = isSubquery(ar[ix], parenthesisLevel);\r\n\r\n\t\t\tif( /\\s{0,}\\s{0,}SELECT\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tar[ix] = ar[ix].replace(/\\,/g,\",\\n\"+tab+tab+\"\")\r\n\t\t\t}\r\n\r\n\t\t\tif( /\\s{0,}\\s{0,}SET\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tar[ix] = ar[ix].replace(/\\,/g,\",\\n\"+tab+tab+\"\")\r\n\t\t\t}\r\n\r\n\t\t\tif( /\\s{0,}\\(\\s{0,}SELECT\\s{0,}/.exec(ar[ix]))  {\r\n\t\t\t\tdeep++;\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t} else\r\n\t\t\tif( /\\'/.exec(ar[ix]) )  {\r\n\t\t\t\tif(parenthesisLevel<1 && deep) {\r\n\t\t\t\t\tdeep--;\r\n\t\t\t\t}\r\n\t\t\t\tstr += ar[ix];\r\n\t\t\t}\r\n\t\t\telse  {\r\n\t\t\t\tstr += shift[deep]+ar[ix];\r\n\t\t\t\tif(parenthesisLevel<1 && deep) {\r\n\t\t\t\t\tdeep--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar junk = 0;\r\n\t\t}\r\n\r\n\t\tstr = str.replace(/^\\n{1,}/,'').replace(/\\n{1,}/g,\"\\n\");\r\n\t\treturn str;\r\n}\r\n\r\n\r\nvkbeautify.prototype.xmlmin = function(text, preserveComments) {\r\n\r\n\tvar str = preserveComments ? text\r\n\t\t\t\t\t\t\t   : text.replace(/\\<![ \\r\\n\\t]*(--([^\\-]|[\\r\\n]|-[^\\-])*--[ \\r\\n\\t]*)\\>/g,\"\")\r\n\t\t\t\t\t\t\t\t\t .replace(/[ \\r\\n\\t]{1,}xmlns/g, ' xmlns');\r\n\treturn  str.replace(/>\\s{0,}</g,\"><\");\r\n}\r\n\r\nvkbeautify.prototype.jsonmin = function(text) {\r\n\r\n\tif (typeof JSON === 'undefined' ) return text;\r\n\r\n\treturn JSON.stringify(JSON.parse(text), null, 0);\r\n\r\n}\r\n\r\nvkbeautify.prototype.cssmin = function(text, preserveComments) {\r\n\r\n\tvar str = preserveComments ? text\r\n\t\t\t\t\t\t\t   : text.replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+\\//g,\"\") ;\r\n\r\n\treturn str.replace(/\\s{1,}/g,' ')\r\n\t\t\t  .replace(/\\{\\s{1,}/g,\"{\")\r\n\t\t\t  .replace(/\\}\\s{1,}/g,\"}\")\r\n\t\t\t  .replace(/\\;\\s{1,}/g,\";\")\r\n\t\t\t  .replace(/\\/\\*\\s{1,}/g,\"/*\")\r\n\t\t\t  .replace(/\\*\\/\\s{1,}/g,\"*/\");\r\n}\r\n\r\nvkbeautify.prototype.sqlmin = function(text) {\r\n\treturn text.replace(/\\s{1,}/g,\" \").replace(/\\s{1,}\\(/,\"(\").replace(/\\s{1,}\\)/,\")\");\r\n}\r\n\r\nmodule.exports = new vkbeautify();\r\n","if(typeof __WEBPACK_EXTERNAL_MODULE__51__ === 'undefined') { var e = new Error(\"Cannot find module '@jupyter-widgets/base'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__51__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t929: 0,\n\t511: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","/** DataMenu */\n\nimport utils from './utils';\n\nvar d3_json = require('d3-request').json\n\nexport default function(options) {\n    var o = utils.set_options(options, {\n        selection: null,\n        getdatafiles: null,\n        datafiles: null,\n        update_callback: null,\n        target: null});\n\n    if (o.selection===null)\n        throw new Error('No selection provided for DataMenu');\n\n    // setup dropdown menu\n    // Append menu if it doesn't exist\n    var menu = o.selection.select('.data-menu');\n    if (menu.empty()) {\n        menu = o.selection.append('div')\n            .attr('class','data-menu');\n    }\n    var select_sel = menu.append('form')\n            .append('select').attr('class','dropdown-menu');\n\n    if (o.getdatafiles) {\n        if (o.datafiles) {\n            console.warn('DataMenu: getdatafiles option overrides datafiles');\n        }\n        d3_json(o.getdatafiles, function(error, d) {\n            // returns json object:  { data: [file0, file1, ...] }\n            if (error) {\n                return console.warn(error);\n            } else {\n                load_with_files(o.target, d.data, select_sel, o.update_callback, o.selection);\n            }\n            return null;\n        });\n    } else if (o.datafiles) {\n        load_with_files(o.target, o.datafiles, select_sel, o.update_callback, o.selection);\n    } else {\n        console.warn('DataMenu: No datafiles given');\n    }\n\n    return { update: update };\n\n    // definitions\n    function load_with_files(t, files, select_sel, update_callback, selection) {\n\n        //when it changes\n        select_sel.node().addEventListener(\"change\", function() {\n            load_datafile(t, this.value, selection, update_callback);\n        }, false);\n\n        var file = files[0];\n\n        update(files, select_sel);\n        load_datafile(t, file, selection, update_callback);\n    };\n    function load_datafile(t, this_file, selection, callback) {\n        utils.load_the_file(t, this_file, function(error, data) {\n            if (error) {\n                return console.warn(error);\n                selection.append('error loading');\n                o.data = null;\n            } else {\n                o.data = data;\n                if (callback) {\n                    callback(data);\n                }\n            }\n        });\n    };\n\n    function update(list, select_sel) {\n        // update select element with d3 selection /select_sel/ to have options\n        // given by /list/\n        // TODO remove paths from file list\n        select_sel.selectAll(\".menu-option\")\n            .data(list)\n            .enter()\n            .append('option')\n            .attr('value', function (d) { return d; } )\n            .text(function (d) { return d; } );\n        // TODO set value to default_filename_index\n        select_sel.node().focus();\n    };\n\n    function get_data() {\n        return o.data;\n    };\n};\n","// Returns a function that will only be executed on and after the Nth call.\nexport default function after(times, func) {\n  return function() {\n    if (--times < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n","import _ from './underscore.js';\n\n// Start chaining a wrapped Underscore object.\nexport default function chain(obj) {\n  var instance = _(obj);\n  instance._chain = true;\n  return instance;\n}\n","import { slice } from './_setup.js';\n\n// Chunk a single array into multiple arrays, each containing `count` or fewer\n// items.\nexport default function chunk(array, count) {\n  if (count == null || count < 1) return [];\n  var result = [];\n  var i = 0, length = array.length;\n  while (i < length) {\n    result.push(slice.call(array, i, i += count));\n  }\n  return result;\n}\n","import isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport extend from './extend.js';\n\n// Create a (shallow-cloned) duplicate of an object.\nexport default function clone(obj) {\n  if (!isObject(obj)) return obj;\n  return isArray(obj) ? obj.slice() : extend({}, obj);\n}\n","import filter from './filter.js';\n\n// Trim out all falsy values from an array.\nexport default function compact(array) {\n  return filter(array, Boolean);\n}\n","// Returns a function that is the composition of a list of functions, each\n// consuming the return value of the function that follows.\nexport default function compose() {\n  var args = arguments;\n  var start = args.length - 1;\n  return function() {\n    var i = start;\n    var result = args[start].apply(this, arguments);\n    while (i--) result = args[i].call(this, result);\n    return result;\n  };\n}\n","import baseCreate from './_baseCreate.js';\nimport extendOwn from './extendOwn.js';\n\n// Creates an object that inherits from the given prototype object.\n// If additional properties are provided then they will be added to the\n// created object.\nexport default function create(prototype, props) {\n  var result = baseCreate(prototype);\n  if (props) extendOwn(result, props);\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport now from './now.js';\n\n// When a sequence of calls of the returned function ends, the argument\n// function is triggered. The end of a sequence is defined by the `wait`\n// parameter. If `immediate` is passed, the argument function will be\n// triggered at the beginning of the sequence instead of at the end.\nexport default function debounce(func, wait, immediate) {\n  var timeout, previous, args, result, context;\n\n  var later = function() {\n    var passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      if (!immediate) result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  var debounced = restArguments(function(_args) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n      if (immediate) result = func.apply(context, args);\n    }\n    return result;\n  });\n\n  debounced.cancel = function() {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n}\n","import find from './find.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.find`: getting the first\n// object containing specific `key:value` pairs.\nexport default function findWhere(obj, attrs) {\n  return find(obj, matcher(attrs));\n}\n","import _flatten from './_flatten.js';\n\n// Flatten out an array, either recursively (by default), or up to `depth`.\n// Passing `true` or `false` as `depth` means `1` or `Infinity`, respectively.\nexport default function flatten(array, depth) {\n  return _flatten(array, depth, false);\n}\n","import _has from './_has.js';\nimport toPath from './_toPath.js';\n\n// Shortcut function for checking if an object has a given property directly on\n// itself (in other words, not on a prototype). Unlike the internal `has`\n// function, this public version can also traverse nested properties.\nexport default function has(obj, path) {\n  path = toPath(path);\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    var key = path[i];\n    if (!_has(obj, key)) return false;\n    obj = obj[key];\n  }\n  return !!length;\n}\n","import getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce an array that contains every item shared between all the\n// passed-in arrays.\nexport default function intersection(array) {\n  var result = [];\n  var argsLength = arguments.length;\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var item = array[i];\n    if (contains(result, item)) continue;\n    var j;\n    for (j = 1; j < argsLength; j++) {\n      if (!contains(arguments[j], item)) break;\n    }\n    if (j === argsLength) result.push(item);\n  }\n  return result;\n}\n","// Is a given value a DOM element?\nexport default function isElement(obj) {\n  return !!(obj && obj.nodeType === 1);\n}\n","import getLength from './_getLength.js';\nimport isArray from './isArray.js';\nimport isString from './isString.js';\nimport isArguments from './isArguments.js';\nimport keys from './keys.js';\n\n// Is a given array, string, or object empty?\n// An \"empty\" object has no enumerable own-properties.\nexport default function isEmpty(obj) {\n  if (obj == null) return true;\n  // Skip the more expensive `toString`-based type checks if `obj` has no\n  // `.length`.\n  var length = getLength(obj);\n  if (typeof length == 'number' && (\n    isArray(obj) || isString(obj) || isArguments(obj)\n  )) return length === 0;\n  return getLength(keys(obj)) === 0;\n}\n","import _ from './underscore.js';\nimport { toString, SymbolProto } from './_setup.js';\nimport getByteLength from './_getByteLength.js';\nimport isTypedArray from './isTypedArray.js';\nimport isFunction from './isFunction.js';\nimport { hasDataViewBug }  from './_stringTagBug.js';\nimport isDataView from './isDataView.js';\nimport keys from './keys.js';\nimport has from './_has.js';\nimport toBufferView from './_toBufferView.js';\n\n// We use this string twice, so give it a name for minification.\nvar tagDataView = '[object DataView]';\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction eq(a, b, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](https://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) return a !== 0 || 1 / a === 1 / b;\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) return false;\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) return b !== b;\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n  return deepEq(a, b, aStack, bStack);\n}\n\n// Internal recursive comparison function for `_.isEqual`.\nfunction deepEq(a, b, aStack, bStack) {\n  // Unwrap any wrapped objects.\n  if (a instanceof _) a = a._wrapped;\n  if (b instanceof _) b = b._wrapped;\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) return false;\n  // Work around a bug in IE 10 - Edge 13.\n  if (hasDataViewBug && className == '[object Object]' && isDataView(a)) {\n    if (!isDataView(b)) return false;\n    className = tagDataView;\n  }\n  switch (className) {\n    // These types are compared by value.\n    case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case '[object String]':\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return '' + a === '' + b;\n    case '[object Number]':\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) return +b !== +b;\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case '[object Date]':\n    case '[object Boolean]':\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case '[object Symbol]':\n      return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    case '[object ArrayBuffer]':\n    case tagDataView:\n      // Coerce to typed array so we can fall through.\n      return deepEq(toBufferView(a), toBufferView(b), aStack, bStack);\n  }\n\n  var areArrays = className === '[object Array]';\n  if (!areArrays && isTypedArray(a)) {\n      var byteLength = getByteLength(a);\n      if (byteLength !== getByteLength(b)) return false;\n      if (a.buffer === b.buffer && a.byteOffset === b.byteOffset) return true;\n      areArrays = true;\n  }\n  if (!areArrays) {\n    if (typeof a != 'object' || typeof b != 'object') return false;\n\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor, bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor &&\n                             isFunction(bCtor) && bCtor instanceof bCtor)\n                        && ('constructor' in a && 'constructor' in b)) {\n      return false;\n    }\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) return bStack[length] === b;\n  }\n\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) return false;\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], aStack, bStack)) return false;\n    }\n  } else {\n    // Deep compare objects.\n    var _keys = keys(a), key;\n    length = _keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (keys(b).length !== length) return false;\n    while (length--) {\n      // Deep compare each member\n      key = _keys[length];\n      if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\n\n// Perform a deep comparison to check if two objects are equal.\nexport default function isEqual(a, b) {\n  return eq(a, b);\n}\n","import { _isFinite } from './_setup.js';\nimport isSymbol from './isSymbol.js';\n\n// Is a given object a finite number?\nexport default function isFinite(obj) {\n  return !isSymbol(obj) && _isFinite(obj) && !isNaN(parseFloat(obj));\n}\n","// Is a given value equal to null?\nexport default function isNull(obj) {\n  return obj === null;\n}\n","import rest from './rest.js';\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nexport default function last(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[array.length - 1];\n  return rest(array, Math.max(0, array.length - n));\n}\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the results of applying the `iteratee` to each element of `obj`.\n// In contrast to `_.map` it returns an object.\nexport default function mapObject(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = keys(obj),\n      length = _keys.length,\n      results = {};\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys[index];\n    results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import has from './_has.js';\n\n// Memoize an expensive function by storing its results.\nexport default function memoize(func, hasher) {\n  var memoize = function(key) {\n    var cache = memoize.cache;\n    var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n    if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n    return cache[address];\n  };\n  memoize.cache = {};\n  return memoize;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the minimum element (or element-based computation).\nexport default function min(obj, iteratee, context) {\n  var result = Infinity, lastComputed = Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value < result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed < lastComputed || (computed === Infinity && result === Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import getLength  from './_getLength.js';\n\n// Converts lists into objects. Pass either a single array of `[key, value]`\n// pairs, or two parallel arrays of the same length -- one of keys, and one of\n// the corresponding values. Passing by pairs is the reverse of `_.pairs`.\nexport default function object(list, values) {\n  var result = {};\n  for (var i = 0, length = getLength(list); i < length; i++) {\n    if (values) {\n      result[list[i]] = values[i];\n    } else {\n      result[list[i][0]] = list[i][1];\n    }\n  }\n  return result;\n}\n","import keys from './keys.js';\n\n// Convert an object into a list of `[key, value]` pairs.\n// The opposite of `_.object` with one argument.\nexport default function pairs(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var pairs = Array(length);\n  for (var i = 0; i < length; i++) {\n    pairs[i] = [_keys[i], obj[_keys[i]]];\n  }\n  return pairs;\n}\n","import noop from './noop.js';\nimport get from './get.js';\n\n// Generates a function for a given object that returns a given property.\nexport default function propertyOf(obj) {\n  if (obj == null) return noop;\n  return function(path) {\n    return get(obj, path);\n  };\n}\n","// Generate an integer Array containing an arithmetic progression. A port of\n// the native Python `range()` function. See\n// [the Python documentation](https://docs.python.org/library/functions.html#range).\nexport default function range(start, stop, step) {\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (!step) {\n    step = stop < start ? -1 : 1;\n  }\n\n  var length = Math.max(Math.ceil((stop - start) / step), 0);\n  var range = Array(length);\n\n  for (var idx = 0; idx < length; idx++, start += step) {\n    range[idx] = start;\n  }\n\n  return range;\n}\n","import filter from './filter.js';\nimport negate from './negate.js';\nimport cb from './_cb.js';\n\n// Return all the elements for which a truth test fails.\nexport default function reject(obj, predicate, context) {\n  return filter(obj, negate(cb(predicate)), context);\n}\n","import isFunction from './isFunction.js';\nimport toPath from './_toPath.js';\n\n// Traverses the children of `obj` along `path`. If a child is a function, it\n// is invoked with its parent as context. Returns the value of the final\n// child, or `fallback` if any child is undefined.\nexport default function result(obj, path, fallback) {\n  path = toPath(path);\n  var length = path.length;\n  if (!length) {\n    return isFunction(fallback) ? fallback.call(obj) : fallback;\n  }\n  for (var i = 0; i < length; i++) {\n    var prop = obj == null ? void 0 : obj[path[i]];\n    if (prop === void 0) {\n      prop = fallback;\n      i = length; // Ensure we don't continue iterating.\n    }\n    obj = isFunction(prop) ? prop.call(obj) : prop;\n  }\n  return obj;\n}\n","import sample from './sample.js';\n\n// Shuffle a collection.\nexport default function shuffle(obj) {\n  return sample(obj, Infinity);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the number of elements in a collection.\nexport default function size(obj) {\n  if (obj == null) return 0;\n  return isArrayLike(obj) ? obj.length : keys(obj).length;\n}\n","import cb from './_cb.js';\nimport pluck from './pluck.js';\nimport map from './map.js';\n\n// Sort the object's values by a criterion produced by an iteratee.\nexport default function sortBy(obj, iteratee, context) {\n  var index = 0;\n  iteratee = cb(iteratee, context);\n  return pluck(map(obj, function(value, key, list) {\n    return {\n      value: value,\n      index: index++,\n      criteria: iteratee(value, key, list)\n    };\n  }).sort(function(left, right) {\n    var a = left.criteria;\n    var b = right.criteria;\n    if (a !== b) {\n      if (a > b || a === void 0) return 1;\n      if (a < b || b === void 0) return -1;\n    }\n    return left.index - right.index;\n  }), 'value');\n}\n","// Invokes `interceptor` with the `obj` and then returns `obj`.\n// The primary purpose of this method is to \"tap into\" a method chain, in\n// order to perform operations on intermediate results within the chain.\nexport default function tap(obj, interceptor) {\n  interceptor(obj);\n  return obj;\n}\n","import defaults from './defaults.js';\nimport _ from './underscore.js';\nimport './templateSettings.js';\n\n// When customizing `_.templateSettings`, if you don't want to define an\n// interpolation, evaluation or escaping regex, we need one that is\n// guaranteed not to match.\nvar noMatch = /(.)^/;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nvar escapes = {\n  \"'\": \"'\",\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\nvar escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return '\\\\' + escapes[match];\n}\n\n// In order to prevent third-party code injection through\n// `_.templateSettings.variable`, we test it against the following regular\n// expression. It is intentionally a bit more liberal than just matching valid\n// identifiers, but still prevents possible loopholes through defaults or\n// destructuring assignment.\nvar bareIdentifier = /^\\s*(\\w|\\$)+\\s*$/;\n\n// JavaScript micro-templating, similar to John Resig's implementation.\n// Underscore templating handles arbitrary delimiters, preserves whitespace,\n// and correctly escapes quotes within interpolated code.\n// NB: `oldSettings` only exists for backwards compatibility.\nexport default function template(text, settings, oldSettings) {\n  if (!settings && oldSettings) settings = oldSettings;\n  settings = defaults({}, settings, _.templateSettings);\n\n  // Combine delimiters into one regular expression via alternation.\n  var matcher = RegExp([\n    (settings.escape || noMatch).source,\n    (settings.interpolate || noMatch).source,\n    (settings.evaluate || noMatch).source\n  ].join('|') + '|$', 'g');\n\n  // Compile the template source, escaping string literals appropriately.\n  var index = 0;\n  var source = \"__p+='\";\n  text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (escape) {\n      source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n    } else if (interpolate) {\n      source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n    } else if (evaluate) {\n      source += \"';\\n\" + evaluate + \"\\n__p+='\";\n    }\n\n    // Adobe VMs need the match returned to produce the correct offset.\n    return match;\n  });\n  source += \"';\\n\";\n\n  var argument = settings.variable;\n  if (argument) {\n    // Insure against third-party code injection. (CVE-2021-23358)\n    if (!bareIdentifier.test(argument)) throw new Error(\n      'variable is not a bare identifier: ' + argument\n    );\n  } else {\n    // If a variable is not specified, place data values in local scope.\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n    argument = 'obj';\n  }\n\n  source = \"var __t,__p='',__j=Array.prototype.join,\" +\n    \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n    source + 'return __p;\\n';\n\n  var render;\n  try {\n    render = new Function(argument, '_', source);\n  } catch (e) {\n    e.source = source;\n    throw e;\n  }\n\n  var template = function(data) {\n    return render.call(this, data, _);\n  };\n\n  // Provide the compiled source as a convenience for precompilation.\n  template.source = 'function(' + argument + '){\\n' + source + '}';\n\n  return template;\n}\n","import now from './now.js';\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nexport default function throttle(func, wait, options) {\n  var timeout, context, args, result;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function() {\n    var _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    var remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function() {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n","import optimizeCb from './_optimizeCb.js';\n\n// Run a function **n** times.\nexport default function times(n, iteratee, context) {\n  var accum = Array(Math.max(0, n));\n  iteratee = optimizeCb(iteratee, context, 1);\n  for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n  return accum;\n}\n","// Generate a unique integer id (unique within the entire client session).\n// Useful for temporary DOM ids.\nvar idCounter = 0;\nexport default function uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n}\n","import filter from './filter.js';\nimport matcher from './matcher.js';\n\n// Convenience version of a common use case of `_.filter`: selecting only\n// objects containing specific `key:value` pairs.\nexport default function where(obj, attrs) {\n  return filter(obj, matcher(attrs));\n}\n","import partial from './partial.js';\n\n// Returns the first function passed as an argument to the second,\n// allowing you to adjust arguments, run code before and after, and\n// conditionally execute the original function.\nexport default function wrap(func, wrapper) {\n  return partial(wrapper, func);\n}\n","var n,l,u,t,i,o,r,f,e,c,s,a,h={},v=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function w(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return g(l,f,i,o,null)}function g(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function m(){return{current:null}}function b(n){return n.children}function k(n,l){this.props=n,this.context=l}function x(n,l){if(null==l)return n.__?x(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?x(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function S(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!M.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(M)}function M(){var n,u,t,o,r,e,c,s;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,c=[],s=[],t.__P&&((o=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),O(t.__P,o,r,t.__n,t.__P.namespaceURI,32&r.__u?[e]:null,c,null==e?x(r):e,!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,j(c,o,s),o.__e!=e&&C(o)),i.length>u&&i.sort(f));M.__r=0}function P(n,l,u,t,i,o,r,f,e,c,s){var a,p,y,d,w,_=t&&t.__k||v,g=l.length;for(u.__d=e,$(u,l,_),e=u.__d,a=0;a<g;a++)null!=(y=u.__k[a])&&(p=-1===y.__i?h:_[y.__i]||h,y.__i=a,O(n,y,p,i,o,r,f,e,c,s),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),65536&y.__u||p.__k===y.__k?e=I(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=w}function $(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=l[t])&&\"boolean\"!=typeof i&&\"function\"!=typeof i?(r=t+a,(i=n.__k[t]=\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?g(null,i,null,null,null):y(i)?g(b,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?g(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=n,i.__b=n.__b+1,o=null,-1!==(f=i.__i=L(i,u,r,s))&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f==r-1?a--:f==r+1?a++:(f>r?a--:a++,i.__u|=65536))):i=n.__k[t]=null;if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=x(o)),V(o,o))}function I(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=I(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=x(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(y(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type&&0==(131072&e.__u))return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||p.test(l)?u:u+\"px\"}function A(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||T(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"===l||\"onFocusIn\"===l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=e,n.addEventListener(l,o?s:c,o)):n.removeEventListener(l,o?s:c,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=e++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,f,e,c,s){var a,h,v,p,w,_,g,m,x,C,S,M,$,I,H,L,T=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof T)try{if(m=u.props,x=\"prototype\"in T&&T.prototype.render,C=(a=T.contextType)&&i[a.__c],S=a?C?C.props.value:a.__:i,t.__c?g=(h=u.__c=t.__c).__=h.__E:(x?u.__c=h=new T(m,S):(u.__c=h=new k(m,S),h.constructor=T,h.render=q),C&&C.sub(h),h.props=m,h.state||(h.state={}),h.context=S,h.__n=i,v=h.__d=!0,h.__h=[],h._sb=[]),x&&null==h.__s&&(h.__s=h.state),x&&null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,T.getDerivedStateFromProps(m,h.__s))),p=h.props,w=h.state,h.__v=u,v)x&&null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),x&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(x&&null==T.getDerivedStateFromProps&&m!==p&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,S),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,S)||u.__v===t.__v)){for(u.__v!==t.__v&&(h.props=m,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),M=0;M<h._sb.length;M++)h.__h.push(h._sb[M]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,S),x&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(p,w,_)})}if(h.context=S,h.props=m,h.__P=n,h.__e=!1,$=l.__r,I=0,x){for(h.state=h.__s,h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,$&&$(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++I<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),x&&!v&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(p,w)),P(n,y(L=null!=a&&a.type===b&&null==a.key?a.props.children:a)?L:[L],u,t,i,o,r,f,e,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&f.push(h),g&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r){for(u.__u|=c?160:128;e&&8===e.nodeType&&e.nextSibling;)e=e.nextSibling;r[r.indexOf(e)]=null,u.__e=e}else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function j(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function z(u,t,i,o,r,f,e,c,s){var a,v,p,d,_,g,m,b=i.props,k=t.props,C=t.type;if(\"svg\"===C?r=\"http://www.w3.org/2000/svg\":\"math\"===C?r=\"http://www.w3.org/1998/Math/MathML\":r||(r=\"http://www.w3.org/1999/xhtml\"),null!=f)for(a=0;a<f.length;a++)if((_=f[a])&&\"setAttribute\"in _==!!C&&(C?_.localName===C:3===_.nodeType)){u=_,f[a]=null;break}if(null==u){if(null===C)return document.createTextNode(k);u=document.createElementNS(r,C,k.is&&k),c&&(l.__m&&l.__m(t,f),c=!1),f=null}if(null===C)b===k||c&&u.data===k||(u.data=k);else{if(f=f&&n.call(u.childNodes),b=i.props||h,!c&&null!=f)for(b={},a=0;a<u.attributes.length;a++)b[(_=u.attributes[a]).name]=_.value;for(a in b)if(_=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)p=_;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;A(u,a,null,_,r)}for(a in k)_=k[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?m=_:c&&\"function\"!=typeof _||b[a]===_||A(u,a,_,b[a],r);if(v)c||p&&(v.__html===p.__html||v.__html===u.innerHTML)||(u.innerHTML=v.__html),t.__k=[];else if(p&&(u.innerHTML=\"\"),P(u,y(d)?d:[d],t,i,o,\"foreignObject\"===C?\"http://www.w3.org/1999/xhtml\":r,f,e,f?f[0]:i.__k&&x(i,0),c,s),null!=f)for(a=f.length;a--;)w(f[a]);c||(a=\"value\",\"progress\"===C&&null==g?u.removeAttribute(\"value\"):void 0!==g&&(g!==u[a]||\"progress\"===C&&!g||\"option\"===C&&g!==b[a])&&A(u,a,g,b[a],r),a=\"checked\",void 0!==m&&m!==u[a]&&A(u,a,m,b[a],r))}return u}function N(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function V(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&V(i[o],u,t||\"function\"!=typeof n.type);t||w(n.__e),n.__c=n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function B(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],O(t,u=(!o&&i||t).__k=_(b,null,[u]),r||h,h,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),j(f,u,e)}function D(n,l){B(n,l,D)}function E(l,u,t){var i,o,r,f,e=d({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),g(l.type,e,i||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+a++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.forEach(function(n){n.__e=!0,S(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=v.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),S(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),S(this))},k.prototype.render=b,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},M.__r=0,e=0,c=F(!1),s=F(!0),a=0;export{k as Component,b as Fragment,E as cloneElement,G as createContext,_ as createElement,m as createRef,_ as h,D as hydrate,t as isValidElement,l as options,B as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","/** @hidden */\nfunction nop() { }\n/** @hidden */\nconst isArray = Array.isArray || function (xs) { return xs instanceof Array; };\n/** @hidden */\nfunction isObservable(x) {\n    return x && x._isObservable;\n}\n\n/** @hidden */\nfunction all(xs, f) {\n    for (var i = 0, x; i < xs.length; i++) {\n        x = xs[i];\n        if (!f(x)) {\n            return false;\n        }\n    }\n    return true;\n}\n/** @hidden */\nfunction always(x) { return () => x; }\n/** @hidden */\nfunction any(xs, f) {\n    for (var i = 0, x; i < xs.length; i++) {\n        x = xs[i];\n        if (f(x)) {\n            return true;\n        }\n    }\n    return false;\n}\n/** @hidden */\nfunction bind(fn, me) {\n    return function () { return fn.apply(me, arguments); };\n}\n/** @hidden */\nfunction contains(xs, x) { return indexOf(xs, x) !== -1; }\n/** @hidden */\nfunction each(xs, f) {\n    for (var key in xs) {\n        if (Object.prototype.hasOwnProperty.call(xs, key)) {\n            var value = xs[key];\n            f(key, value);\n        }\n    }\n}\n/** @hidden */\nfunction empty(xs) { return xs.length === 0; }\n/** @hidden */\nfunction filter(f, xs) {\n    var filtered = [];\n    for (var i = 0, x; i < xs.length; i++) {\n        x = xs[i];\n        if (f(x)) {\n            filtered.push(x);\n        }\n    }\n    return filtered;\n}\n/** @hidden */\nfunction flatMap(f, xs) {\n    return fold(xs, [], (function (ys, x) {\n        return ys.concat(f(x));\n    }));\n}\n/** @hidden */\nfunction flip(f) {\n    return (a, b) => f(b, a);\n}\n/** @hidden */\nfunction fold(xs, seed, f) {\n    for (var i = 0, x; i < xs.length; i++) {\n        x = xs[i];\n        seed = f(seed, x);\n    }\n    return seed;\n}\n/** @hidden */\nfunction head(xs) {\n    return xs[0];\n}\n/** @hidden */\nfunction id(x) { return x; }\n/** @hidden */\nfunction indexOfDefault(xs, x) { return xs.indexOf(x); }\n/** @hidden */\nfunction indexOfFallback(xs, x) {\n    for (var i = 0, y; i < xs.length; i++) {\n        y = xs[i];\n        if (x === y) {\n            return i;\n        }\n    }\n    return -1;\n}\n/** @hidden */\nconst indexOf = Array.prototype.indexOf ? indexOfDefault : indexOfFallback;\n/** @hidden */\nfunction indexWhere(xs, f) {\n    for (var i = 0, y; i < xs.length; i++) {\n        y = xs[i];\n        if (f(y)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/** @hidden */\nfunction isFunction(f) { return typeof f === \"function\"; }\n/** @hidden */\nfunction last(xs) { return xs[xs.length - 1]; }\n/** @hidden */\nfunction map(f, xs) {\n    var result = [];\n    for (var i = 0, x; i < xs.length; i++) {\n        x = xs[i];\n        result.push(f(x));\n    }\n    return result;\n}\n/** @hidden */\nfunction negate(f) { return function (x) { return !f(x); }; }\n/** @hidden */\nfunction remove(x, xs) {\n    var i = indexOf(xs, x);\n    if (i >= 0) {\n        return xs.splice(i, 1);\n    }\n}\n/** @hidden */\nfunction tail(xs) {\n    return xs.slice(1, xs.length);\n}\n/** @hidden */\nfunction toArray(xs) { return (isArray(xs) ? xs : [xs]); }\n/** @hidden */\nfunction toFunction(f) {\n    if (typeof f == \"function\") {\n        return f;\n    }\n    return x => f;\n}\n/** @hidden */\nfunction toString(obj) {\n    var hasProp = {}.hasOwnProperty;\n    try {\n        recursionDepth++;\n        if (obj == null) {\n            return \"undefined\";\n        }\n        else if (isFunction(obj)) {\n            return \"function\";\n        }\n        else if (isArray(obj)) {\n            if (recursionDepth > 5) {\n                return \"[..]\";\n            }\n            return \"[\" + map(toString, obj).toString() + \"]\";\n        }\n        else if (((obj != null ? obj.toString : void 0) != null) && obj.toString !== Object.prototype.toString) {\n            return obj.toString();\n        }\n        else if (typeof obj === \"object\") {\n            if (recursionDepth > 5) {\n                return \"{..}\";\n            }\n            var results = [];\n            for (var key in obj) {\n                if (!hasProp.call(obj, key))\n                    continue;\n                let value = (function () {\n                    try {\n                        return obj[key];\n                    }\n                    catch (error) {\n                        return error;\n                    }\n                })();\n                results.push(toString(key) + \":\" + toString(value));\n            }\n            return \"{\" + results + \"}\";\n        }\n        else {\n            return obj;\n        }\n    }\n    finally {\n        recursionDepth--;\n    }\n}\n/** @hidden */\nfunction without(x, xs) {\n    return filter((function (y) { return y !== x; }), xs);\n}\nvar _ = {\n    indexOf,\n    indexWhere,\n    head,\n    always,\n    negate,\n    empty,\n    tail,\n    filter,\n    map,\n    each,\n    toArray,\n    contains,\n    id,\n    last,\n    all,\n    any,\n    without,\n    remove,\n    fold,\n    flatMap,\n    bind,\n    isFunction,\n    toFunction,\n    toString\n};\nvar recursionDepth = 0;\n\n/**\n * Reply for \"more data, please\".\n */\nconst more = undefined;\n/**\n * Reply for \"no more data, please\".\n */\nconst noMore = \"<no-more>\";\n\n/** @hidden */\nfunction assert(message, condition) {\n    if (!condition) {\n        throw new Error(message);\n    }\n}\n/** @hidden */\nfunction assertEventStream(event) {\n    if (!(event != null ? event._isEventStream : void 0)) {\n        throw new Error(\"not an EventStream : \" + event);\n    }\n}\n/** @hidden */\nfunction assertObservable(observable) {\n    if (!(observable != null ? observable._isObservable : void 0)) {\n        throw new Error(\"not an Observable : \" + observable);\n    }\n}\n/** @hidden */\nfunction assertFunction(f) {\n    return assert(\"not a function : \" + f, _.isFunction(f));\n}\n/** @hidden */\nfunction assertArray(xs) {\n    if (!isArray(xs)) {\n        throw new Error(\"not an array : \" + xs);\n    }\n}\n/** @hidden */\nfunction assertNoArguments(args) {\n    return assert(\"no arguments supported\", args.length === 0);\n}\n\n/** @hidden */\nconst defaultScheduler = {\n    setTimeout(f, d) { return setTimeout(f, d); },\n    setInterval(f, i) { return setInterval(f, i); },\n    clearInterval(id) { return clearInterval(id); },\n    clearTimeout(id) { return clearTimeout(id); },\n    now() { return new Date().getTime(); }\n};\nconst GlobalScheduler = {\n    scheduler: defaultScheduler\n};\nfunction getScheduler() {\n    return GlobalScheduler.scheduler;\n}\nfunction setScheduler(newScheduler) {\n    GlobalScheduler.scheduler = newScheduler;\n}\n\nvar rootEvent = undefined;\nvar waiterObs = [];\nvar waiters = {};\nvar aftersStack = [];\nvar aftersStackHeight = 0;\nvar flushed = {};\nvar processingAfters = false;\nfunction toString$1() {\n    return _.toString({ rootEvent, processingAfters, waiterObs, waiters, aftersStack, aftersStackHeight, flushed });\n}\nfunction ensureStackHeight(h) {\n    if (h <= aftersStackHeight)\n        return;\n    if (!aftersStack[h - 1]) {\n        aftersStack[h - 1] = [[], 0];\n    }\n    aftersStackHeight = h;\n}\nfunction isInTransaction() {\n    return rootEvent !== undefined;\n}\nfunction soonButNotYet(obs, f) {\n    if (rootEvent) {\n        // If in transaction -> perform within transaction\n        //console.log('in tx')\n        whenDoneWith(obs, f);\n    }\n    else {\n        // Otherwise -> perform with timeout\n        //console.log('with timeout')\n        GlobalScheduler.scheduler.setTimeout(f, 0);\n    }\n}\nfunction afterTransaction(obs, f) {\n    if (rootEvent || processingAfters) {\n        ensureStackHeight(1);\n        var stackIndexForThisObs = 0;\n        while (stackIndexForThisObs < aftersStackHeight - 1) {\n            if (containsObs(obs, aftersStack[stackIndexForThisObs][0])) {\n                // this observable is already being processed at this stack index -> use this index\n                break;\n            }\n            stackIndexForThisObs++;\n        }\n        var listFromStack = aftersStack[stackIndexForThisObs][0];\n        listFromStack.push([obs, f]);\n        if (!rootEvent) {\n            processAfters(); // wouldn't be called otherwise\n        }\n    }\n    else {\n        return f();\n    }\n}\nfunction containsObs(obs, aftersList) {\n    for (var i = 0; i < aftersList.length; i++) {\n        if (aftersList[i][0].id == obs.id)\n            return true;\n    }\n    return false;\n}\nfunction processAfters() {\n    let stackSizeAtStart = aftersStackHeight;\n    if (!stackSizeAtStart)\n        return;\n    let isRoot = !processingAfters;\n    processingAfters = true;\n    try {\n        while (aftersStackHeight >= stackSizeAtStart) { // to prevent sinking to levels started by others\n            var topOfStack = aftersStack[aftersStackHeight - 1];\n            if (!topOfStack)\n                throw new Error(\"Unexpected stack top: \" + topOfStack);\n            var [topAfters, index] = topOfStack;\n            if (index < topAfters.length) {\n                var [, after] = topAfters[index];\n                topOfStack[1]++; // increase index already here to indicate that this level is being processed\n                ensureStackHeight(aftersStackHeight + 1); // to ensure there's a new level for recursively added afters\n                var callSuccess = false;\n                try {\n                    after();\n                    callSuccess = true;\n                    while (aftersStackHeight > stackSizeAtStart && aftersStack[aftersStackHeight - 1][0].length == 0) {\n                        aftersStackHeight--;\n                    }\n                }\n                finally {\n                    if (!callSuccess) {\n                        aftersStack = [];\n                        aftersStackHeight = 0; // reset state to prevent stale updates after error\n                    }\n                }\n            }\n            else {\n                topOfStack[0] = [];\n                topOfStack[1] = 0; // reset this level\n                break;\n            }\n        }\n    }\n    finally {\n        if (isRoot)\n            processingAfters = false;\n    }\n}\nfunction whenDoneWith(obs, f) {\n    if (rootEvent) {\n        var obsWaiters = waiters[obs.id];\n        if (obsWaiters === undefined) {\n            obsWaiters = waiters[obs.id] = [f];\n            return waiterObs.push(obs);\n        }\n        else {\n            return obsWaiters.push(f);\n        }\n    }\n    else {\n        return f();\n    }\n}\nfunction flush() {\n    while (waiterObs.length > 0) {\n        flushWaiters(0, true);\n    }\n    flushed = {};\n}\nfunction flushWaiters(index, deps) {\n    var obs = waiterObs[index];\n    var obsId = obs.id;\n    var obsWaiters = waiters[obsId];\n    waiterObs.splice(index, 1);\n    delete waiters[obsId];\n    if (deps && waiterObs.length > 0) {\n        flushDepsOf(obs);\n    }\n    for (var i = 0, f; i < obsWaiters.length; i++) {\n        f = obsWaiters[i];\n        f();\n    }\n}\nfunction flushDepsOf(obs) {\n    if (flushed[obs.id])\n        return;\n    var deps = obs.internalDeps();\n    for (var i = 0, dep; i < deps.length; i++) {\n        dep = deps[i];\n        flushDepsOf(dep);\n        if (waiters[dep.id]) {\n            var index = _.indexOf(waiterObs, dep);\n            flushWaiters(index, false);\n        }\n    }\n    flushed[obs.id] = true;\n}\nfunction inTransaction(event, context, f, args) {\n    if (rootEvent) {\n        //console.log(\"in tx\")\n        return f.apply(context, args);\n    }\n    else {\n        //console.log(\"start tx\")\n        rootEvent = event;\n        try {\n            var result = f.apply(context, args);\n            //console.log(\"done with tx\")\n            flush();\n        }\n        finally {\n            rootEvent = undefined;\n            processAfters();\n        }\n        return result;\n    }\n}\nfunction currentEventId() {\n    return rootEvent ? rootEvent.id : undefined;\n}\nfunction wrappedSubscribe(obs, subscribe, sink) {\n    assertFunction(sink);\n    let unsubd = false;\n    let shouldUnsub = false;\n    let doUnsub = () => {\n        shouldUnsub = true;\n    };\n    let unsub = () => {\n        unsubd = true;\n        doUnsub();\n    };\n    doUnsub = subscribe(function (event) {\n        afterTransaction(obs, function () {\n            if (!unsubd) {\n                var reply = sink(event);\n                if (reply === noMore) {\n                    unsub();\n                }\n            }\n        });\n        return more;\n    });\n    if (shouldUnsub) {\n        doUnsub();\n    }\n    return unsub;\n}\nfunction hasWaiters() { return waiterObs.length > 0; }\nvar UpdateBarrier = { toString: toString$1, whenDoneWith, hasWaiters, inTransaction, currentEventId, wrappedSubscribe, afterTransaction, soonButNotYet, isInTransaction };\n\nclass Desc {\n    constructor(context, method, args = []) {\n        /** @hidden */\n        this._isDesc = true;\n        //assert(\"context missing\", context)\n        //assert(\"method missing\", method)\n        //assert(\"args missing\", args)\n        this.context = context;\n        this.method = method;\n        this.args = args;\n    }\n    deps() {\n        if (!this.cachedDeps) {\n            this.cachedDeps = findDeps([this.context].concat(this.args));\n        }\n        return this.cachedDeps;\n    }\n    toString() {\n        let args = _.map(_.toString, this.args);\n        return _.toString(this.context) + \".\" + _.toString(this.method) + \"(\" + args + \")\";\n    }\n}\n/** @hidden */\nfunction describe(context, method, ...args) {\n    const ref = context || method;\n    if (ref && ref._isDesc) {\n        return context || method;\n    }\n    else {\n        return new Desc(context, method, args);\n    }\n}\n/** @hidden */\nfunction findDeps(x) {\n    if (isArray(x)) {\n        return _.flatMap(findDeps, x);\n    }\n    else if (isObservable(x)) {\n        return [x];\n    }\n    else if ((typeof x !== \"undefined\" && x !== null) ? x._isSource : undefined) {\n        return [x.obs];\n    }\n    else {\n        return [];\n    }\n}\n\n/** @hidden */\nconst nullSink = () => more;\n/** @hidden */\nconst nullVoidSink = () => more;\n\n/** @hidden */\nfunction withStateMachine(initState, f, src) {\n    return src.transform(withStateMachineT(initState, f), new Desc(src, \"withStateMachine\", [initState, f]));\n}\nfunction withStateMachineT(initState, f) {\n    let state = initState;\n    return (event, sink) => {\n        var fromF = f(state, event);\n        var [newState, outputs] = fromF;\n        state = newState;\n        var reply = more;\n        for (var i = 0; i < outputs.length; i++) {\n            let output = outputs[i];\n            reply = sink(output);\n            if (reply === noMore) {\n                return reply;\n            }\n        }\n        return reply;\n    };\n}\n\n/** @hidden */\nclass Some {\n    constructor(value) {\n        this._isSome = true;\n        this.isDefined = true;\n        this.value = value;\n    }\n    getOrElse(arg) { return this.value; }\n    get() { return this.value; }\n    filter(f) {\n        if (f(this.value)) {\n            return new Some(this.value);\n        }\n        else {\n            return None;\n        }\n    }\n    map(f) {\n        return new Some(f(this.value));\n    }\n    forEach(f) {\n        f(this.value);\n    }\n    toArray() { return [this.value]; }\n    inspect() { return \"Some(\" + this.value + \")\"; }\n    toString() { return this.inspect(); }\n}\n/** @hidden */\nconst None = {\n    _isNone: true,\n    getOrElse(value) { return value; },\n    get() { throw new Error(\"None.get()\"); },\n    filter() { return None; },\n    map() { return None; },\n    forEach() { },\n    isDefined: false,\n    toArray() { return []; },\n    inspect() { return \"None\"; },\n    toString() { return this.inspect(); }\n};\nfunction none() { return None; }\nfunction toOption(v) {\n    if (v && (v._isSome || v._isNone)) {\n        return v;\n    }\n    else {\n        return new Some(v);\n    }\n}\nfunction isNone(object) {\n    return ((typeof object !== \"undefined\" && object !== null) ? object._isNone : false);\n}\n\n/** @hidden */\nvar eventIdCounter = 0;\n/**\n * Base class for all events passed through [EventStreams](eventstream.html) and [Properties](property.html).\n */\nclass Event {\n    constructor() {\n        this.id = ++eventIdCounter;\n        /** @hidden */\n        this.isEvent = true;\n        /** @hidden */\n        this._isEvent = true;\n        this.isEnd = false;\n        this.isInitial = false;\n        this.isNext = false;\n        this.isError = false;\n        this.hasValue = false;\n    }\n    /** @hidden */\n    filter(f) { return true; }\n    /** @hidden */\n    inspect() { return this.toString(); }\n    /** @hidden */\n    log() { return this.toString(); }\n    /** @hidden */\n    toNext() { return this; }\n}\n/**\n *  Base class for all [Events](event.html) carrying a value.\n *\n *  Can be distinguished from other events using [hasValue](../globals.html#hasvalue)\n **/\nclass Value extends Event {\n    constructor(value) {\n        super();\n        this.hasValue = true;\n        if (value instanceof Event) {\n            throw new Error$1(\"Wrapping an event inside other event\");\n        }\n        this.value = value;\n    }\n    /** @hidden */\n    fmap(f) {\n        return this.apply(f(this.value));\n    }\n    /** @hidden */\n    filter(f) { return f(this.value); }\n    /** @hidden */\n    toString() { return _.toString(this.value); }\n    //toString(): string { return \"<value \" + this.id + \">\" + _.toString(this.value) }\n    /** @hidden */\n    log() { return this.value; }\n}\n/**\n *  Indicates a new value in an [EventStream](eventstream.html) or a [Property](property.html).\n *\n *  Can be distinguished from other events using [isNext](../globals.html#isnext)\n */\nclass Next extends Value {\n    constructor(value) {\n        super(value);\n        this.isNext = true;\n        /** @hidden */\n        this._isNext = true; // some compatibility stuff?\n    }\n    /** @hidden */\n    apply(value) { return new Next(value); }\n}\n/**\n * An event carrying the initial value of a [Property](classes/property.html). This event can be emitted by a property\n * immediately when subscribing to it.\n *\n * Can be distinguished from other events using [isInitial](../globals.html#isinitial)\n */\nclass Initial extends Value {\n    constructor(value) {\n        super(value);\n        this.isInitial = true;\n        /** @hidden */\n        this._isInitial = true;\n    }\n    /** @hidden */\n    apply(value) { return new Initial(value); }\n    /** @hidden */\n    toNext() { return new Next(this.value); }\n}\n/**\n * Base class for events not carrying a value.\n */\nclass NoValue extends Event {\n    constructor() {\n        super(...arguments);\n        this.hasValue = false;\n    }\n    /** @hidden */\n    fmap(f) {\n        return this;\n    }\n}\n/**\n * An event that indicates the end of an [EventStream](classes/eventstream.html) or a [Property](classes/property.html).\n * No more events can be emitted after this one.\n *\n * Can be distinguished from other events using [isEnd](../globals.html#isend)\n */\nclass End extends NoValue {\n    constructor() {\n        super(...arguments);\n        this.isEnd = true;\n    }\n    /** @hidden */\n    toString() { return \"<end>\"; }\n}\n/**\n *  An event carrying an error. You can use [onError](observable.html#onerror) to subscribe to errors.\n */\nclass Error$1 extends NoValue {\n    constructor(error) {\n        super();\n        this.isError = true;\n        this.error = error;\n    }\n    /** @hidden */\n    toString() {\n        return \"<error> \" + _.toString(this.error);\n    }\n}\n/** @hidden */\nfunction initialEvent(value) { return new Initial(value); }\n/** @hidden */\nfunction nextEvent(value) { return new Next(value); }\n/** @hidden */\nfunction endEvent() { return new End(); }\n/** @hidden */\nfunction toEvent(x) {\n    if (x && x._isEvent) {\n        return x;\n    }\n    else {\n        return nextEvent(x);\n    }\n}\n/**\n * Returns true if the given object is an [Event](classes/event.html).\n */\nfunction isEvent(e) {\n    return e && e._isEvent;\n}\n/**\n * Returns true if the given event is an [Initial](classes/initial.html) value of a [Property](classes/property.html).\n */\nfunction isInitial(e) {\n    return e && e._isInitial;\n}\n/**\n * Returns true if the given event is an [Error](classes/error.html) event of an [Observable](classes/observable.html).\n */\nfunction isError(e) {\n    return e.isError;\n}\n/**\n * Returns true if the given event is a [Value](classes/value.html), i.e. a [Next](classes/next.html) or\n * an [Initial](classes/error.html) value of an [Observable](classes/observable.html).\n */\nfunction hasValue(e) {\n    return e.hasValue;\n}\n/**\n * Returns true if the given event is an [End](classes/end.html)\n */\nfunction isEnd(e) {\n    return e.isEnd;\n}\n/**\n * Returns true if the given event is a [Next](classes/next.html)\n */\nfunction isNext(e) {\n    return e.isNext;\n}\n\n/** @hidden */\nfunction equals(a, b) { return a === b; }\n/** @hidden */\nfunction skipDuplicates(src, isEqual = equals) {\n    let desc = new Desc(src, \"skipDuplicates\", []);\n    return withStateMachine(none(), function (prev, event) {\n        if (!hasValue(event)) {\n            return [prev, [event]];\n        }\n        else if (event.isInitial || isNone(prev) || !isEqual(prev.get(), event.value)) {\n            return [new Some(event.value), [event]];\n        }\n        else {\n            return [prev, []];\n        }\n    }, src).withDesc(desc);\n}\n\n/** @hidden */\nfunction take(count, src, desc) {\n    return src.transform(takeT(count), desc || new Desc(src, \"take\", [count]));\n}\n/** @hidden */\nfunction takeT(count) {\n    return (e, sink) => {\n        if (!e.hasValue) {\n            return sink(e);\n        }\n        else {\n            count--;\n            if (count > 0) {\n                return sink(e);\n            }\n            else {\n                if (count === 0) {\n                    sink(e);\n                }\n                sink(endEvent());\n                return noMore;\n            }\n        }\n    };\n}\n\n/** @hidden */\nfunction log(args, src) {\n    src.subscribe(function (event) {\n        if (typeof console !== \"undefined\" && typeof console.log === \"function\") {\n            console.log(...args.concat([event.log()]));\n        }\n        return more;\n    });\n}\n\n/** @hidden */\nfunction doLogT(args) {\n    return (event, sink) => {\n        if (typeof console !== \"undefined\" && console !== null && typeof console.log === \"function\") {\n            console.log(...args.concat([event.log()]));\n        }\n        return sink(event);\n    };\n}\n\n/** @hidden */\nfunction doErrorT(f) {\n    return (event, sink) => {\n        if (isError(event)) {\n            f(event.error);\n        }\n        return sink(event);\n    };\n}\n\n/** @hidden */\nfunction doActionT(f) {\n    return (event, sink) => {\n        if (hasValue(event)) {\n            f(event.value);\n        }\n        return sink(event);\n    };\n}\n\n/** @hidden */\nfunction doEndT(f) {\n    return (event, sink) => {\n        if (isEnd(event)) {\n            f();\n        }\n        return sink(event);\n    };\n}\n\n/** @hidden */\nfunction scan(src, seed, f) {\n    let resultProperty;\n    let acc = seed;\n    let initHandled = false;\n    const subscribe = (sink) => {\n        var initSent = false;\n        var unsub = nop;\n        var reply = more;\n        const sendInit = function () {\n            if (!initSent) {\n                initSent = initHandled = true;\n                reply = sink(new Initial(acc));\n                if (reply === noMore) {\n                    unsub();\n                    unsub = nop;\n                }\n            }\n            return reply;\n        };\n        unsub = src.subscribeInternal(function (event) {\n            if (hasValue(event)) {\n                if (initHandled && event.isInitial) {\n                    //console.log \"skip INITIAL\"\n                    return more; // init already sent, skip this one\n                }\n                else {\n                    if (!event.isInitial) {\n                        sendInit();\n                    }\n                    initSent = initHandled = true;\n                    var prev = acc;\n                    var next = f(prev, event.value);\n                    //console.log prev , \",\", event.value, \"->\", next\n                    acc = next;\n                    return sink(event.apply(next));\n                }\n            }\n            else {\n                if (event.isEnd) {\n                    reply = sendInit();\n                }\n                if (reply !== noMore) {\n                    return sink(event);\n                }\n                return reply;\n            }\n        });\n        UpdateBarrier.whenDoneWith(resultProperty, sendInit);\n        return unsub;\n    };\n    return resultProperty = new Property(new Desc(src, \"scan\", [seed, f]), subscribe);\n}\n\n/** @hidden */\nfunction mapEndT(f) {\n    let theF = _.toFunction(f);\n    return function (event, sink) {\n        if (isEnd(event)) {\n            sink(nextEvent(theF(event)));\n            sink(endEvent());\n            return noMore;\n        }\n        else {\n            return sink(event);\n        }\n    };\n}\n\n/** @hidden */\nfunction mapErrorT(f) {\n    let theF = _.toFunction(f);\n    return function (event, sink) {\n        if (isError(event)) {\n            return sink(nextEvent(theF(event.error)));\n        }\n        else {\n            return sink(event);\n        }\n    };\n}\n\n/** @hidden */\nfunction skipErrors(src) {\n    return src.transform(function (event, sink) {\n        if (isError(event)) {\n            return more;\n        }\n        else {\n            return sink(event);\n        }\n    }, new Desc(src, \"skipErrors\", []));\n}\n\n/** @hidden */\nfunction last$1(src) {\n    var lastEvent;\n    return src.transform(function (event, sink) {\n        if (isEnd(event)) {\n            if (lastEvent) {\n                sink(lastEvent);\n            }\n            sink(endEvent());\n            return noMore;\n        }\n        else if (hasValue(event)) {\n            lastEvent = event;\n            return more;\n        }\n        else {\n            return sink(event);\n        }\n    }).withDesc(new Desc(src, \"last\", []));\n}\n\n/** @hidden */\nclass CompositeUnsubscribe {\n    constructor(ss = []) {\n        this.unsubscribed = false;\n        this.unsubscribe = _.bind(this.unsubscribe, this);\n        this.unsubscribed = false;\n        this.subscriptions = [];\n        this.starting = [];\n        for (var i = 0, s; i < ss.length; i++) {\n            s = ss[i];\n            this.add(s);\n        }\n    }\n    add(subscription) {\n        if (!this.unsubscribed) {\n            var ended = false;\n            var unsub = nop;\n            this.starting.push(subscription);\n            var unsubMe = () => {\n                if (this.unsubscribed) {\n                    return;\n                }\n                ended = true;\n                this.remove(unsub);\n                _.remove(subscription, this.starting);\n            };\n            unsub = subscription(this.unsubscribe, unsubMe);\n            if (!(this.unsubscribed || ended)) {\n                this.subscriptions.push(unsub);\n            }\n            else {\n                unsub();\n            }\n            _.remove(subscription, this.starting);\n        }\n    }\n    remove(unsub) {\n        if (this.unsubscribed) {\n            return;\n        }\n        if ((_.remove(unsub, this.subscriptions)) !== undefined) {\n            return unsub();\n        }\n    }\n    unsubscribe() {\n        if (this.unsubscribed) {\n            return;\n        }\n        this.unsubscribed = true;\n        var iterable = this.subscriptions;\n        for (var i = 0; i < iterable.length; i++) {\n            iterable[i]();\n        }\n        this.subscriptions = [];\n        this.starting = [];\n    }\n    count() {\n        if (this.unsubscribed) {\n            return 0;\n        }\n        return this.subscriptions.length + this.starting.length;\n    }\n    empty() {\n        return this.count() === 0;\n    }\n}\n\n/** @hidden */\nfunction streamSubscribeToPropertySubscribe(initValue, streamSubscribe) {\n    //assertFunction(streamSubscribe)\n    return function (sink) {\n        var initSent = false;\n        var subbed = false;\n        var unsub = nop;\n        var reply = more;\n        var sendInit = function () {\n            if (!initSent) {\n                return initValue.forEach(function (value) {\n                    initSent = true;\n                    reply = sink(new Initial(value));\n                    if (reply === noMore) {\n                        unsub();\n                        unsub = nop;\n                        return nop;\n                    }\n                });\n            }\n        };\n        unsub = streamSubscribe(function (event) {\n            if (event instanceof Value) {\n                if (event.isInitial && !subbed) {\n                    initValue = new Some(event.value);\n                    return more;\n                }\n                else {\n                    if (!event.isInitial) {\n                        sendInit();\n                    }\n                    initSent = true;\n                    initValue = new Some(event.value);\n                    return sink(event);\n                }\n            }\n            else {\n                if (event.isEnd) {\n                    reply = sendInit();\n                }\n                if (reply !== noMore) {\n                    return sink(event);\n                }\n                return reply;\n            }\n        });\n        subbed = true;\n        sendInit();\n        return unsub;\n    };\n}\n\n/** @hidden */\nfunction propertyFromStreamSubscribe(desc, subscribe) {\n    assertFunction(subscribe);\n    return new Property(desc, streamSubscribeToPropertySubscribe(none(), subscribe));\n}\n\n/**\n Creates an EventStream that delivers the given\n single value for the first subscriber. The stream will end immediately\n after this value. You can also send an [`Bacon.Error`](#bacon-error) event instead of a\n value: `Bacon.once(new Bacon.Error(\"fail\"))`.\n\n @param   value   the value or event to emit\n @typeparam V Type of stream elements\n */\nfunction once(value) {\n    const s = new EventStream(new Desc(\"Bacon\", \"once\", [value]), function (sink) {\n        UpdateBarrier.soonButNotYet(s, function () {\n            sink(toEvent(value));\n            sink(endEvent());\n        });\n        return nop;\n    });\n    return s;\n}\n\n/** @hidden */\nfunction flatMap_(spawner, src, params = {}) {\n    const root = src;\n    const rootDep = [root];\n    const childDeps = [];\n    const isProperty = src._isProperty;\n    const ctor = (isProperty ? propertyFromStreamSubscribe : newEventStreamAllowSync);\n    let initialSpawned = false;\n    const desc = params.desc || new Desc(src, \"flatMap_\", [spawner]);\n    const result = ctor(desc, function (sink) {\n        const composite = new CompositeUnsubscribe();\n        const queue = [];\n        function spawn(event) {\n            if (isProperty && event.isInitial) {\n                if (initialSpawned) {\n                    return more;\n                }\n                initialSpawned = true;\n            }\n            const child = makeObservable(spawner(event));\n            childDeps.push(child);\n            return composite.add(function (unsubAll, unsubMe) {\n                return child.subscribeInternal(function (event) {\n                    if (event.isEnd) {\n                        _.remove(child, childDeps);\n                        checkQueue();\n                        checkEnd(unsubMe);\n                        return noMore;\n                    }\n                    else {\n                        event = event.toNext(); // To support Property as the spawned stream\n                        const reply = sink(event);\n                        if (reply === noMore) {\n                            unsubAll();\n                        }\n                        return reply;\n                    }\n                });\n            });\n        }\n        function checkQueue() {\n            const event = queue.shift();\n            if (event) {\n                spawn(event);\n            }\n        }\n        function checkEnd(unsub) {\n            unsub();\n            if (composite.empty()) {\n                return sink(endEvent());\n            }\n            return more;\n        }\n        composite.add(function (__, unsubRoot) {\n            return root.subscribeInternal(function (event) {\n                if (event.isEnd) {\n                    return checkEnd(unsubRoot);\n                }\n                else if (event.isError && !params.mapError) {\n                    return sink(event);\n                }\n                else if (params.firstOnly && composite.count() > 1) {\n                    return more;\n                }\n                else {\n                    if (composite.unsubscribed) {\n                        return noMore;\n                    }\n                    if (params.limit && composite.count() > params.limit) {\n                        queue.push(event);\n                    }\n                    else {\n                        spawn(event);\n                    }\n                    return more;\n                }\n            });\n        });\n        return composite.unsubscribe;\n    });\n    result.internalDeps = function () {\n        if (childDeps.length) {\n            return rootDep.concat(childDeps);\n        }\n        else {\n            return rootDep;\n        }\n    };\n    return result;\n}\n/** @hidden */\nfunction handleEventValueWith(f) {\n    if (typeof f == \"function\") {\n        return ((event) => {\n            if (hasValue(event)) {\n                return f(event.value);\n            }\n            return event;\n        });\n    }\n    return ((event) => f);\n}\n/** @hidden */\nfunction makeObservable(x) {\n    if (isObservable(x)) {\n        return x;\n    }\n    else {\n        return once(x);\n    }\n}\n\n/** @hidden */\nfunction flatMapEvent(src, f) {\n    return flatMap_(f, src, {\n        mapError: true,\n        desc: new Desc(src, \"flatMapEvent\", [f])\n    });\n}\n\n/** @hidden */\nfunction endAsValue(src) {\n    return src.transform((event, sink) => {\n        if (isEnd(event)) {\n            sink(nextEvent({}));\n            sink(endEvent());\n            return noMore;\n        }\n        return more;\n    });\n}\n\n/** @hidden */\nfunction endOnError(src, predicate = x => true) {\n    return src.transform((event, sink) => {\n        if (isError(event) && predicate(event.error)) {\n            sink(event);\n            return sink(endEvent());\n        }\n        else {\n            return sink(event);\n        }\n    }, new Desc(src, \"endOnError\", []));\n}\n\n/** @hidden */\nclass Source {\n    constructor(obs, sync) {\n        this._isSource = true;\n        this.flatten = true;\n        this.ended = false;\n        this.obs = obs;\n        this.sync = sync;\n    }\n    subscribe(sink) {\n        return this.obs.subscribeInternal(sink);\n    }\n    toString() {\n        return this.obs.toString();\n    }\n    markEnded() {\n        this.ended = true;\n    }\n    mayHave(count) { return true; }\n}\n/** @hidden */\nclass DefaultSource extends Source {\n    consume() {\n        return this.value;\n    }\n    push(x) {\n        this.value = x;\n    }\n    hasAtLeast(c) {\n        return !!this.value;\n    }\n}\n/** @hidden */\nclass ConsumingSource extends Source {\n    constructor(obs, sync) {\n        super(obs, sync);\n        this.flatten = false;\n        this.queue = [];\n    }\n    consume() {\n        return this.queue.shift();\n    }\n    push(x) {\n        this.queue.push(x);\n    }\n    mayHave(count) {\n        return !this.ended || this.queue.length >= count;\n    }\n    hasAtLeast(count) {\n        return this.queue.length >= count;\n    }\n}\n/** @hidden */\nclass BufferingSource extends Source {\n    constructor(obs) {\n        super(obs, true);\n        this.queue = [];\n    }\n    consume() {\n        const values = this.queue;\n        this.queue = [];\n        return {\n            value: values\n        };\n    }\n    push(x) {\n        return this.queue.push(x.value);\n    }\n    hasAtLeast(count) {\n        return true;\n    }\n}\n/** @hidden */\nfunction isTrigger(s) {\n    if (s == null)\n        return false;\n    if (s._isSource) {\n        return s.sync;\n    }\n    else {\n        return s._isEventStream;\n    }\n}\n/** @hidden */\nfunction fromObservable(s) {\n    if (s != null && s._isSource) {\n        return s;\n    }\n    else if (s != null && s._isProperty) {\n        return new DefaultSource(s, false);\n    }\n    else {\n        return new ConsumingSource(s, true);\n    }\n}\n\n/**\n Creates an EventStream that immediately ends.\n @typeparam V Type of stream elements\n */\nfunction never() {\n    return new EventStream(describe(\"Bacon\", \"never\"), (sink) => {\n        sink(endEvent());\n        return nop;\n    });\n}\n\n/**\n The `when` method provides a generalization of the [`zip`](classes/observable.html#zip) function. While zip\n synchronizes events from multiple streams pairwse, the join patterns used in `when` allow\n the implementation of more advanced synchronization patterns.\n\n Consider implementing a game with discrete time ticks. We want to\n handle key-events synchronized on tick-events, with at most one key\n event handled per tick. If there are no key events, we want to just\n process a tick.\n\n ```js\n Bacon.when(\n [tick, keyEvent, function(_, k) { handleKeyEvent(k); return handleTick(); }],\n [tick, handleTick])\n ```\n\n Order is important here. If the [tick] patterns had been written\n first, this would have been tried first, and preferred at each tick.\n\n Join patterns are indeed a generalization of zip, and for EventStreams, zip is\n equivalent to a single-rule join pattern. The following observables\n have the same output, assuming that all sources are EventStreams.\n\n ```js\n Bacon.zipWith(a,b,c, combine)\n Bacon.when([a,b,c], combine)\n ```\n\n Note that [`Bacon.when`](#bacon-when) does not trigger updates for events from Properties though;\n if you use a Property in your pattern, its value will be just sampled when all the\n other sources (EventStreams) have a value. This is useful when you need a value of a Property\n in your calculations. If you want your pattern to fire for a Property too, you can\n convert it into an EventStream using [`property.changes()`](#property-changes) or [`property.toEventStream()`](#property-toeventstream)\n\n * @param {Pattern<O>} patterns Join patterns\n * @typeparam O result type\n */\nfunction when(...patterns) {\n    return when_(newEventStream, patterns);\n}\n/** @hidden */\nfunction whenP(...patterns) {\n    return when_(propertyFromStreamSubscribe, patterns);\n}\n/** @hidden */\nfunction when_(ctor, patterns) {\n    if (patterns.length === 0) {\n        return never();\n    }\n    var [sources, ixPats] = processRawPatterns(extractRawPatterns(patterns));\n    if (!sources.length) {\n        return never();\n    }\n    var needsBarrier = (any(sources, (s) => s.flatten)) && containsDuplicateDeps(map(((s) => s.obs), sources));\n    var desc = new Desc(\"Bacon\", \"when\", Array.prototype.slice.call(patterns));\n    var resultStream = ctor(desc, function (sink) {\n        var triggers = [];\n        var ends = false;\n        function match(p) {\n            for (var i = 0; i < p.ixs.length; i++) {\n                let ix = p.ixs[i];\n                if (!sources[ix.index].hasAtLeast(ix.count)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        function cannotMatch(p) {\n            for (var i = 0; i < p.ixs.length; i++) {\n                let ix = p.ixs[i];\n                if (!sources[ix.index].mayHave(ix.count)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        function nonFlattened(trigger) { return !trigger.source.flatten; }\n        function part(source) {\n            return function (unsubAll) {\n                function flushLater() {\n                    return UpdateBarrier.whenDoneWith(resultStream, flush);\n                }\n                function flushWhileTriggers() {\n                    var trigger;\n                    if ((trigger = triggers.pop()) !== undefined) {\n                        var reply = more;\n                        for (var i = 0, p; i < ixPats.length; i++) {\n                            p = ixPats[i];\n                            if (match(p)) {\n                                const values = [];\n                                for (var j = 0; j < p.ixs.length; j++) {\n                                    let event = sources[p.ixs[j].index].consume();\n                                    if (!event)\n                                        throw new Error(\"Event was undefined\");\n                                    values.push(event.value);\n                                }\n                                //console.log(\"flushing values\", values)\n                                let applied = p.f.apply(null, values);\n                                //console.log('sinking', applied)\n                                reply = sink((trigger).e.apply(applied));\n                                if (triggers.length) {\n                                    triggers = filter(nonFlattened, triggers);\n                                }\n                                if (reply === noMore) {\n                                    return reply;\n                                }\n                                else {\n                                    return flushWhileTriggers();\n                                }\n                            }\n                        }\n                    }\n                    return more;\n                }\n                function flush() {\n                    //console.log \"flushing\", _.toString(resultStream)\n                    var reply = flushWhileTriggers();\n                    if (ends) {\n                        //console.log \"ends detected\"\n                        if (all(sources, cannotSync) || all(ixPats, cannotMatch)) {\n                            //console.log \"actually ending\"\n                            reply = noMore;\n                            sink(endEvent());\n                        }\n                    }\n                    if (reply === noMore) {\n                        unsubAll();\n                    }\n                }\n                return source.subscribe(function (e) {\n                    var reply = more;\n                    if (e.isEnd) {\n                        //console.log \"got end\"\n                        ends = true;\n                        source.markEnded();\n                        flushLater();\n                    }\n                    else if (e.isError) {\n                        reply = sink(e);\n                    }\n                    else {\n                        let valueEvent = e;\n                        //console.log \"got value\", e.value\n                        source.push(valueEvent);\n                        if (source.sync) {\n                            //console.log \"queuing\", e.toString(), toString(resultStream)\n                            triggers.push({ source: source, e: valueEvent });\n                            if (needsBarrier || UpdateBarrier.hasWaiters()) {\n                                flushLater();\n                            }\n                            else {\n                                flush();\n                            }\n                        }\n                    }\n                    if (reply === noMore) {\n                        unsubAll();\n                    }\n                    return reply;\n                });\n            };\n        }\n        return new CompositeUnsubscribe(map(part, sources)).unsubscribe;\n    });\n    return resultStream;\n}\nfunction processRawPatterns(rawPatterns) {\n    var sources = [];\n    var pats = [];\n    for (let i = 0; i < rawPatterns.length; i++) {\n        let [patSources, f] = rawPatterns[i];\n        var pat = { f, ixs: [] };\n        var triggerFound = false;\n        for (var j = 0, s; j < patSources.length; j++) {\n            s = patSources[j];\n            var index = indexOf(sources, s);\n            if (!triggerFound) {\n                triggerFound = isTrigger(s);\n            }\n            if (index < 0) {\n                sources.push(s);\n                index = sources.length - 1;\n            }\n            for (var k = 0; k < pat.ixs.length; k++) {\n                let ix = pat.ixs[k];\n                if (ix.index === index) {\n                    ix.count++;\n                }\n            }\n            pat.ixs.push({ index: index, count: 1 });\n        }\n        if (patSources.length > 0 && !triggerFound) {\n            throw new Error(\"At least one EventStream required, none found in \" + patSources);\n        }\n        if (patSources.length > 0) {\n            pats.push(pat);\n        }\n    }\n    return [map(fromObservable /* sorry */, sources), pats];\n}\nfunction extractLegacyPatterns(sourceArgs) {\n    var i = 0;\n    var len = sourceArgs.length;\n    var rawPatterns = [];\n    while (i < len) {\n        let patSources = toArray(sourceArgs[i++]);\n        let f = toFunction(sourceArgs[i++]);\n        rawPatterns.push([patSources, f]);\n    }\n    var usage = \"when: expecting arguments in the form (Observable+,function)+\";\n    assert(usage, (len % 2 === 0));\n    return rawPatterns;\n}\nfunction isTypedOrRawPattern(pattern) {\n    return (pattern instanceof Array) && (!isObservable(pattern[pattern.length - 1]));\n}\nfunction isRawPattern(pattern) {\n    return pattern[0] instanceof Array;\n}\n/** @hidden */\nfunction extractRawPatterns(patterns) {\n    let rawPatterns = [];\n    for (let i = 0; i < patterns.length; i++) {\n        let pattern = patterns[i];\n        if (!isTypedOrRawPattern(pattern)) {\n            // Fallback to legacy patterns\n            return extractLegacyPatterns(patterns);\n        }\n        if (isRawPattern(pattern)) {\n            rawPatterns.push([pattern[0], toFunction(pattern[1])]);\n        }\n        else { // typed pattern, then\n            let sources = pattern.slice(0, pattern.length - 1);\n            let f = toFunction(pattern[pattern.length - 1]);\n            rawPatterns.push([sources, f]);\n        }\n    }\n    return rawPatterns;\n}\nfunction containsDuplicateDeps(observables, state = []) {\n    function checkObservable(obs) {\n        if (contains(state, obs)) {\n            return true;\n        }\n        else {\n            var deps = obs.internalDeps();\n            if (deps.length) {\n                state.push(obs);\n                return any(deps, checkObservable);\n            }\n            else {\n                state.push(obs);\n                return false;\n            }\n        }\n    }\n    return any(observables, checkObservable);\n}\nfunction cannotSync(source) {\n    return !source.sync || source.ended;\n}\n\n/** @hidden */\nfunction withLatestFromE(sampler, samplee, f) {\n    var result = when([new DefaultSource(samplee.toProperty(), false), new DefaultSource(sampler, true), flip(f)]);\n    return result.withDesc(new Desc(sampler, \"withLatestFrom\", [samplee, f]));\n}\n/** @hidden */\nfunction withLatestFromP(sampler, samplee, f) {\n    var result = whenP([new DefaultSource(samplee.toProperty(), false), new DefaultSource(sampler, true), flip(f)]);\n    return result.withDesc(new Desc(sampler, \"withLatestFrom\", [samplee, f]));\n}\n/** @hidden */\nfunction withLatestFrom(sampler, samplee, f) {\n    if (sampler instanceof Property) {\n        return withLatestFromP(sampler, samplee, f);\n    }\n    else if (sampler instanceof EventStream) {\n        return withLatestFromE(sampler, samplee, f);\n    }\n    else {\n        throw new Error(\"Unknown observable: \" + sampler);\n    }\n}\n\n/** @hidden */\nfunction map$1(src, f) {\n    if (f instanceof Property) {\n        return withLatestFrom(src, f, (a, b) => b);\n    }\n    return src.transform(mapT(f), new Desc(src, \"map\", [f]));\n}\n/** @hidden */\nfunction mapT(f) {\n    let theF = _.toFunction(f);\n    return (e, sink) => {\n        return sink(e.fmap(theF));\n    };\n}\n\n/**\n Creates a constant property with value `x`.\n */\nfunction constant(x) {\n    return new Property(new Desc(\"Bacon\", \"constant\", [x]), function (sink) {\n        sink(initialEvent(x));\n        sink(endEvent());\n        return nop;\n    });\n}\n\n/** @hidden */\nfunction argumentsToObservables(args) {\n    args = (Array.prototype.slice.call(args));\n    return _.flatMap(singleToObservables, args);\n}\nfunction singleToObservables(x) {\n    if (isObservable(x)) {\n        return [x];\n    }\n    else if (isArray(x)) {\n        return argumentsToObservables(x);\n    }\n    else {\n        return [constant(x)];\n    }\n}\n/** @hidden */\nfunction argumentsToObservablesAndFunction(args) {\n    if (_.isFunction(args[0])) {\n        return [argumentsToObservables(Array.prototype.slice.call(args, 1)), args[0]];\n    }\n    else {\n        return [argumentsToObservables(Array.prototype.slice.call(args, 0, args.length - 1)), _.last(args)];\n    }\n}\n\n/** @hidden */\nfunction groupSimultaneous(...streams) {\n    return groupSimultaneous_(argumentsToObservables(streams));\n}\n// TODO: type is not exactly correct, because different inputs may have different types.\n// Result values are arrays where each element is the list from each input observable. Type this.\n/** @hidden */\nfunction groupSimultaneous_(streams, options) {\n    let sources = _.map((stream) => new BufferingSource(stream), streams);\n    let ctor = (desc, subscribe) => new EventStream(desc, subscribe, undefined, options);\n    return when_(ctor, [sources, (function (...xs) {\n            return xs;\n        })]).withDesc(new Desc(\"Bacon\", \"groupSimultaneous\", streams));\n}\n\n/** @hidden */\nfunction awaiting(src, other) {\n    return groupSimultaneous_([src, other], allowSync)\n        .map((values) => values[1].length === 0)\n        .toProperty(false)\n        .skipDuplicates()\n        .withDesc(new Desc(src, \"awaiting\", [other]));\n}\n\n/**\n Combines Properties, EventStreams and constant values so that the result Property will have an array of the latest\n values from all sources as its value. The inputs may contain both Properties and EventStreams.\n\n\n ```js\n property = Bacon.constant(1)\n stream = Bacon.once(2)\n constant = 3\n Bacon.combineAsArray(property, stream, constant)\n # produces the value [1,2,3]\n ```\n\n * @param streams streams and properties to combine\n */\nfunction combineAsArray(...streams) {\n    streams = argumentsToObservables(streams);\n    if (streams.length) {\n        var sources = [];\n        for (var i = 0; i < streams.length; i++) {\n            let stream = (isObservable(streams[i])\n                ? streams[i]\n                : constant(streams[i]));\n            sources.push(wrap(stream));\n        }\n        return whenP([sources, (...xs) => xs]).withDesc(new Desc(\"Bacon\", \"combineAsArray\", streams));\n    }\n    else {\n        return constant([]);\n    }\n}\nfunction combineWith(...args) {\n    // TODO: untyped\n    var [streams, f] = argumentsToObservablesAndFunction(arguments);\n    var desc = new Desc(\"Bacon\", \"combineWith\", [f, ...streams]);\n    return combineAsArray(streams).map(function (values) {\n        return f(...values);\n    }).withDesc(desc);\n}\nconst combine = combineWith;\n/** @hidden */\nfunction combineTwo(left, right, f) {\n    return whenP([[wrap(left), wrap(right)], f]).withDesc(new Desc(left, \"combine\", [right, f]));\n}\nfunction wrap(obs) {\n    return new DefaultSource(obs, true);\n}\n\n/** @hidden */\nfunction skip(src, count) {\n    return src.transform((event, sink) => {\n        if (!event.hasValue) {\n            return sink(event);\n        }\n        else if (count > 0) {\n            count--;\n            return more;\n        }\n        else {\n            return sink(event);\n        }\n    }, new Desc(src, \"skip\", [count]));\n}\n\n/** @hidden */\nfunction flatMapConcat(src, f) {\n    return flatMap_(handleEventValueWith(f), src, {\n        desc: new Desc(src, \"flatMapConcat\", [f]),\n        limit: 1\n    });\n}\n\n/**\n If none of the other factory methods above apply, you may of course roll your own EventStream by using `fromBinder`.\n\n <a name=\"bacon-frombinder\"></a>\n [`Bacon.fromBinder(subscribe)`](#bacon-frombinder \"Bacon.fromBinder(subscribe)\") The parameter `subscribe` is a function that accepts a `sink` which is a function that your `subscribe` function can \"push\" events to.\n\n For example:\n\n ```js\n var stream = Bacon.fromBinder(function(sink) {\n  sink(\"first value\")\n  sink([new Bacon.Next(\"2nd\"), new Bacon.Next(\"3rd\")])\n  sink(new Bacon.Error(\"oops, an error\"))\n  sink(new Bacon.End())\n  return function() {\n     // unsub functionality here, this one's a no-op\n  }\n})\n stream.log()\n ```\n\n As shown in the example, you can push\n\n - A plain value, like `\"first value\"`\n - An [`Event`](#event) object including [`Bacon.Error`](#bacon-error) (wraps an error) and [`Bacon.End`](#bacon-end) (indicates\n stream end).\n - An array of [event](#event) objects at once\n\n Other examples can be found on [JSFiddle](http://jsfiddle.net/PG4c4/) and the\n [Bacon.js blog](http://baconjs.blogspot.fi/2013/12/wrapping-things-in-bacon.html).\n\n The `subscribe` function must return a function. Let's call that function\n `unsubscribe`. The returned function can be used by the subscriber (directly or indirectly) to\n unsubscribe from the EventStream. It should release all resources that the subscribe function reserved.\n\n The `sink` function may return [`Bacon.noMore`](#bacon-nomore) (as well as [`Bacon.more`](#bacon-more)\n or any other value). If it returns [`Bacon.noMore`](#bacon-nomore), no further events will be consumed\n by the subscriber. The `subscribe` function may choose to clean up all resources at this point (e.g.,\n by calling `unsubscribe`). This is usually not necessary, because further calls to `sink` are ignored,\n but doing so can increase performance in [rare cases](https://github.com/baconjs/bacon.js/issues/484).\n\n The EventStream will wrap your `subscribe` function so that it will\n only be called when the first stream listener is added, and the `unsubscribe`\n function is called only after the last listener has been removed.\n The subscribe-unsubscribe cycle may of course be repeated indefinitely,\n so prepare for multiple calls to the subscribe function.\n\n\n @param  binder\n @param  eventTransformer\n @typeparam V Type of stream elements\n\n */\nfunction fromBinder(binder, eventTransformer = _.id) {\n    var desc = new Desc(\"Bacon\", \"fromBinder\", [binder, eventTransformer]);\n    return new EventStream(desc, function (sink) {\n        var unbound = false;\n        var shouldUnbind = false;\n        var unbind = function () {\n            if (!unbound) {\n                if ((typeof unbinder !== \"undefined\" && unbinder !== null)) {\n                    unbinder();\n                    return unbound = true;\n                }\n                else {\n                    return shouldUnbind = true;\n                }\n            }\n        };\n        var unbinder = binder(function (...args) {\n            var value_ = eventTransformer(...args);\n            let valueArray = isArray(value_) && isEvent(_.last(value_))\n                ? value_\n                : [value_];\n            var reply = more;\n            for (var i = 0; i < valueArray.length; i++) {\n                let event = toEvent(valueArray[i]);\n                reply = sink(event);\n                if (reply === noMore || event.isEnd) {\n                    // defer if binder calls handler in sync before returning unbinder\n                    unbind();\n                    return reply;\n                }\n            }\n            return reply;\n        });\n        if (shouldUnbind) {\n            unbind();\n        }\n        return unbind;\n    });\n}\n\n/**\n Polls given function with given interval.\n Function should return Events: either [`Bacon.Next`](classes/next.html) or [`Bacon.End`](classes/end.html). Polling occurs only\n when there are subscribers to the stream. Polling ends permanently when\n `f` returns [`Bacon.End`](classes/end.html).\n * @param delay poll interval in milliseconds\n * @param poll function to be polled\n * @typeparam V Type of stream elements\n */\nfunction fromPoll(delay, poll) {\n    var desc = new Desc(\"Bacon\", \"fromPoll\", [delay, poll]);\n    return fromBinder((function (handler) {\n        var id = GlobalScheduler.scheduler.setInterval(handler, delay);\n        return function () {\n            return GlobalScheduler.scheduler.clearInterval(id);\n        };\n    }), poll).withDesc(desc);\n}\n\n/**\n Repeats the single element indefinitely with the given interval (in milliseconds)\n\n @param   delay   Repeat delay in milliseconds\n @param   value   The single value to repeat\n @typeparam V Type of stream elements\n */\nfunction interval(delay, value) {\n    return fromPoll(delay, function () {\n        return nextEvent(value);\n    }).withDesc(new Desc(\"Bacon\", \"interval\", [delay, value]));\n}\n\nfunction makeCombinator(combinator) {\n    if (typeof combinator == \"function\") {\n        return combinator;\n    }\n    else {\n        return _.id;\n    }\n}\n/** @hidden */\nfunction sampledBy(samplee, sampler, f) {\n    if (samplee instanceof EventStream) {\n        return sampledByE(samplee, sampler, f);\n    }\n    else {\n        return sampledByP(samplee, sampler, f);\n    }\n}\n/** @hidden */\nfunction sampledByP(samplee, sampler, f) {\n    let combinator = makeCombinator(f);\n    var result = withLatestFrom(sampler, samplee, flip(combinator));\n    return result.withDesc(new Desc(samplee, \"sampledBy\", [sampler]));\n}\n/** @hidden */\nfunction sampledByE(samplee, sampler, f) {\n    return sampledByP(samplee.toProperty(), sampler, f).withDesc(new Desc(samplee, \"sampledBy\", [sampler]));\n}\n/** @hidden */\nfunction sampleP(samplee, samplingInterval) {\n    return sampledByP(samplee, interval(samplingInterval, {}), (a, b) => a).withDesc(new Desc(samplee, \"sample\", [samplingInterval]));\n}\n\n/** @hidden */\nfunction transformP(src, transformer, desc) {\n    return new Property(new Desc(src, \"transform\", [transformer]), sink => src.subscribeInternal(e => transformer(e, sink))).withDesc(desc);\n}\n/** @hidden */\nfunction transformE(src, transformer, desc) {\n    return new EventStream(new Desc(src, \"transform\", [transformer]), sink => src.subscribeInternal(e => transformer(e, sink)), undefined, allowSync).withDesc(desc);\n}\n/** @hidden */\nfunction composeT(t1, t2) {\n    let finalSink; // mutation used to avoid closure creation while dispatching events\n    const sink2 = (event) => {\n        return t2(event, finalSink);\n    };\n    return (event, sink) => {\n        finalSink = sink;\n        return t1(event, sink2);\n    };\n}\n\n/** @hidden */\nfunction toPredicate(f) {\n    if (typeof f == \"boolean\") {\n        return _.always(f);\n    }\n    else if (typeof f != \"function\") {\n        throw new Error(\"Not a function: \" + f);\n    }\n    else {\n        return f;\n    }\n}\n/** @hidden */\nfunction withPredicate(src, f, predicateTransformer, desc) {\n    if (f instanceof Property) {\n        return withLatestFrom(src, f, (p, v) => [p, v])\n            .transform(composeT(predicateTransformer(((tuple) => tuple[1])), mapT((tuple) => tuple[0])), desc);\n        // the `any` type above is needed because the type argument for Predicate2Transformer is fixed. We'd need higher-kinded types to be able to express this properly, I think.\n    }\n    return src.transform(predicateTransformer(toPredicate(f)), desc);\n}\n\n/** @hidden */\nfunction filter$1(src, f) {\n    return withPredicate(src, f, filterT, new Desc(src, \"filter\", [f]));\n}\n/** @hidden */\nfunction filterT(f) {\n    return (e, sink) => {\n        if (e.filter(f)) {\n            return sink(e);\n        }\n        else {\n            return more;\n        }\n    };\n}\n\n/** @hidden */\nfunction not(src) {\n    return src.map(x => !x).withDesc(new Desc(src, \"not\", []));\n}\n/** @hidden */\nfunction and(left, right) {\n    return left.combine(toProperty(right), (x, y) => !!(x && y)).withDesc(new Desc(left, \"and\", [right]));\n}\n/** @hidden */\nfunction or(left, right) {\n    return left.combine(toProperty(right), (x, y) => x || y).withDesc(new Desc(left, \"or\", [right]));\n}\nfunction toProperty(x) {\n    if (isProperty(x)) {\n        return x;\n    }\n    return constant(x);\n}\n\n/** @hidden */\nfunction flatMapFirst(src, f) {\n    return flatMap_(handleEventValueWith(f), src, {\n        firstOnly: true,\n        desc: new Desc(src, \"flatMapFirst\", [f])\n    });\n}\n\n/** @hidden */\nfunction concatE(left, right, options) {\n    return new EventStream(new Desc(left, \"concat\", [right]), function (sink) {\n        var unsubRight = nop;\n        var unsubLeft = left.dispatcher.subscribe(function (e) {\n            if (e.isEnd) {\n                unsubRight = right.toEventStream().dispatcher.subscribe(sink);\n                return more;\n            }\n            else {\n                return sink(e);\n            }\n        });\n        return function () {\n            return unsubLeft(), unsubRight();\n        };\n    }, undefined, options);\n}\n/**\n Concatenates given array of EventStreams or Properties. Works by subscribing to the first source, and listeing to that\n until it ends. Then repeatedly subscribes to the next source, until all sources have ended.\n\n See [`concat`](#observable-concat)\n */\nfunction concatAll(...streams_) {\n    let streams = argumentsToObservables(streams_);\n    return (streams.length\n        ? fold(tail(streams), head(streams).toEventStream(), (a, b) => a.concat(b))\n        : never()).withDesc(new Desc(\"Bacon\", \"concatAll\", streams));\n}\n\n/** @hidden */\nfunction transformPropertyChanges(property, f, desc) {\n    let initValue;\n    let comboSink;\n    // Create a `changes` stream to be transformed, which also snatches the Initial value for later use.\n    const changes = new EventStream(describe(property, \"changes\", []), (sink) => property.dispatcher.subscribe(function (event) {\n        if (!initValue && isInitial(event)) {\n            initValue = event;\n            UpdateBarrier.whenDoneWith(combo, function () {\n                if (!comboSink) {\n                    throw new Error(\"Init sequence fail\");\n                }\n                comboSink(initValue);\n            });\n        }\n        if (!event.isInitial) {\n            return sink(event);\n        }\n        return more;\n    }), undefined, allowSync);\n    const transformedChanges = f(changes);\n    const combo = propertyFromStreamSubscribe(desc, (sink) => {\n        comboSink = sink;\n        return transformedChanges.dispatcher.subscribe(function (event) {\n            sink(event);\n        });\n    });\n    return combo;\n}\n\n/** @hidden */\nfunction fold$1(src, seed, f) {\n    return src.scan(seed, f)\n        .last()\n        .withDesc(new Desc(src, \"fold\", [seed, f]));\n}\n\n/** @hidden */\nfunction startWithE(src, seed) {\n    return once(seed).concat(src).withDesc(new Desc(src, \"startWith\", [seed]));\n}\n/** @hidden */\nfunction startWithP(src, seed) {\n    return src.scan(seed, (prev, next) => next).withDesc(new Desc(src, \"startWith\", [seed]));\n}\n\n/** @hidden */\nconst endMarker = {};\n/** @hidden */\nfunction takeUntil(src, stopper) {\n    let endMapped = src.mapEnd(endMarker);\n    let withEndMarker = groupSimultaneous_([endMapped, stopper.skipErrors()], allowSync);\n    if (src instanceof Property)\n        withEndMarker = withEndMarker.toProperty();\n    return withEndMarker.transform(function (event, sink) {\n        if (hasValue(event)) {\n            var [data, stopper] = event.value;\n            if (stopper.length) {\n                return sink(endEvent());\n            }\n            else {\n                var reply = more;\n                for (var i = 0; i < data.length; i++) {\n                    let value = data[i];\n                    if (value === endMarker) {\n                        return sink(endEvent());\n                    }\n                    else {\n                        reply = sink(nextEvent(value));\n                    }\n                }\n                return reply;\n            }\n        }\n        else {\n            return sink(event);\n        }\n    }, new Desc(src, \"takeUntil\", [stopper]));\n}\n\n/** @hidden */\nfunction flatMap$1(src, f) {\n    return flatMap_(handleEventValueWith(f), src, { desc: new Desc(src, \"flatMap\", [f]) });\n}\n\n/** @hidden */\nfunction flatMapError(src, f) {\n    return flatMap_((x) => {\n        if (x instanceof Error$1) {\n            let error = x.error;\n            return f(error); // I don't understand why I need this little lie\n        }\n        else {\n            return x;\n        }\n    }, src, {\n        mapError: true,\n        desc: new Desc(src, \"flatMapError\", [f])\n    });\n}\n\nvar spies = [];\nvar running = false;\n/** @hidden */\nfunction registerObs(obs) {\n    if (spies.length) {\n        if (!running) {\n            try {\n                running = true;\n                spies.forEach(function (spy) {\n                    spy(obs);\n                });\n            }\n            finally {\n                running = false;\n            }\n        }\n    }\n}\n/**\n Adds your function as a \"spy\" that will get notified on all new Observables.\n This will allow a visualization/analytics tool to spy on all Bacon activity.\n */\nconst spy = (spy) => spies.push(spy);\n\n/** @hidden */\nfunction flatMapLatest(src, f_) {\n    let f = _.toFunction(f_);\n    var stream = isProperty(src) ? src.toEventStream(allowSync) : src;\n    let flatMapped = flatMap$1(stream, (value) => makeObservable(f(value)).takeUntil(stream));\n    if (isProperty(src))\n        flatMapped = flatMapped.toProperty();\n    return flatMapped.withDesc(new Desc(src, \"flatMapLatest\", [f]));\n}\n\n/** @hidden */\nclass Dispatcher {\n    constructor(observable, _subscribe, _handleEvent) {\n        this.pushing = false;\n        this.ended = false;\n        this.prevError = undefined;\n        this.unsubSrc = undefined;\n        this._subscribe = _subscribe;\n        this._handleEvent = _handleEvent;\n        this.subscribe = _.bind(this.subscribe, this);\n        this.handleEvent = _.bind(this.handleEvent, this);\n        this.subscriptions = [];\n        this.observable = observable;\n        this.queue = [];\n    }\n    hasSubscribers() {\n        return this.subscriptions.length > 0;\n    }\n    removeSub(subscription) {\n        this.subscriptions = _.without(subscription, this.subscriptions);\n        return this.subscriptions;\n    }\n    push(event) {\n        if (event.isEnd) {\n            this.ended = true;\n        }\n        return UpdateBarrier.inTransaction(event, this, this.pushIt, [event]);\n    }\n    pushToSubscriptions(event) {\n        try {\n            let tmp = this.subscriptions;\n            const len = tmp.length;\n            for (let i = 0; i < len; i++) {\n                const sub = tmp[i];\n                let reply = sub.sink(event);\n                if (reply === noMore || event.isEnd) {\n                    this.removeSub(sub);\n                }\n            }\n            return true;\n        }\n        catch (error) {\n            this.pushing = false;\n            this.queue = []; // ditch queue in case of exception to avoid unexpected behavior\n            throw error;\n        }\n    }\n    pushIt(event) {\n        if (!this.pushing) {\n            if (event === this.prevError) {\n                return;\n            }\n            if (event.isError) {\n                this.prevError = event;\n            }\n            this.pushing = true;\n            this.pushToSubscriptions(event);\n            this.pushing = false;\n            while (true) {\n                let e = this.queue.shift();\n                if (e) {\n                    this.push(e);\n                }\n                else {\n                    break;\n                }\n            }\n            if (this.hasSubscribers()) {\n                return more;\n            }\n            else {\n                this.unsubscribeFromSource();\n                return noMore;\n            }\n        }\n        else {\n            this.queue.push(event);\n            return more;\n        }\n    }\n    handleEvent(event) {\n        if (this._handleEvent) {\n            return this._handleEvent(event);\n        }\n        else {\n            return this.push(event);\n        }\n    }\n    ;\n    unsubscribeFromSource() {\n        if (this.unsubSrc) {\n            this.unsubSrc();\n        }\n        this.unsubSrc = undefined;\n    }\n    subscribe(sink) {\n        if (this.ended) {\n            sink(endEvent());\n            return nop;\n        }\n        else {\n            assertFunction(sink);\n            let subscription = {\n                sink: sink\n            };\n            this.subscriptions.push(subscription);\n            if (this.subscriptions.length === 1) {\n                this.unsubSrc = this._subscribe(this.handleEvent);\n                assertFunction(this.unsubSrc);\n            }\n            return () => {\n                this.removeSub(subscription);\n                if (!this.hasSubscribers()) {\n                    return this.unsubscribeFromSource();\n                }\n            };\n        }\n    }\n    inspect() {\n        return this.observable.toString();\n    }\n}\n\n/** @hidden */\nclass PropertyDispatcher extends Dispatcher {\n    constructor(property, subscribe, handleEvent) {\n        super(property, subscribe, handleEvent);\n        this.current = none();\n        this.propertyEnded = false;\n        this.subscribe = _.bind(this.subscribe, this);\n    }\n    push(event) {\n        //console.log(\"dispatch\", event, \"from\",  this)\n        if (event.isEnd) {\n            this.propertyEnded = true;\n        }\n        if (event instanceof Value) {\n            //console.log(\"setting current\")\n            this.current = new Some(event);\n            this.currentValueRootId = UpdateBarrier.currentEventId();\n        }\n        else if (event.hasValue) {\n            console.error(\"Unknown event, two Bacons loaded?\", event.constructor);\n        }\n        return super.push(event);\n    }\n    maybeSubSource(sink, reply) {\n        if (reply === noMore) {\n            return nop;\n        }\n        else if (this.propertyEnded) {\n            sink(endEvent());\n            return nop;\n        }\n        else {\n            return super.subscribe(sink);\n        }\n    }\n    subscribe(sink) {\n        // init value is \"bounced\" here because the base Dispatcher class\n        // won't add more than one subscription to the underlying observable.\n        // without bouncing, the init value would be missing from all new subscribers\n        // after the first one\n        var reply = more;\n        if (this.current.isDefined && (this.hasSubscribers() || this.propertyEnded)) {\n            // should bounce init value\n            var dispatchingId = UpdateBarrier.currentEventId();\n            var valId = this.currentValueRootId;\n            if (!this.propertyEnded && valId && dispatchingId && dispatchingId !== valId) {\n                // when subscribing while already dispatching a value and this property hasn't been updated yet\n                // we cannot bounce before this property is up to date.\n                //console.log(\"bouncing with possibly stale value\", event.value, \"root at\", valId, \"vs\", dispatchingId)\n                UpdateBarrier.whenDoneWith(this.observable, () => {\n                    if (this.currentValueRootId === valId) {\n                        //console.log(\"bouncing\", this.current.get().value)\n                        return sink(initialEvent(this.current.get().value));\n                    }\n                });\n                // the subscribing thing should be defered\n                return this.maybeSubSource(sink, reply);\n            }\n            else {\n                //console.log(\"bouncing immdiately\", this.current.get().value)\n                UpdateBarrier.inTransaction(undefined, this, () => {\n                    reply = sink(initialEvent(this.current.get().value));\n                    return reply;\n                }, []);\n                return this.maybeSubSource(sink, reply);\n            }\n        }\n        else {\n            //console.log(\"normal subscribe\", this)\n            return this.maybeSubSource(sink, reply);\n        }\n    }\n    inspect() {\n        return this.observable + \" current= \" + this.current;\n    }\n}\n\n/** @hidden */\nfunction flatMapWithConcurrencyLimit(src, limit, f) {\n    return flatMap_(handleEventValueWith(f), src, {\n        desc: new Desc(src, \"flatMapWithConcurrencyLimit\", [limit, f]),\n        limit\n    });\n}\n\n/** @hidden */\nfunction bufferWithTime(src, delay) {\n    return bufferWithTimeOrCount(src, delay, Number.MAX_VALUE).withDesc(new Desc(src, \"bufferWithTime\", [delay]));\n}\n/** @hidden */\nfunction bufferWithCount(src, count) {\n    return bufferWithTimeOrCount(src, undefined, count).withDesc(new Desc(src, \"bufferWithCount\", [count]));\n}\n/** @hidden */\nfunction bufferWithTimeOrCount(src, delay, count) {\n    const delayFunc = toDelayFunction(delay);\n    function flushOrSchedule(buffer) {\n        if (buffer.values.length === count) {\n            //console.log Bacon.scheduler.now() + \": count-flush\"\n            return buffer.flush();\n        }\n        else if (delayFunc !== undefined) {\n            return buffer.schedule(delayFunc);\n        }\n    }\n    var desc = new Desc(src, \"bufferWithTimeOrCount\", [delay, count]);\n    return buffer(src, flushOrSchedule, flushOrSchedule).withDesc(desc);\n}\nclass Buffer {\n    constructor(onFlush, onInput) {\n        this.push = (e) => more;\n        this.scheduled = null;\n        this.end = undefined;\n        this.values = [];\n        this.onFlush = onFlush;\n        this.onInput = onInput;\n    }\n    flush() {\n        if (this.scheduled) {\n            GlobalScheduler.scheduler.clearTimeout(this.scheduled);\n            this.scheduled = null;\n        }\n        if (this.values.length > 0) {\n            //console.log Bacon.scheduler.now() + \": flush \" + @values\n            var valuesToPush = this.values;\n            this.values = [];\n            var reply = this.push(nextEvent(valuesToPush));\n            if ((this.end != null)) {\n                return this.push(this.end);\n            }\n            else if (reply !== noMore) {\n                return this.onFlush(this);\n            }\n        }\n        else {\n            if ((this.end != null)) {\n                return this.push(this.end);\n            }\n        }\n    }\n    schedule(delay) {\n        if (!this.scheduled) {\n            return this.scheduled = delay(() => {\n                //console.log Bacon.scheduler.now() + \": scheduled flush\"\n                return this.flush();\n            });\n        }\n    }\n}\nfunction toDelayFunction(delay) {\n    if (delay === undefined) {\n        return undefined;\n    }\n    if (typeof delay === \"number\") {\n        var delayMs = delay;\n        return function (f) {\n            //console.log Bacon.scheduler.now() + \": schedule for \" + (Bacon.scheduler.now() + delayMs)\n            return GlobalScheduler.scheduler.setTimeout(f, delayMs);\n        };\n    }\n    return delay;\n}\n/** @hidden */\nfunction buffer(src, onInput = nop, onFlush = nop) {\n    var reply = more;\n    var buffer = new Buffer(onFlush, onInput);\n    return src.transform((event, sink) => {\n        buffer.push = sink;\n        if (hasValue(event)) {\n            buffer.values.push(event.value);\n            //console.log Bacon.scheduler.now() + \": input \" + event.value\n            onInput(buffer);\n        }\n        else if (isError(event)) {\n            reply = sink(event);\n        }\n        else if (isEnd(event)) {\n            buffer.end = event;\n            if (!buffer.scheduled) {\n                //console.log Bacon.scheduler.now() + \": end-flush\"\n                buffer.flush();\n            }\n        }\n        return reply;\n    }).withDesc(new Desc(src, \"buffer\", []));\n}\n\n/** @hidden */\nfunction asyncWrapSubscribe(obs, subscribe) {\n    //assertFunction(subscribe)\n    var subscribing = false;\n    return function wrappedSubscribe(sink) {\n        //assertFunction(sink)\n        const inTransaction = UpdateBarrier.isInTransaction();\n        subscribing = true;\n        var asyncDeliveries;\n        function deliverAsync() {\n            //console.log(\"delivering async\", obs, asyncDeliveries)\n            var toDeliverNow = asyncDeliveries || [];\n            asyncDeliveries = undefined;\n            for (var i = 0; i < toDeliverNow.length; i++) {\n                var event = toDeliverNow[i];\n                sink(event);\n            }\n        }\n        try {\n            return subscribe(function wrappedSink(event) {\n                if (subscribing || asyncDeliveries) {\n                    // Deliver async if currently subscribing\n                    // Also queue further events until async delivery has been completed\n                    //console.log(\"Stream responded synchronously\", obs)\n                    if (!asyncDeliveries) {\n                        asyncDeliveries = [event];\n                        if (inTransaction) {\n                            UpdateBarrier.soonButNotYet(obs, deliverAsync);\n                        }\n                        else {\n                            GlobalScheduler.scheduler.setTimeout(deliverAsync, 0);\n                        }\n                    }\n                    else {\n                        asyncDeliveries.push(event);\n                    }\n                    return more;\n                }\n                else {\n                    return sink(event);\n                }\n            });\n        }\n        finally {\n            subscribing = false;\n        }\n    };\n}\n\n/**\n Merges given array of EventStreams or Properties, by collecting the values from all of the sources into a single\n EventStream.\n\n See also [`merge`](classes/eventstream.html#merge).\n */\nfunction mergeAll(...streams) {\n    let flattenedStreams = argumentsToObservables(streams);\n    if (flattenedStreams.length) {\n        return new EventStream(new Desc(\"Bacon\", \"mergeAll\", flattenedStreams), function (sink) {\n            var ends = 0;\n            var smartSink = function (obs) {\n                return function (unsubBoth) {\n                    return obs.subscribeInternal(function (event) {\n                        if (event.isEnd) {\n                            ends++;\n                            if (ends === flattenedStreams.length) {\n                                return sink(endEvent());\n                            }\n                            else {\n                                return more;\n                            }\n                        }\n                        else {\n                            event = event.toNext();\n                            var reply = sink(event);\n                            if (reply === noMore) {\n                                unsubBoth();\n                            }\n                            return reply;\n                        }\n                    });\n                };\n            };\n            var sinks = map(smartSink, flattenedStreams);\n            return new CompositeUnsubscribe(sinks).unsubscribe;\n        });\n    }\n    else {\n        return never();\n    }\n}\n\n/**\n\n Creates a single-element stream that emits given value after given delay and ends.\n\n @param delay delay in milliseconds\n @param value value to be emitted\n @typeparam V Type of stream elements\n\n */\nfunction later(delay, value) {\n    return fromBinder(function (sink) {\n        var sender = function () {\n            return sink([toEvent(value), endEvent()]);\n        };\n        var id = GlobalScheduler.scheduler.setTimeout(sender, delay);\n        return function () {\n            return GlobalScheduler.scheduler.clearTimeout(id);\n        };\n    }).withDesc(new Desc(\"Bacon\", \"later\", [delay, value]));\n}\n\n/** @hidden */\nfunction delay(src, delay) {\n    return src.transformChanges(new Desc(src, \"delay\", [delay]), function (changes) {\n        return changes.flatMap(function (value) {\n            return later(delay, value);\n        });\n    });\n}\n\n/** @hidden */\nfunction debounce(src, delay) {\n    return src.transformChanges(new Desc(src, \"debounce\", [delay]), function (changes) {\n        return changes.flatMapLatest(function (value) {\n            return later(delay, value);\n        });\n    });\n}\n/** @hidden */\nfunction debounceImmediate(src, delay) {\n    return src.transformChanges(new Desc(src, \"debounceImmediate\", [delay]), function (changes) {\n        return changes.flatMapFirst(function (value) {\n            return once(value).concat(later(delay, value).errors());\n        });\n    });\n}\n\n/** @hidden */\nfunction throttle(src, delay) {\n    return src.transformChanges(new Desc(src, \"throttle\", [delay]), (changes) => changes.bufferWithTime(delay).map((values) => values[values.length - 1]));\n}\n\n/** @hidden */\nfunction bufferingThrottle(src, minimumInterval) {\n    var desc = new Desc(src, \"bufferingThrottle\", [minimumInterval]);\n    return src.transformChanges(desc, changes => changes.flatMapConcat((x) => {\n        return once(x).concat(later(minimumInterval, x).errors());\n    }));\n}\n\n/** @hidden */\nfunction takeWhile(src, f) {\n    return withPredicate(src, f, takeWhileT, new Desc(src, \"takeWhile\", [f]));\n}\nfunction takeWhileT(f) {\n    return (event, sink) => {\n        if (event.filter(f)) {\n            return sink(event);\n        }\n        else {\n            sink(endEvent());\n            return noMore;\n        }\n    };\n}\n\n/** @hidden */\nfunction skipUntil(src, starter) {\n    var started = starter\n        .transform(composeT(takeT(1), mapT(true)))\n        .toProperty()\n        .startWith(false);\n    return src.filter(started).withDesc(new Desc(src, \"skipUntil\", [starter]));\n}\n\n/** @hidden */\nfunction skipWhile(src, f) {\n    return withPredicate(src, f, skipWhileT, new Desc(src, \"skipWhile\", [f]));\n}\n/** @hidden */\nfunction skipWhileT(f) {\n    var started = false;\n    return function (event, sink) {\n        if (started || !hasValue(event) || !f(event.value)) {\n            if (event.hasValue) {\n                started = true;\n            }\n            return sink(event);\n        }\n        else {\n            return more;\n        }\n    };\n}\n\n/** @hidden */\nfunction groupBy(src, keyF, limitF = _.id) {\n    var streams = {};\n    return src.transform(composeT(filterT((x) => !streams[keyF(x)]), mapT(function (firstValue) {\n        var key = keyF(firstValue);\n        var similarValues = src.changes().filter(x => keyF(x) === key);\n        var data = once(firstValue).concat(similarValues);\n        var limited = limitF(data, firstValue).toEventStream().transform((event, sink) => {\n            let reply = sink(event);\n            if (event.isEnd) {\n                delete streams[key];\n            }\n            return reply;\n        });\n        streams[key] = limited;\n        return limited;\n    })));\n}\n\n/** @hidden */\nfunction slidingWindow(src, maxValues, minValues = 0) {\n    return src.scan([], (function (window, value) {\n        return window.concat([value]).slice(-maxValues);\n    }))\n        .filter((function (values) {\n        return values.length >= minValues;\n    })).withDesc(new Desc(src, \"slidingWindow\", [maxValues, minValues]));\n}\n\nconst nullMarker = {};\n/** @hidden */\nfunction diff(src, start, f) {\n    return transformP(scan(src, [start, nullMarker], ((prevTuple, next) => [next, f(prevTuple[0], next)])), composeT(filterT(tuple => tuple[1] !== nullMarker), mapT(tuple => tuple[1])), new Desc(src, \"diff\", [start, f]));\n}\n\n/** @hidden */\nfunction flatScan(src, seed, f) {\n    let current = seed;\n    return src.flatMapConcat((next) => makeObservable(f(current, next)).doAction(updated => current = updated)).toProperty().startWith(seed).withDesc(new Desc(src, \"flatScan\", [seed, f]));\n}\n\n/** @hidden */\nfunction holdWhen(src, valve) {\n    var onHold = false;\n    var bufferedValues = [];\n    var srcIsEnded = false;\n    return new EventStream(new Desc(src, \"holdWhen\", [valve]), function (sink) {\n        var composite = new CompositeUnsubscribe();\n        var subscribed = false;\n        var endIfBothEnded = function (unsub) {\n            if (unsub) {\n                unsub();\n            }\n            if (composite.empty() && subscribed) {\n                return sink(endEvent());\n            }\n            return more;\n        };\n        composite.add(function (unsubAll, unsubMe) {\n            return valve.subscribeInternal(function (event) {\n                if (hasValue(event)) {\n                    onHold = event.value;\n                    var result = more;\n                    if (!onHold) {\n                        var toSend = bufferedValues;\n                        bufferedValues = [];\n                        for (var i = 0; i < toSend.length; i++) {\n                            result = sink(nextEvent(toSend[i]));\n                        }\n                        if (srcIsEnded) {\n                            sink(endEvent());\n                            unsubMe();\n                            result = noMore;\n                        }\n                    }\n                    return result;\n                }\n                else if (event.isEnd) {\n                    return endIfBothEnded(unsubMe);\n                }\n                else {\n                    return sink(event);\n                }\n            });\n        });\n        composite.add(function (unsubAll, unsubMe) {\n            return src.subscribeInternal(function (event) {\n                if (onHold && hasValue(event)) {\n                    bufferedValues.push(event.value);\n                    return more;\n                }\n                else if (event.isEnd && bufferedValues.length) {\n                    srcIsEnded = true;\n                    return endIfBothEnded(unsubMe);\n                }\n                else {\n                    return sink(event);\n                }\n            });\n        });\n        subscribed = true;\n        endIfBothEnded();\n        return composite.unsubscribe;\n    });\n}\n\n/**\n Zips the array of EventStreams / Properties in to a new\n EventStream that will have an array of values from each source as\n its value. Zipping means that events from each source are combined\n pairwise so that the 1st event from each source is published first, then\n the 2nd event from each. The results will be published as soon as there\n is a value from each source.\n\n Be careful not to have too much \"drift\" between streams. If one stream\n produces many more values than some other excessive buffering will\n occur inside the zipped observable.\n\n Example:\n\n ```js\n x = Bacon.fromArray([1,2,3])\n y = Bacon.fromArray([10, 20, 30])\n z = Bacon.fromArray([100, 200, 300])\n Bacon.zipAsArray(x, y, z)\n\n # produces values [1, 10, 100], [2, 20, 200] and [3, 30, 300]\n ```\n\n */\nfunction zipAsArray(...args) {\n    let streams = _.map(((s) => s.toEventStream()), argumentsToObservables(args));\n    return when([streams, (...xs) => xs]).withDesc(new Desc(\"Bacon\", \"zipAsArray\", args));\n}\n/**\n Like [`zipAsArray`](#bacon-zipasarray) but uses the given n-ary\n function to combine the n values from n sources, instead of returning them in an Array.\n */\nfunction zipWith(f, ...streams) {\n    var [streams, f] = argumentsToObservablesAndFunction(arguments);\n    streams = _.map(((s) => s.toEventStream()), streams);\n    return when([streams, f]).withDesc(new Desc(\"Bacon\", \"zipWith\", [f].concat(streams)));\n}\n/** @hidden */\nfunction zip(left, right, f) {\n    return zipWith(f || Array, left, right).withDesc(new Desc(left, \"zip\", [right]));\n}\n\nfunction combineTemplate(template) {\n    function current(ctxStack) { return ctxStack[ctxStack.length - 1]; }\n    function setValue(ctxStack, key, value) {\n        current(ctxStack)[key] = value;\n        return value;\n    }\n    function applyStreamValue(key, index) {\n        return function (ctxStack, values) {\n            setValue(ctxStack, key, values[index]);\n        };\n    }\n    function constantValue(key, value) {\n        return function (ctxStack) {\n            setValue(ctxStack, key, value);\n        };\n    }\n    function mkContext(template) {\n        return isArray(template) ? [] : {};\n    }\n    function pushContext(key, value) {\n        return function (ctxStack) {\n            const newContext = mkContext(value);\n            setValue(ctxStack, key, newContext);\n            ctxStack.push(newContext);\n        };\n    }\n    function containsObservables(value) {\n        if (isObservable(value)) {\n            return true;\n        }\n        else if (value && (value.constructor == Object || value.constructor == Array)) {\n            for (var key in value) {\n                if (Object.prototype.hasOwnProperty.call(value, key)) {\n                    const child = value[key];\n                    if (containsObservables(child))\n                        return true;\n                }\n            }\n        }\n    }\n    function compile(key, value) {\n        if (isObservable(value)) {\n            streams.push(value);\n            funcs.push(applyStreamValue(key, streams.length - 1));\n        }\n        else if (containsObservables(value)) {\n            const popContext = function (ctxStack) { ctxStack.pop(); };\n            funcs.push(pushContext(key, value));\n            compileTemplate(value);\n            funcs.push(popContext);\n        }\n        else {\n            funcs.push(constantValue(key, value));\n        }\n    }\n    function combinator(values) {\n        const rootContext = mkContext(template);\n        const ctxStack = [rootContext];\n        for (var i = 0, f; i < funcs.length; i++) {\n            f = funcs[i];\n            f(ctxStack, values);\n        }\n        return rootContext;\n    }\n    function compileTemplate(template) { _.each(template, compile); }\n    const funcs = [];\n    const streams = [];\n    const resultProperty = containsObservables(template)\n        ? (compileTemplate(template), combineAsArray(streams).map(combinator))\n        : constant(template);\n    return resultProperty.withDesc(new Desc(\"Bacon\", \"combineTemplate\", [template]));\n}\n\n/** @hidden */\nfunction decode(src, cases) {\n    return src.combine(combineTemplate(cases), (key, values) => values[key])\n        .withDesc(new Desc(src, \"decode\", [cases]));\n}\n\n/** @hidden */\nfunction firstToPromise(src, PromiseCtr) {\n    const generator = (resolve, reject) => src.subscribe((event) => {\n        if (hasValue(event)) {\n            resolve(event.value);\n        }\n        if (isError(event)) {\n            reject(event.error);\n        }\n        // One event is enough\n        return noMore;\n    });\n    // Can't do in the global scope, as shim can be applied after Bacon is loaded.\n    if (typeof PromiseCtr === \"function\") {\n        return new PromiseCtr(generator);\n    }\n    else if (typeof Promise === \"function\") {\n        return new Promise(generator);\n    }\n    else {\n        throw new Error(\"There isn't default Promise, use shim or parameter\");\n    }\n}\n/** @hidden */\nfunction toPromise(src, PromiseCtr) {\n    return src.last().firstToPromise(PromiseCtr);\n}\n\nvar idCounter = 0;\n/**\n Observable is the base class for [EventsStream](eventstream.html) and [Property](property.html)\n\n @typeparam V   Type of the elements/values in the stream/property\n */\nclass Observable {\n    constructor(desc) {\n        /**\n         * Unique numeric id of this Observable. Implemented using a simple counter starting from 1.\n         */\n        this.id = ++idCounter;\n        /** @hidden */\n        this._isObservable = true;\n        this.desc = desc;\n        this.initialDesc = desc;\n    }\n    /**\n  Creates a Property that indicates whether\n  `observable` is awaiting `otherObservable`, i.e. has produced a value after the latest\n  value from `otherObservable`. This is handy for keeping track whether we are\n  currently awaiting an AJAX response:\n  \n  ```js\n  var showAjaxIndicator = ajaxRequest.awaiting(ajaxResponse)\n  ```\n  \n     */\n    awaiting(other) {\n        return awaiting(this, other);\n    }\n    /**\n  Throttles the observable using a buffer so that at most one value event in minimumInterval is issued.\n  Unlike [`throttle`](#observable-throttle), it doesn't discard the excessive events but buffers them instead, outputting\n  them with a rate of at most one value per minimumInterval.\n  \n  Example:\n  \n  ```js\n  var throttled = source.bufferingThrottle(2)\n  ```\n  \n  ```\n  source:    asdf----asdf----\n  throttled: a-s-d-f-a-s-d-f-\n  ```\n     */\n    bufferingThrottle(minimumInterval) {\n        return bufferingThrottle(this, minimumInterval);\n    }\n    /**\n  Combines the latest values of the two\n  streams or properties using a two-arg function. Similarly to [`scan`](#scan), you can use a\n  method name instead, so you could do `a.combine(b, \".concat\")` for two\n  properties with array value. The result is a [Property](property.html).\n     */\n    combine(right, f) {\n        return combineTwo(this, right, f).withDesc(new Desc(this, \"combine\", [right, f]));\n    }\n    /**\n  Throttles stream/property by given amount\n  of milliseconds, but so that event is only emitted after the given\n  \"quiet period\". Does not affect emitting the initial value of a [Property](property.html).\n  The difference of [`throttle`](#throttle) and [`debounce`](#debounce) is the same as it is in the\n  same methods in jQuery.\n  \n  Example:\n  \n  ```\n  source:             asdf----asdf----\n  source.debounce(2): -----f-------f--\n  ```\n  \n     */\n    debounce(minimumInterval) {\n        return debounce(this, minimumInterval);\n    }\n    /**\n  Passes the first event in the\n  stream through, but after that, only passes events after a given number\n  of milliseconds have passed since previous output.\n  \n  Example:\n  \n  ```\n  source:                      asdf----asdf----\n  source.debounceImmediate(2): a-d-----a-d-----\n  ```\n     */\n    debounceImmediate(minimumInterval) {\n        return debounceImmediate(this, minimumInterval);\n    }\n    /**\n  Decodes input using the given mapping. Is a\n  bit like a switch-case or the decode function in Oracle SQL. For\n  example, the following would map the value 1 into the string \"mike\"\n  and the value 2 into the value of the `who` property.\n  \n  ```js\n  property.decode({1 : \"mike\", 2 : who})\n  ```\n  \n  This is actually based on [`combineTemplate`](#combinetemplate) so you can compose static\n  and dynamic data quite freely, as in\n  \n  ```js\n  property.decode({1 : { type: \"mike\" }, 2 : { type: \"other\", whoThen : who }})\n  ```\n  \n  The return value of [`decode`](#decode) is always a [`Property`](property.html).\n  \n     */\n    //decode<T extends Record<any, any>>(src: Observable<keyof T>, cases: T): Property<DecodedValueOf<T>>\n    decode(cases) {\n        return decode(this, cases);\n    }\n    /**\n  Delays the stream/property by given amount of milliseconds. Does not delay the initial value of a [`Property`](property.html).\n  \n  ```js\n  var delayed = source.delay(2)\n  ```\n  \n  ```\n  source:    asdf----asdf----\n  delayed:   --asdf----asdf--\n  ```\n  \n     */\n    delay(delayMs) {\n        return delay(this, delayMs);\n    }\n    /**\n     * Returns the an array of dependencies that the Observable has. For instance, for `a.map(function() {}).deps()`, would return `[a]`.\n     This method returns the \"visible\" dependencies only, skipping internal details.  This method is thus suitable for visualization tools.\n     Internally, many combinator functions depend on other combinators to create intermediate Observables that the result will actually depend on.\n     The `deps` method will skip these internal dependencies. See also: [internalDeps](#internaldeps)\n     */\n    deps() {\n        return this.desc.deps();\n    }\n    /**\n  Returns a Property that represents the result of a comparison\n  between the previous and current value of the Observable. For the initial value of the Observable,\n  the previous value will be the given start.\n  \n  Example:\n  \n  ```js\n  var distance = function (a,b) { return a - b }\n  Bacon.sequentially(1, [1,2,3]).diff(0, distance)\n  ```\n  \n  This would result to following elements in the result stream:\n  \n      0 - 1 = -1\n      1 - 2 = -1\n      2 - 3 = -1\n  \n     */\n    diff(start, f) {\n        return diff(this, start, f);\n    }\n    /**\n  Returns a stream/property where the function f\n  is executed for each value, before dispatching to subscribers. This is\n  useful for debugging, but also for stuff like calling the\n  `preventDefault()` method for events. In fact, you can\n  also use a property-extractor string instead of a function, as in\n  `\".preventDefault\"`.\n  \n  Please note that for Properties, it's not guaranteed that the function will be called exactly once\n  per event; when a Property loses all of its subscribers it will re-emit its current value when a\n  new subscriber is added.\n     */\n    doAction(f) {\n        return this.transform(doActionT(f), new Desc(this, \"doAction\", [f]));\n    }\n    doEnd(f) {\n        return this.transform(doEndT(f), new Desc(this, \"doEnd\", [f]));\n    }\n    /**\n  Returns a stream/property where the function f\n  is executed for each error, before dispatching to subscribers.\n  That is, same as [`doAction`](#observable-doaction) but for errors.\n     */\n    doError(f) {\n        return this.transform(doErrorT(f), new Desc(this, \"doError\", [f]));\n    }\n    /**\n  Logs each value of the Observable to the console. doLog() behaves like [`log`](#log)\n  but does not subscribe to the event stream. You can think of doLog() as a\n  logger function that – unlike log() – is safe to use in production. doLog() is\n  safe, because it does not cause the same surprising side-effects as log()\n  does.\n     */\n    doLog(...args) {\n        return this.transform(doLogT(args), new Desc(this, \"doLog\", args));\n    }\n    endAsValue() {\n        return endAsValue(this);\n    }\n    /**\n    Returns a stream/property that ends the on first [`Error`](error.html) event. The\n    error is included in the output of the returned Observable.\n    \n    @param  predicate   optional predicate function to determine whether to end on a given error\n     */\n    endOnError(predicate = x => true) {\n        return endOnError(this, predicate);\n    }\n    /**\n  Returns a stream containing [`Error`](error.html) events only.\n  Same as filtering with a function that always returns false.\n     */\n    errors() {\n        return this.filter(x => false).withDesc(new Desc(this, \"errors\"));\n    }\n    /**\n  Filters values using given predicate function.\n  Instead of a function, you can use a constant value (`true` to include all, `false` to exclude all).\n  \n  You can also filter values based on the value of a\n  property. Event will be included in output [if and only if](http://en.wikipedia.org/wiki/If_and_only_if) the property holds `true`\n  at the time of the event.\n     */\n    filter(f) {\n        return filter$1(this, f);\n    }\n    /**\n  Takes the first element from the stream. Essentially `observable.take(1)`.\n     */\n    first() {\n        return take(1, this, new Desc(this, \"first\"));\n    }\n    /**\n  Returns a Promise which will be resolved with the first event coming from an Observable.\n  Like [`toPromise`](#topromise), the global ES6 promise implementation will be used unless a promise\n  constructor is given.\n     */\n    firstToPromise(PromiseCtr) {\n        return firstToPromise(this, PromiseCtr);\n    }\n    /**\n  Works like [`scan`](#scan) but only emits the final\n  value, i.e. the value just before the observable ends. Returns a\n  [`Property`](property.html).\n     */\n    fold(seed, f) {\n        return fold$1(this, seed, f);\n    }\n    /**\n     An alias for [onValue](#onvalue).\n  \n     Subscribes a given handler function to the observable. Function will be called for each new value (not for errors or stream end).\n     */\n    forEach(f = nullSink) {\n        // TODO: inefficient alias. Also, similar assign alias missing.\n        return this.onValue(f);\n    }\n    /**\n  Pauses and buffers the event stream if last event in valve is truthy.\n  All buffered events are released when valve becomes falsy.\n     */\n    holdWhen(valve) {\n        return holdWhen(this, valve);\n    }\n    inspect() { return this.toString(); }\n    /**\n     * Returns the true dependencies of the observable, including the intermediate \"hidden\" Observables.\n     This method is for Bacon.js internal purposes but could be useful for debugging/analysis tools as well.\n     See also: [deps](#deps)\n     */\n    internalDeps() {\n        return this.initialDesc.deps();\n    }\n    /**\n  Takes the last element from the stream. None, if stream is empty.\n  \n  \n  *Note:* `neverEndingStream.last()` creates the stream which doesn't produce any events and never ends.\n     */\n    last() {\n        return last$1(this);\n    }\n    /**\n  Logs each value of the Observable to the console.\n  It optionally takes arguments to pass to console.log() alongside each\n  value. To assist with chaining, it returns the original Observable. Note\n  that as a side-effect, the observable will have a constant listener and\n  will not be garbage-collected. So, use this for debugging only and\n  remove from production code. For example:\n  \n  ```js\n  myStream.log(\"New event in myStream\")\n  ```\n  \n  or just\n  \n  ```js\n  myStream.log()\n  ```\n  \n     */\n    log(...args) {\n        log(args, this);\n        return this;\n    }\n    /**\n  Adds an extra [`Next`](next.html) event just before End. The value is created\n  by calling the given function when the source stream ends. Instead of a\n  function, a static value can be used.\n     */\n    // TODO: mapEnd and mapError signatures should allow V|V2\n    mapEnd(f) {\n        return this.transform(mapEndT(f), new Desc(this, \"mapEnd\", [f]));\n    }\n    /**\n  Maps errors using given function. More\n  specifically, feeds the \"error\" field of the error event to the function\n  and produces a [`Next`](next.html) event based on the return value.\n     */\n    mapError(f) {\n        return this.transform(mapErrorT(f), new Desc(this, \"mapError\", [f]));\n    }\n    /**\n  Sets the name of the observable. Overrides the default\n  implementation of [`toString`](#tostring) and `inspect`.\n  Returns the same observable, with mutated name.\n     */\n    name(name) {\n        this._name = name;\n        return this;\n    }\n    /**\n  Subscribes a callback to stream end. The function will be called when the stream ends.\n  Just like `subscribe`, this method returns a function for unsubscribing.\n     */\n    onEnd(f = nullVoidSink) {\n        return this.subscribe(function (event) {\n            if (event.isEnd) {\n                return f();\n            }\n            return more;\n        });\n    }\n    /**\n  Subscribes a handler to error events. The function will be called for each error in the stream.\n  Just like `subscribe`, this method returns a function for unsubscribing.\n     */\n    onError(f = nullSink) {\n        return this.subscribe(function (event) {\n            if (isError(event)) {\n                return f(event.error);\n            }\n            return more;\n        });\n    }\n    /**\n  Subscribes a given handler function to the observable. Function will be called for each new value.\n  This is the simplest way to assign a side-effect to an observable. The difference\n  to the `subscribe` method is that the actual stream values are\n  received, instead of [`Event`](event) objects.\n  Just like `subscribe`, this method returns a function for unsubscribing.\n  `stream.onValue` and `property.onValue` behave similarly, except that the latter also\n  pushes the initial value of the property, in case there is one.\n     */\n    onValue(f = nullSink) {\n        return this.subscribe(function (event) {\n            if (hasValue(event)) {\n                return f(event.value);\n            }\n            return more;\n        });\n    }\n    /**\n  Like [`onValue`](#onvalue), but splits the value (assuming its an array) as function arguments to `f`.\n  Only applicable for observables with arrays as values.\n     */\n    onValues(f) {\n        return this.onValue(function (args) { return f(...args); });\n    }\n    /** A synonym for [fold](#fold).\n     */\n    reduce(seed, f) {\n        return fold$1(this, seed, f);\n    }\n    sampledBy(sampler) {\n        return sampledBy(this, sampler, arguments[1]); // TODO: combinator\n    }\n    /**\n  Scans stream/property with given seed value and\n  accumulator function, resulting to a Property. For example, you might\n  use zero as seed and a \"plus\" function as the accumulator to create\n  an \"integral\" property. Instead of a function, you can also supply a\n  method name such as \".concat\", in which case this method is called on\n  the accumulator value and the new stream value is used as argument.\n  \n  Example:\n  \n  ```js\n  var plus = function (a,b) { return a + b }\n  Bacon.sequentially(1, [1,2,3]).scan(0, plus)\n  ```\n  \n  This would result to following elements in the result stream:\n  \n      seed value = 0\n      0 + 1 = 1\n      1 + 2 = 3\n      3 + 3 = 6\n  \n  When applied to a Property as in `r = p.scan(seed, f)`, there's a (hopefully insignificant) catch:\n  The starting value for `r` depends on whether `p` has an\n  initial value when scan is applied. If there's no initial value, this works\n  identically to EventStream.scan: the `seed` will be the initial value of\n  `r`. However, if `r` already has a current/initial value `x`, the\n  seed won't be output as is. Instead, the initial value of `r` will be `f(seed, x)`. This makes sense,\n  because there can only be 1 initial value for a Property at a time.\n     */\n    scan(seed, f) {\n        return scan(this, seed, f);\n    }\n    /**\n  Skips the first n elements from the stream\n     */\n    skip(count) {\n        return skip(this, count);\n    }\n    /**\n  Drops consecutive equal elements. So,\n  from `[1, 2, 2, 1]` you'd get `[1, 2, 1]`. Uses the `===` operator for equality\n  checking by default. If the isEqual argument is supplied, checks by calling\n  isEqual(oldValue, newValue). For instance, to do a deep comparison,you can\n  use the isEqual function from [underscore.js](http://underscorejs.org/)\n  like `stream.skipDuplicates(_.isEqual)`.\n     */\n    skipDuplicates(isEqual) {\n        return skipDuplicates(this, isEqual);\n    }\n    /**\n     * Returns a new stream/property which excludes all [Error](error.html) events in the source\n     */\n    skipErrors() {\n        return skipErrors(this);\n    }\n    /**\n     Skips elements from the source, until a value event\n     appears in the given `starter` stream/property. In other words, starts delivering values\n     from the source after first value appears in `starter`.\n     */\n    skipUntil(starter) {\n        return skipUntil(this, starter);\n    }\n    /**\n     Skips elements until the given predicate function returns falsy once, and then\n     lets all events pass through. Instead of a predicate you can also pass in a `Property<boolean>` to skip elements\n     while the Property holds a truthy value.\n     */\n    skipWhile(f) {\n        return skipWhile(this, f);\n    }\n    /**\n  Returns a Property that represents a\n  \"sliding window\" into the history of the values of the Observable. The\n  result Property will have a value that is an array containing the last `n`\n  values of the original observable, where `n` is at most the value of the\n  `max` argument, and at least the value of the `min` argument. If the\n  `min` argument is omitted, there's no lower limit of values.\n  \n  For example, if you have a stream `s` with value a sequence 1 - 2 - 3 - 4 - 5, the\n  respective values in `s.slidingWindow(2)` would be [] - [1] - [1,2] -\n  [2,3] - [3,4] - [4,5]. The values of `s.slidingWindow(2,2)`would be\n  [1,2] - [2,3] - [3,4] - [4,5].\n  \n     */\n    slidingWindow(maxValues, minValues = 0) {\n        return slidingWindow(this, maxValues, minValues);\n    }\n    /**\n     * subscribes given handler function to event stream. Function will receive [event](event.html) objects\n     for all new value, end and error events in the stream.\n     The subscribe() call returns a `unsubscribe` function that you can call to unsubscribe.\n     You can also unsubscribe by returning [`Bacon.noMore`](../globals.html#nomore) from the handler function as a reply\n     to an Event.\n     `stream.subscribe` and `property.subscribe` behave similarly, except that the latter also\n     pushes the initial value of the property, in case there is one.\n  \n     * @param {EventSink<V>} sink the handler function\n     * @returns {Unsub}\n     */\n    subscribe(sink = nullSink) {\n        return UpdateBarrier.wrappedSubscribe(this, sink => this.subscribeInternal(sink), sink);\n    }\n    /**\n  Takes at most n values from the stream and then ends the stream. If the stream has\n  fewer than n values then it is unaffected.\n  Equal to [`Bacon.never()`](../globals.html#never) if `n <= 0`.\n     */\n    take(count) {\n        return take(count, this);\n    }\n    /**\n  Takes elements from source until a value event appears in the other stream.\n  If other stream ends without value, it is ignored.\n     */\n    takeUntil(stopper) {\n        return takeUntil(this, stopper);\n    }\n    /**\n  Takes while given predicate function holds true, and then ends. Alternatively, you can supply a boolean Property to take elements while the Property holds `true`.\n     */\n    takeWhile(f) {\n        return takeWhile(this, f);\n    }\n    /**\n  Throttles stream/property by given amount\n  of milliseconds. Events are emitted with the minimum interval of\n  [`delay`](#observable-delay). The implementation is based on [`stream.bufferWithTime`](#stream-bufferwithtime).\n  Does not affect emitting the initial value of a [`Property`](#property).\n  \n  Example:\n  \n  ```js\n  var throttled = source.throttle(2)\n  ```\n  \n  ```\n  source:    asdf----asdf----\n  throttled: --s--f----s--f--\n  ```\n     */\n    throttle(minimumInterval) {\n        return throttle(this, minimumInterval);\n    }\n    /**\n  Returns a Promise which will be resolved with the last event coming from an Observable.\n  The global ES6 promise implementation will be used unless a promise constructor is given.\n  Use a shim if you need to support legacy browsers or platforms.\n  [caniuse promises](http://caniuse.com/#feat=promises).\n  \n  See also [firstToPromise](#firsttopromise).\n     */\n    toPromise(PromiseCtr) {\n        return toPromise(this, PromiseCtr);\n    }\n    /**\n     *Returns a textual description of the Observable. For instance, `Bacon.once(1).map(function() {}).toString()` would return \"Bacon.once(1).map(function)\".\n     **/\n    toString() {\n        if (this._name) {\n            return this._name;\n        }\n        else {\n            return this.desc.toString();\n        }\n    }\n    withDesc(desc) {\n        if (desc)\n            this.desc = desc;\n        return this;\n    }\n    /**\n  Sets the structured description of the observable. The [`toString`](#tostring) and `inspect` methods\n  use this data recursively to create a string representation for the observable. This method\n  is probably useful for Bacon core / library / plugin development only.\n  \n  For example:\n  \n      var src = Bacon.once(1)\n      var obs = src.map(function(x) { return -x })\n      console.log(obs.toString())\n      --> Bacon.once(1).map(function)\n      obs.withDescription(src, \"times\", -1)\n      console.log(obs.toString())\n      --> Bacon.once(1).times(-1)\n  \n  The method returns the same observable with mutated description.\n  \n  */\n    withDescription(context, method, ...args) {\n        this.desc = describe(context, method, ...args);\n        return this;\n    }\n    /**\n  Returns an EventStream with elements\n  pair-wise lined up with events from this and the other EventStream or Property.\n  A zipped stream will publish only when it has a value from each\n  source and will only produce values up to when any single source ends.\n  \n  The given function `f` is used to create the result value from value in the two\n  sources. If no function is given, the values are zipped into an array.\n  \n  Be careful not to have too much \"drift\" between streams. If one stream\n  produces many more values than some other excessive buffering will\n  occur inside the zipped observable.\n  \n  Example 1:\n  \n  ```js\n  var x = Bacon.fromArray([1, 2])\n  var y = Bacon.fromArray([3, 4])\n  x.zip(y, function(x, y) { return x + y })\n  \n  # produces values 4, 6\n  ```\n  \n  See also [`zipWith`](../globals.html#zipwith) and [`zipAsArray`](../globals.html/zipasarray) for zipping more than 2 sources.\n  \n     */\n    zip(other, f) {\n        return zip(this, other, f);\n    }\n}\n/**\n A reactive property. Has the concept of \"current value\".\n You can create a Property from an EventStream by using either [`toProperty`](eventstream.html#toproperty)\n or [`scan`](eventstream.html#scan) method. Note: depending on how a Property is created, it may or may not\n have an initial value. The current value stays as its last value after the stream has ended.\n\n Here are the most common ways for creating Properties:\n\n - Create a constant property with [constant](../globals.html#constant)\n - Create a property based on an EventStream with [toProperty](eventstream.html#toproperty)\n - Scan an EventStream with an accumulator function with [scan](eventstream.html#scan)\n - Create a state property based on multiple sources using [update](../globals.html#update)\n\n @typeparam V   Type of the elements/values in the stream/property\n */\nclass Property extends Observable {\n    constructor(desc, subscribe, handler) {\n        super(desc);\n        /** @internal */\n        this._isProperty = true;\n        assertFunction(subscribe);\n        this.dispatcher = new PropertyDispatcher(this, subscribe, handler);\n        registerObs(this);\n    }\n    /**\n     Combines properties with the `&&` operator. It produces a new value when either of the Properties change,\n     combining the latest values using `&&`.\n     */\n    and(other) {\n        return and(this, other);\n    }\n    /**\n     * creates a stream of changes to the Property. The stream *does not* include\n     an event for the current value of the Property at the time this method was called.\n     */\n    changes() {\n        return new EventStream(new Desc(this, \"changes\", []), (sink) => this.dispatcher.subscribe(function (event) {\n            if (!event.isInitial) {\n                return sink(event);\n            }\n            return more;\n        }));\n    }\n    concat(other) {\n        return this.transformChanges(describe(this, \"concat\", other), changes => changes.concat(other));\n    }\n    /** @hidden */\n    transformChanges(desc, f) {\n        return transformPropertyChanges(this, f, desc);\n    }\n    /**\n     For each element in the source stream, spawn a new\n     stream/property using the function `f`. Collect events from each of the spawned\n     streams into the result property. Note that instead of a function, you can provide a\n     stream/property too. Also, the return value of function `f` can be either an\n     `Observable` (stream/property) or a constant value.\n  \n     `stream.flatMap()` can be used conveniently with [`Bacon.once()`](../globals.html#once) and [`Bacon.never()`](../globals.html#never)\n     for converting and filtering at the same time, including only some of the results.\n  \n     Example - converting strings to integers, skipping empty values:\n  \n     ```js\n     stream.flatMap(function(text) {\n      return (text != \"\") ? parseInt(text) : Bacon.never()\n  })\n     ```\n     */\n    flatMap(f) {\n        return flatMap$1(this, f);\n    }\n    /**\n     A [`flatMapWithConcurrencyLimit`](#flatmapwithconcurrencylimit) with limit of 1.\n     */\n    flatMapConcat(f) {\n        return flatMapConcat(this, f);\n    }\n    /**\n     Like [`flatMap`](#flatmap), but is applied only on [`Error`](error.html) events. Returned values go into the\n     value stream, unless an error event is returned. As an example, one type of error could result in a retry and another just\n     passed through, which can be implemented using flatMapError.\n     */\n    flatMapError(f) {\n        return flatMapError(this, f);\n    }\n    flatMapEvent(f) {\n        return flatMapEvent(this, f);\n    }\n    /**\n     Like [`flatMap`](#observable-flatmap), but only spawns a new\n     stream if the previously spawned stream has ended.\n     */\n    flatMapFirst(f) {\n        return flatMapFirst(this, f);\n    }\n    /**\n     Like [`flatMap`](#flatmap), but instead of including events from\n     all spawned streams, only includes them from the latest spawned stream.\n     You can think this as switching from stream to stream.\n     Note that instead of a function, you can provide a stream/property too.\n     */\n    flatMapLatest(f) {\n        return flatMapLatest(this, f);\n    }\n    /**\n     A super method of *flatMap* family. It limits the number of open spawned streams and buffers incoming events.\n     [`flatMapConcat`](#flatmapconcat) is `flatMapWithConcurrencyLimit(1)` (only one input active),\n     and [`flatMap`](#flatmap) is `flatMapWithConcurrencyLimit ∞` (all inputs are piped to output).\n     */\n    flatMapWithConcurrencyLimit(limit, f) {\n        return flatMapWithConcurrencyLimit(this, limit, f);\n    }\n    /**\n     Groups stream events to new streams by `keyF`. Optional `limitF` can be provided to limit grouped\n     stream life. Stream transformed by `limitF` is passed on if provided. `limitF` gets grouped stream\n     and the original event causing the stream to start as parameters.\n  \n     Calculator for grouped consecutive values until group is cancelled:\n  \n     ```\n     var events = [\n     {id: 1, type: \"add\", val: 3 },\n     {id: 2, type: \"add\", val: -1 },\n     {id: 1, type: \"add\", val: 2 },\n     {id: 2, type: \"cancel\"},\n     {id: 3, type: \"add\", val: 2 },\n     {id: 3, type: \"cancel\"},\n     {id: 1, type: \"add\", val: 1 },\n     {id: 1, type: \"add\", val: 2 },\n     {id: 1, type: \"cancel\"}\n     ]\n  \n     function keyF(event) {\n    return event.id\n  }\n  \n     function limitF(groupedStream, groupStartingEvent) {\n    var cancel = groupedStream.filter(function(x) { return x.type === \"cancel\"}).take(1)\n    var adds = groupedStream.filter(function(x) { return x.type === \"add\" })\n    return adds.takeUntil(cancel).map(\".val\")\n  }\n  \n     Bacon.sequentially(2, events)\n     .groupBy(keyF, limitF)\n     .flatMap(function(groupedStream) {\n      return groupedStream.fold(0, function(acc, x) { return acc + x })\n    })\n     .onValue(function(sum) {\n      console.log(sum)\n      // returns [-1, 2, 8] in an order\n    })\n     ```\n  \n     */\n    groupBy(keyF, limitF) {\n        return groupBy(this, keyF, limitF);\n    }\n    /**\n     Maps values using given function, returning a new\n     stream/property. Instead of a function, you can also provide a [Property](property.html),\n     in which case each element in the source stream will be mapped to the current value of\n     the given property.\n     */\n    map(f) {\n        return map$1(this, f);\n    }\n    /** Returns a Property that inverts the value of this one (using the `!` operator). **/\n    not() {\n        return not(this);\n    }\n    /**\n     Combines properties with the `||` operator. It produces a new value when either of the Properties change,\n     combining the latest values using `||`.\n     */\n    or(other) {\n        return or(this, other);\n    }\n    /**\n     Creates an EventStream by sampling the\n     property value at given interval (in milliseconds)\n     */\n    sample(interval) {\n        return sampleP(this, interval);\n    }\n    /**\n    Adds an initial \"default\" value for the\n    Property. If the Property doesn't have an initial value of it's own, the\n    given value will be used as the initial value. If the property has an\n    initial value of its own, the given value will be ignored.\n     */\n    startWith(seed) {\n        return startWithP(this, seed);\n    }\n    /** @hidden */\n    subscribeInternal(sink = nullSink) {\n        return this.dispatcher.subscribe(sink);\n    }\n    /**\n     Creates an EventStream based on this Property. The stream contains also an event for the current\n     value of this Property at the time this method was called.\n     */\n    toEventStream(options) {\n        return new EventStream(new Desc(this, \"toEventStream\", []), (sink) => this.subscribeInternal(function (event) {\n            return sink(event.toNext());\n        }), undefined, options);\n    }\n    /**\n     Returns the Property itself.\n     */\n    toProperty() {\n        assertNoArguments(arguments);\n        return this;\n    }\n    transform(transformer, desc) {\n        return transformP(this, transformer, desc);\n    }\n    /**\n     Creates an EventStream/Property by sampling a given `samplee`\n     stream/property value at each event from the this stream/property.\n  \n     @param {Observable<V2>} samplee\n     @param f function to select/calculate the result value based on the value in the source stream and the samplee\n  \n     @typeparam V2  type of values in the samplee\n     @typeparam R   type of values in the result\n     */\n    withLatestFrom(samplee, f) {\n        return withLatestFromP(this, samplee, f);\n    }\n    /**\n     Lets you run a state machine\n     on an observable. Give it an initial state object and a state\n     transformation function that processes each incoming event and\n     returns an array containing the next state and an array of output\n     events. Here's an example where we calculate the total sum of all\n     numbers in the stream and output the value on stream end:\n  \n     ```js\n     Bacon.fromArray([1,2,3])\n     .withStateMachine(0, function(sum, event) {\n      if (event.hasValue)\n        return [sum + event.value, []]\n      else if (event.isEnd)\n        return [undefined, [new Bacon.Next(sum), event]]\n      else\n        return [sum, [event]]\n    })\n     ```\n     @param initState  initial state for the state machine\n     @param f          the function that defines the state machine\n     @typeparam  State   type of machine state\n     @typeparam  Out     type of values to be emitted\n     */\n    withStateMachine(initState, f) {\n        return withStateMachine(initState, f, this);\n    }\n}\n/** @hidden */\nfunction isProperty(x) {\n    return !!x._isProperty;\n}\n// allowSync option is used for overriding the \"force async\" behaviour or EventStreams.\n// ideally, this should not exist, but right now the implementation of some operations\n// relies on using internal EventStreams that have synchronous behavior. These are not exposed\n// to the outside world, though.\n/** @hidden */\nconst allowSync = { forceAsync: false };\n/**\n * EventStream represents a stream of events. It is an Observable object, meaning\n that you can listen to events in the stream using, for instance, the [`onValue`](#onvalue) method\n with a callback.\n\n To create an EventStream, you'll want to use one of the following factory methods:\n\n  - From DOM EventTarget or Node.JS EventEmitter objects using [fromEvent](../globals.html#fromevent)\n  - From a Promise using [fromPromise](../globals.html#frompromise)\n  - From an unary callback using [fromCallback](../globals.html#fromcallback)\n  - From a Node.js style callback using [fromNodeCallback](../globals.html#fromnodecallback)\n  - From RxJs or Kefir observables using [fromESObservable](../globals.html#fromesobservable)\n  - By polling a synchronous function using [fromPoll](../globals.html#fromPoll)\n  - Emit a single event instantly using [once](../globals.html#once)\n  - Emit a single event with a delay [later](../globals.html#later)\n  - Emit the same event indefinitely using [interval](../globals.html#interval)\n  - Emit an array of events instantly [fromArray](../globals.html#fromarray)\n  - Emit an array of events with a delay [sequentially](../globals.html#sequentially)\n  - Emit an array of events repeatedly with a delay [repeatedly](../globals.html#repeatedly)\n  - Use a generator function to be called repeatedly [repeat](../globals.html#repeat)\n  - Create a stream that never emits an event, ending immediately [never](../globals.html#never)\n  - Create a stream that never emits an event, ending with a delay [silence](../globals.html#silence)\n  - Create stream using a custom binder function [fromBinder](../globals.html#frombinder)\n  - Wrap jQuery events using [asEventStream](../globals.html#_)\n\n\n @typeparam V   Type of the elements/values in the stream/property\n\n */\nclass EventStream extends Observable {\n    constructor(desc, subscribe, handler, options) {\n        super(desc);\n        /** @hidden */\n        this._isEventStream = true;\n        if (options !== allowSync) {\n            subscribe = asyncWrapSubscribe(this, subscribe);\n        }\n        this.dispatcher = new Dispatcher(this, subscribe, handler);\n        registerObs(this);\n    }\n    /**\n     Buffers stream events with given delay.\n     The buffer is flushed at most once in the given interval. So, if your input\n     contains [1,2,3,4,5,6,7], then you might get two events containing [1,2,3,4]\n     and [5,6,7] respectively, given that the flush occurs between numbers 4 and 5.\n  \n     Also works with a given \"defer-function\" instead\n     of a delay. Here's a simple example, which is equivalent to\n     stream.bufferWithTime(10):\n  \n     ```js\n     stream.bufferWithTime(function(f) { setTimeout(f, 10) })\n     ```\n  \n     * @param delay buffer duration in milliseconds\n     */\n    bufferWithTime(delay) {\n        return bufferWithTime(this, delay);\n    }\n    /**\n     Buffers stream events with given count.\n     The buffer is flushed when it contains the given number of elements or the source stream ends.\n  \n     So, if you buffer a stream of `[1, 2, 3, 4, 5]` with count `2`, you'll get output\n     events with values `[1, 2]`, `[3, 4]` and `[5]`.\n  \n     * @param {number} count\n     */\n    bufferWithCount(count) {\n        return bufferWithCount(this, count);\n    }\n    /**\n     Buffers stream events and\n     flushes when either the buffer contains the given number elements or the\n     given amount of milliseconds has passed since last buffered event.\n  \n     * @param {number | DelayFunction} delay in milliseconds or as a function\n     * @param {number} count  maximum buffer size\n     */\n    bufferWithTimeOrCount(delay, count) {\n        return bufferWithTimeOrCount(this, delay, count);\n    }\n    changes() {\n        return this;\n    }\n    concat(other, options) {\n        return concatE(this, other, options);\n    }\n    /** @hidden */\n    transformChanges(desc, f) {\n        return f(this).withDesc(desc);\n    }\n    /**\n     For each element in the source stream, spawn a new\n     stream/property using the function `f`. Collect events from each of the spawned\n     streams into the result stream/property. Note that instead of a function, you can provide a\n     stream/property too. Also, the return value of function `f` can be either an\n     `Observable` (stream/property) or a constant value.\n  \n     `stream.flatMap()` can be used conveniently with [`Bacon.once()`](../globals.html#once) and [`Bacon.never()`](../globals.html#never)\n     for converting and filtering at the same time, including only some of the results.\n  \n     Example - converting strings to integers, skipping empty values:\n  \n     ```js\n     stream.flatMap(function(text) {\n      return (text != \"\") ? parseInt(text) : Bacon.never()\n  })\n     ```\n     */\n    flatMap(f) { return flatMap$1(this, f); }\n    /**\n     A [`flatMapWithConcurrencyLimit`](#flatmapwithconcurrencylimit) with limit of 1.\n     */\n    flatMapConcat(f) { return flatMapConcat(this, f); }\n    /**\n     Like [`flatMap`](#flatmap), but is applied only on [`Error`](error.html) events. Returned values go into the\n     value stream, unless an error event is returned. As an example, one type of error could result in a retry and another just\n     passed through, which can be implemented using flatMapError.\n     */\n    flatMapError(f) { return flatMapError(this, f); }\n    /**\n     Like [`flatMap`](#observable-flatmap), but only spawns a new\n     stream if the previously spawned stream has ended.\n     */\n    flatMapFirst(f) { return flatMapFirst(this, f); }\n    /**\n     Like [`flatMap`](#flatmap), but instead of including events from\n     all spawned streams, only includes them from the latest spawned stream.\n     You can think this as switching from stream to stream.\n     Note that instead of a function, you can provide a stream/property too.\n     */\n    flatMapLatest(f) { return flatMapLatest(this, f); }\n    /**\n     A super method of *flatMap* family. It limits the number of open spawned streams and buffers incoming events.\n     [`flatMapConcat`](#flatmapconcat) is `flatMapWithConcurrencyLimit(1)` (only one input active),\n     and [`flatMap`](#flatmap) is `flatMapWithConcurrencyLimit ∞` (all inputs are piped to output).\n     */\n    flatMapWithConcurrencyLimit(limit, f) { return flatMapWithConcurrencyLimit(this, limit, f); }\n    flatMapEvent(f) { return flatMapEvent(this, f); }\n    /**\n     Scans stream with given seed value and accumulator function, resulting to a Property.\n     Difference to [`scan`](#scan) is that the function `f` can return an [`EventStream`](eventstream.html) or a [`Property`](property.html) instead\n     of a pure value, meaning that you can use [`flatScan`](#flatscan) for asynchronous updates of state. It serializes\n     updates so that that the next update will be queued until the previous one has completed.\n  \n     * @param seed initial value to start with\n     * @param f transition function from previous state and new value to next state\n     * @typeparam V2 state and result type\n     */\n    flatScan(seed, f) {\n        return flatScan(this, seed, f);\n    }\n    /**\n     Groups stream events to new streams by `keyF`. Optional `limitF` can be provided to limit grouped\n     stream life. Stream transformed by `limitF` is passed on if provided. `limitF` gets grouped stream\n     and the original event causing the stream to start as parameters.\n  \n     Calculator for grouped consecutive values until group is cancelled:\n  \n     ```\n     var events = [\n     {id: 1, type: \"add\", val: 3 },\n     {id: 2, type: \"add\", val: -1 },\n     {id: 1, type: \"add\", val: 2 },\n     {id: 2, type: \"cancel\"},\n     {id: 3, type: \"add\", val: 2 },\n     {id: 3, type: \"cancel\"},\n     {id: 1, type: \"add\", val: 1 },\n     {id: 1, type: \"add\", val: 2 },\n     {id: 1, type: \"cancel\"}\n     ]\n  \n     function keyF(event) {\n    return event.id\n  }\n  \n     function limitF(groupedStream, groupStartingEvent) {\n    var cancel = groupedStream.filter(function(x) { return x.type === \"cancel\"}).take(1)\n    var adds = groupedStream.filter(function(x) { return x.type === \"add\" })\n    return adds.takeUntil(cancel).map(\".val\")\n  }\n  \n     Bacon.sequentially(2, events)\n     .groupBy(keyF, limitF)\n     .flatMap(function(groupedStream) {\n      return groupedStream.fold(0, function(acc, x) { return acc + x })\n    })\n     .onValue(function(sum) {\n      console.log(sum)\n      // returns [-1, 2, 8] in an order\n    })\n     ```\n  \n     */\n    groupBy(keyF, limitF) {\n        return groupBy(this, keyF, limitF);\n    }\n    /**\n   Maps values using given function, returning a new\n   stream/property. Instead of a function, you can also provide a [Property](property.html),\n   in which case each element in the source stream will be mapped to the current value of\n   the given property.\n   */\n    map(f) {\n        return map$1(this, f);\n    }\n    merge(other) {\n        assertEventStream(other);\n        return mergeAll(this, other).withDesc(new Desc(this, \"merge\", [other]));\n    }\n    /**\n     Returns a stream/property that inverts boolean values (using `!`)\n     */\n    not() { return not(this); }\n    /**\n     Adds a starting value to the stream/property, i.e. concats a\n     single-element stream containing the single seed value  with this stream.\n     */\n    // TODO: should allow V|V2 signature\n    startWith(seed) {\n        return startWithE(this, seed);\n    }\n    /** @hidden */\n    subscribeInternal(sink = nullSink) {\n        return this.dispatcher.subscribe(sink);\n    }\n    /**\n     * Returns this stream.\n     */\n    toEventStream() { return this; }\n    /**\n     Creates a Property based on the\n     EventStream.\n  \n     Without arguments, you'll get a Property without an initial value.\n     The Property will get its first actual value from the stream, and after that it'll\n     always have a current value.\n  \n     You can also give an initial value that will be used as the current value until\n     the first value comes from the stream.\n     */\n    toProperty(initValue) {\n        let usedInitValue = arguments.length\n            ? toOption(initValue)\n            : none();\n        let disp = this.dispatcher;\n        let desc = new Desc(this, \"toProperty\", Array.prototype.slice.apply(arguments));\n        let streamSubscribe = disp.subscribe;\n        return new Property(desc, streamSubscribeToPropertySubscribe(usedInitValue, streamSubscribe));\n    }\n    transform(transformer, desc) {\n        return transformE(this, transformer, desc);\n    }\n    /**\n     Creates an EventStream/Property by sampling a given `samplee`\n     stream/property value at each event from the this stream/property.\n  \n     @param {Observable<V2>} samplee\n     @param f function to select/calculate the result value based on the value in the source stream and the samplee\n  \n     @typeparam V2  type of values in the samplee\n     @typeparam R   type of values in the result\n     */\n    withLatestFrom(samplee, f) {\n        return withLatestFromE(this, samplee, f);\n    }\n    /**\n     Lets you run a state machine\n     on an observable. Give it an initial state object and a state\n     transformation function that processes each incoming event and\n     returns an array containing the next state and an array of output\n     events. Here's an example where we calculate the total sum of all\n     numbers in the stream and output the value on stream end:\n  \n     ```js\n     Bacon.fromArray([1,2,3])\n     .withStateMachine(0, function(sum, event) {\n      if (event.hasValue)\n        return [sum + event.value, []]\n      else if (event.isEnd)\n        return [undefined, [new Bacon.Next(sum), event]]\n      else\n        return [sum, [event]]\n    })\n     ```\n     @param initState  initial state for the state machine\n     @param f          the function that defines the state machine\n     @typeparam  State   type of machine state\n     @typeparam  Out     type of values to be emitted\n     */\n    withStateMachine(initState, f) {\n        return withStateMachine(initState, f, this);\n    }\n}\n/** @hidden */\nfunction newEventStream(description, subscribe) {\n    return new EventStream(description, subscribe);\n}\n/** @hidden */\nfunction newEventStreamAllowSync(description, subscribe) {\n    return new EventStream(description, subscribe, undefined, allowSync);\n}\n\nfunction symbol(key) {\n    if (typeof Symbol !== \"undefined\" && Symbol[key]) {\n        return Symbol[key];\n    }\n    else if (typeof Symbol !== \"undefined\" && typeof Symbol.for === \"function\") {\n        return Symbol[key] = Symbol.for(key);\n    }\n    else {\n        return \"@@\" + key;\n    }\n}\n\nclass ESObservable {\n    constructor(observable) {\n        this.observable = observable;\n    }\n    subscribe(observerOrOnNext, onError, onComplete) {\n        const observer = typeof observerOrOnNext === 'function'\n            ? { next: observerOrOnNext, error: onError, complete: onComplete }\n            : observerOrOnNext;\n        const subscription = {\n            closed: false,\n            unsubscribe: function () {\n                subscription.closed = true;\n                cancel();\n            }\n        };\n        const cancel = this.observable.subscribe(function (event) {\n            if (hasValue(event) && observer.next) {\n                observer.next(event.value);\n            }\n            else if (isError(event)) {\n                if (observer.error)\n                    observer.error(event.error);\n                subscription.unsubscribe();\n            }\n            else if (event.isEnd) {\n                subscription.closed = true;\n                if (observer.complete)\n                    observer.complete();\n            }\n        });\n        return subscription;\n    }\n}\nESObservable.prototype[symbol('observable')] = function () {\n    return this;\n};\nObservable.prototype.toESObservable = function () {\n    return new ESObservable(this);\n};\nObservable.prototype[symbol('observable')] = Observable.prototype.toESObservable;\n\n/**\n Creates a Property from an initial value and updates the value based on multiple inputs.\n The inputs are defined similarly to [`Bacon.when`](#bacon-when), like this:\n\n ```js\n var result = Bacon.update(\n initial,\n [x,y,z, (previous,x,y,z) => { ... }],\n [x,y,   (previous,x,y) => { ... }])\n ```\n\n As input, each function above will get the previous value of the `result` Property, along with values from the listed Observables.\n The value returned by the function will be used as the next value of `result`.\n\n Just like in [`Bacon.when`](#when), only EventStreams will trigger an update, while Properties will be just sampled.\n So, if you list a single EventStream and several Properties, the value will be updated only when an event occurs in the EventStream.\n\n Here's a simple gaming example:\n\n ```js\n let scoreMultiplier = Bacon.constant(1)\n let hitUfo = Bacon.interval(1000)\n let hitMotherShip = Bacon.later(10000)\n let score = Bacon.update(\n 0,\n [hitUfo, scoreMultiplier, (score, _, multiplier) => score + 100 * multiplier ],\n [hitMotherShip, (score, _) => score + 2000 ]\n )\n ```\n\n In the example, the `score` property is updated when either `hitUfo` or `hitMotherShip` occur. The `scoreMultiplier` Property is sampled to take multiplier into account when `hitUfo` occurs.\n\n * @param initial\n * @param {UpdatePattern<Out>} patterns\n * @returns {Property<Out>}\n */\nfunction update(initial, ...patterns) {\n    let rawPatterns = extractRawPatterns(patterns);\n    for (var i = 0; i < rawPatterns.length; i++) {\n        let pattern = rawPatterns[i];\n        pattern[1] = lateBindFirst(pattern[1]);\n    }\n    return when(...rawPatterns).scan(initial, (function (x, f) {\n        return f(x);\n    })).withDesc(new Desc(\"Bacon\", \"update\", [initial, ...patterns]));\n}\nfunction lateBindFirst(f) {\n    return function (...args) {\n        return function (i) {\n            return f(...[i].concat(args));\n        };\n    };\n}\n\n/**\n Creates an EventStream that delivers the given\n series of values (given as array) to the first subscriber. The stream ends after these\n values have been delivered. You can also send [`Bacon.Error`](classes/error.html) events, or\n any combination of pure values and error events like this:\n `Bacon.fromArray([1, new Bacon.Error()])\n\n @param   values    Array of values or events to repeat\n @typeparam V Type of stream elements\n */\nfunction fromArray(values) {\n    assertArray(values);\n    if (!values.length) {\n        return never().withDesc(new Desc(\"Bacon\", \"fromArray\", values));\n    }\n    else {\n        var i = 0;\n        var stream = new EventStream(new Desc(\"Bacon\", \"fromArray\", [values]), function (sink) {\n            var unsubd = false;\n            var reply = more;\n            var pushing = false;\n            var pushNeeded = false;\n            function push() {\n                pushNeeded = true;\n                if (pushing) {\n                    return;\n                }\n                if (i === values.length) {\n                    sink(endEvent());\n                    return false;\n                }\n                pushing = true;\n                while (pushNeeded) {\n                    pushNeeded = false;\n                    if ((reply !== noMore) && !unsubd) {\n                        var value = values[i++];\n                        reply = sink(toEvent(value));\n                        if (reply !== noMore) {\n                            if (i === values.length) {\n                                sink(endEvent());\n                            }\n                            else {\n                                UpdateBarrier.afterTransaction(stream, push);\n                            }\n                        }\n                    }\n                }\n                pushing = false;\n                return pushing;\n            }\n            UpdateBarrier.soonButNotYet(stream, push);\n            return function () {\n                unsubd = true;\n                return unsubd;\n            };\n        });\n        return stream;\n    }\n}\n\nfunction isEventSourceFn(x) {\n    return _.isFunction(x);\n}\n// Wrap DOM EventTarget, Node EventEmitter, or\n// [un]bind: (Any, (Any) -> None) -> None interfaces\n// common in MVCs as EventStream\n//\n// target - EventTarget or EventEmitter, source of events\n// eventSource - event name to bind or a function that performs custom binding\n// eventTransformer - defaults to returning the first argument to handler\n//\n// Example 1:\n//\n//   Bacon.fromEventTarget(document.body, \"click\")\n//   # => EventStream\n//\n//   Bacon.fromEventTarget(document.body, \"scroll\", {passive: true})\n//   # => EventStream\n//\n//   Bacon.fromEventTarget (new EventEmitter(), \"data\")\n//   # => EventStream\n//\n// Returns EventStream\n/** @hidden */\nvar eventMethods = [\n    [\"addEventListener\", \"removeEventListener\"],\n    [\"addListener\", \"removeListener\"],\n    [\"on\", \"off\"],\n    [\"bind\", \"unbind\"]\n];\nvar findHandlerMethods = function (target) {\n    var pair;\n    for (var i = 0; i < eventMethods.length; i++) {\n        pair = eventMethods[i];\n        var methodPair = [target[pair[0]], target[pair[1]]];\n        if (methodPair[0] && methodPair[1]) {\n            return methodPair;\n        }\n    }\n    for (var j = 0; j < eventMethods.length; j++) {\n        pair = eventMethods[j];\n        var addListener = target[pair[0]];\n        if (addListener) {\n            return [addListener, function () { }];\n        }\n    }\n    throw new Error(\"No suitable event methods in \" + target);\n};\n/**\n creates an EventStream from events\n on a DOM EventTarget or Node.JS EventEmitter object, or an object that supports event listeners using `on`/`off` methods.\n You can also pass an optional function that transforms the emitted\n events' parameters.\n\n The simple form:\n\n ```js\n Bacon.fromEvent(document.body, \"click\").onValue(function() { alert(\"Bacon!\") })\n ```\n\n Using a binder function:\n\n ```js\n Bacon.fromEvent(\n window,\n function(binder, listener) {\n    binder(\"scroll\", listener, {passive: true})\n  }\n ).onValue(function() {\n  console.log(window.scrollY)\n})\n ```\n\n @param target\n @param eventSource\n @param eventTransformer\n @typeparam V Type of stream elements\n\n */\nfunction fromEvent(target, eventSource, eventTransformer) {\n    var [sub, unsub] = findHandlerMethods(target);\n    var desc = new Desc(\"Bacon\", \"fromEvent\", [target, eventSource]);\n    return fromBinder(function (handler) {\n        if (isEventSourceFn(eventSource)) {\n            eventSource(sub.bind(target), handler);\n            return function () {\n                return eventSource(unsub.bind(target), handler);\n            };\n        }\n        else {\n            sub.call(target, eventSource, handler);\n            return function () {\n                return unsub.call(target, eventSource, handler);\n            };\n        }\n    }, eventTransformer).withDesc(desc);\n}\n\n/**\n A shorthand for combining multiple\n sources (streams, properties, constants) as array and assigning the\n side-effect function f for the values. The following example would log\n the number 3.\n\n ```js\n function f(a, b) { console.log(a + b) }\n Bacon.onValues(Bacon.constant(1), Bacon.constant(2), f)\n ```\n */\nfunction onValues(...args) {\n    return combineAsArray(args.slice(0, args.length - 1)).onValues(args[arguments.length - 1]);\n}\n\n/**\n Calls generator function which is expected to return an observable. The returned EventStream contains\n values and errors from the spawned observable. When the spawned observable ends, the generator is called\n again to spawn a new observable.\n\n This is repeated until the generator returns a falsy value\n (such as `undefined` or `false`).\n\n The generator function is called with one argument — iteration number starting from `0`.\n\n Here's an example:\n\n```js\nBacon.repeat(function(i) {\nif (i < 3) {\n  return Bacon.once(i);\n} else {\n  return false;\n}\n}).log()\n```\n\n The example will produce values 0, 1 and 2.\n\n @param {(number) => (Observable<V> | null)} generator\n @returns {EventStream<V>}\n @typeparam V Type of stream elements\n\n */\nfunction repeat(generator) {\n    var index = 0;\n    return fromBinder(function (sink) {\n        var flag = false;\n        var reply = more;\n        var unsub = function () { };\n        function handleEvent(event) {\n            if (event.isEnd) {\n                if (!flag) {\n                    flag = true;\n                }\n                else {\n                    subscribeNext();\n                }\n                return more;\n            }\n            else {\n                return reply = sink(event);\n            }\n        }\n        function subscribeNext() {\n            var next;\n            flag = true;\n            while (flag && reply !== noMore) {\n                next = generator(index++);\n                flag = false;\n                if (next) {\n                    unsub = next.subscribeInternal(handleEvent);\n                }\n                else {\n                    sink(endEvent());\n                }\n            }\n            flag = true;\n        }\n        subscribeNext();\n        return () => unsub();\n    }).withDesc(new Desc(\"Bacon\", \"repeat\", [generator]));\n}\n\n/**\n Repeats given elements indefinitely\n with given interval in milliseconds. For example, `repeatedly(10, [1,2,3])`\n would lead to `1,2,3,1,2,3...` to be repeated indefinitely.\n\n @param delay between values, in milliseconds\n @param values array of values to repeat\n @typeparam V Type of stream elements\n\n */\nfunction repeatedly(delay, values) {\n    var index = 0;\n    return fromPoll(delay, function () {\n        return values[index++ % values.length];\n    }).withDesc(new Desc(\"Bacon\", \"repeatedly\", [delay, values]));\n}\n\n/**\n Creates a stream that ends after given amount of milliseconds, without emitting any values.\n\n @param duration duration of silence in milliseconds\n @typeparam V Type of stream elements\n */\nfunction silence(duration) {\n    return later(duration, \"\")\n        .filter(false)\n        .withDesc(new Desc(\"Bacon\", \"silence\", [duration]));\n}\n\n/**\n Used to retry the call when there is an [`Error`](classes/error.html) event in the stream produced by the `source` function.\n\n ```js\n var triggeringStream, ajaxCall // <- ajaxCall gives Errors on network or server errors\n ajaxResult = triggeringStream.flatMap(function(url) {\n    return Bacon.retry({\n        source: function(attemptNumber) { return ajaxCall(url) },\n        retries: 5,\n        isRetryable: function (error) { return error.httpStatusCode !== 404; },\n        delay: function(context) { return 100; } // Just use the same delay always\n    })\n})\n ```\n * @param options (click for details)\n */\nfunction retry(options) {\n    if (!_.isFunction(options.source)) {\n        throw new Error(\"'source' option has to be a function\");\n    }\n    var source = options.source;\n    var retries = options.retries || 0;\n    var retriesDone = 0;\n    var delay = options.delay || function () {\n        return 0;\n    };\n    var isRetryable = options.isRetryable || function () {\n        return true;\n    };\n    var finished = false;\n    var errorEvent = null;\n    return repeat(function (count) {\n        function valueStream() {\n            return source(count).endOnError().transform(function (event, sink) {\n                if (isError(event)) {\n                    errorEvent = event;\n                    if (!(isRetryable(errorEvent.error) && (retries === 0 || retriesDone < retries))) {\n                        finished = true;\n                        return sink(event);\n                    }\n                    else {\n                        return more;\n                    }\n                }\n                else {\n                    if (hasValue(event)) {\n                        errorEvent = null;\n                        finished = true;\n                    }\n                    return sink(event);\n                }\n            });\n        }\n        if (finished) {\n            return undefined;\n        }\n        else if (errorEvent) {\n            var context = {\n                error: errorEvent.error,\n                retriesDone\n            };\n            var pause = silence(delay(context));\n            retriesDone++;\n            return pause.concat(once(null).flatMap(valueStream));\n        }\n        else {\n            return valueStream();\n        }\n    }).withDesc(new Desc(\"Bacon\", \"retry\", [options]));\n}\n\n/**\n Creates a stream containing given\n values (given as array). Delivered with given interval in milliseconds.\n\n @param delay between elements, in milliseconds\n @param array of values or events\n @typeparam V Type of stream elements\n\n */\nfunction sequentially(delay, values) {\n    var index = 0;\n    return fromPoll(delay, function () {\n        var value = values[index++];\n        if (index < values.length) {\n            return value;\n        }\n        else if (index === values.length) {\n            return [toEvent(value), endEvent()];\n        }\n        else {\n            return endEvent();\n        }\n    }).withDesc(new Desc(\"Bacon\", \"sequentially\", [delay, values]));\n}\n\nfunction valueAndEnd(value) {\n    return [toEvent(value), endEvent()];\n}\n/**\n * Creates an EventStream from a Promise object such as JQuery Ajax.\n This stream will contain a single value or an error, followed immediately by stream end.\n You can use the optional abort flag (i.e. ´fromPromise(p, true)´ to have the `abort` method of the given promise be called when all subscribers have been removed from the created stream.\n You can also pass an optional function that transforms the promise value into Events. The default is to transform the value into `[new Bacon.Next(value), new Bacon.End()]`.\n Check out this [example](https://github.com/raimohanska/baconjs-examples/blob/master/resources/public/index.html).\n\n *\n * @param {Promise<V>} source promise object\n * @param abort should we call the `abort` method of the Promise on unsubscribe. This is a nonstandard feature you should probably ignore.\n * @param {EventTransformer<V>} eventTransformer\n * @returns {EventStream<V>}\n */\nfunction fromPromise(promise, abort, eventTransformer = valueAndEnd) {\n    return fromBinder(function (handler) {\n        const bound = promise.then(handler, (e) => handler(new Error$1(e)));\n        if (bound && typeof bound.done === \"function\") {\n            bound.done();\n        }\n        if (abort) {\n            return function () {\n                if (typeof promise.abort === \"function\") {\n                    return promise.abort();\n                }\n            };\n        }\n        else {\n            return function () {\n            };\n        }\n    }, eventTransformer).withDesc(new Desc(\"Bacon\", \"fromPromise\", [promise]));\n}\n\nfunction withMethodCallSupport(wrapped) {\n    return function (f, ...args) {\n        if (typeof f === \"object\" && args.length) {\n            var context = f;\n            var methodName = args[0];\n            f = function (...args) {\n                return context[methodName](...args);\n            };\n            args = args.slice(1);\n        }\n        return wrapped(f, ...args);\n    };\n}\nfunction partiallyApplied(f, applied) {\n    return function (...args) { return f(...(applied.concat(args))); };\n}\nconst makeFunction_ = withMethodCallSupport(function (f, ...args) {\n    if (_.isFunction(f)) {\n        if (args.length) {\n            return partiallyApplied(f, args);\n        }\n        else {\n            return f;\n        }\n    }\n    else {\n        return _.always(f);\n    }\n});\n/** @hidden */\nfunction makeFunction(f, args) {\n    return makeFunction_(f, ...args);\n}\n\n// TODO: types/doc for the object, fnname variant\n/**\n Creates an EventStream from a function that\n accepts a callback. The function is supposed to call its callback just\n once. For example:\n\n ```js\n Bacon.fromCallback(callback => callback(\"bacon\"))\n ```\n\n This would create a stream that outputs a single value \"Bacon!\" and ends\n after that. The use of setTimeout causes the value to be delayed by 1\n second.\n\n You can also give any number of arguments to [`fromCallback`](#bacon-fromcallback), which will be\n passed to the function. These arguments can be simple variables, Bacon\n EventStreams or Properties. For example the following will output \"Bacon rules\":\n\n ```js\n bacon = Bacon.constant('bacon')\n Bacon.fromCallback(function(a, b, callback) {\n  callback(a + ' ' + b);\n}, bacon, 'rules').log();\n ```\n\n * @param f\n * @param args\n * @returns {EventStream<V>}\n */\nfunction fromCallback(f, ...args) {\n    return fromBinder(function (handler) {\n        makeFunction(f, args)(handler);\n        return nop;\n    }, function (value) {\n        return [value, endEvent()];\n    }).withDesc(new Desc(\"Bacon\", \"fromCallback\", [f, ...args]));\n}\n/**\nBehaves the same way as `Bacon.fromCallback`,\nexcept that it expects the callback to be called in the Node.js convention:\n`callback(error, data)`, where error is null if everything is fine. For example:\n\n```js\nvar Bacon = require('baconjs').Bacon,\nfs = require('fs');\nvar read = Bacon.fromNodeCallback(fs.readFile, 'input.txt');\nread.onError(function(error) { console.log(\"Reading failed: \" + error); });\nread.onValue(function(value) { console.log(\"Read contents: \" + value); });\n```\n\n */\nfunction fromNodeCallback(f, ...args) {\n    return fromBinder(function (handler) {\n        makeFunction(f, args)(handler);\n        return nop;\n    }, function (error, value) {\n        if (error) {\n            return [new Error$1(error), endEvent()];\n        }\n        return [value, endEvent()];\n    }).withDesc(new Desc(\"Bacon\", \"fromNodeCallback\", [f, ...args]));\n}\n\n/**\n * Creates an EventStream from an\n [ES Observable](https://github.com/tc39/proposal-observable). Input can be any\n ES Observable implementation including RxJS and Kefir.\n */\nfunction fromESObservable(_observable) {\n    var observable;\n    if (_observable[symbol(\"observable\")]) {\n        observable = _observable[symbol(\"observable\")]();\n    }\n    else {\n        observable = _observable;\n    }\n    var desc = new Desc(\"Bacon\", \"fromESObservable\", [observable]);\n    return new EventStream(desc, function (sink) {\n        var cancel = observable.subscribe({\n            error: function (x) {\n                sink(new Error$1(x));\n                sink(new End());\n            },\n            next: function (value) { sink(new Next(value)); },\n            complete: function () {\n                sink(new End());\n            }\n        });\n        // Support RxJS Observables\n        if (cancel.unsubscribe) {\n            return function () { cancel.unsubscribe(); };\n        }\n        else {\n            return cancel;\n        }\n    });\n}\n\n/**\n An [`EventStream`](eventstream.html) that allows you to [`push`](#push) values into the stream.\n\n It also allows plugging other streams into the Bus, as inputs. The Bus practically\n merges all plugged-in streams and the values pushed using the [`push`](#push)\n method.\n */\nclass Bus extends EventStream {\n    constructor() {\n        super(new Desc(\"Bacon\", \"Bus\", []), (sink) => this.subscribeAll(sink));\n        /** @hidden */\n        this.pushing = false;\n        /** @hidden */\n        this.pushQueue = undefined;\n        /** @hidden */\n        this.ended = false;\n        /** @hidden */\n        this.subscriptions = [];\n        this.unsubAll = _.bind(this.unsubAll, this);\n        this.push = _.bind(this.push, this);\n        this.subscriptions = []; // new array for each Bus instance\n        this.ended = false;\n    }\n    /**\n     Plugs the given stream as an input to the Bus. All events from\n     the given stream will be delivered to the subscribers of the Bus.\n     Returns a function that can be used to unplug the same stream.\n  \n     The plug method practically allows you to merge in other streams after\n     the creation of the Bus.\n  \n     * @returns a function that can be called to \"unplug\" the source from Bus.\n     */\n    plug(input) {\n        assertObservable(input);\n        if (this.ended) {\n            return;\n        }\n        var sub = { input: input, unsub: undefined };\n        this.subscriptions.push(sub);\n        if (typeof this.sink !== \"undefined\") {\n            this.subscribeInput(sub);\n        }\n        return (() => this.unsubscribeInput(input));\n    }\n    /**\n     Ends the stream. Sends an [End](end.html) event to all subscribers.\n     After this call, there'll be no more events to the subscribers.\n     Also, the [`push`](#push), [`error`](#error) and [`plug`](#plug) methods have no effect.\n     */\n    end() {\n        this.ended = true;\n        this.unsubAll();\n        if (typeof this.sink === \"function\") {\n            return this.sink(endEvent());\n        }\n    }\n    /**\n     * Pushes a new value to the stream.\n     */\n    push(value) {\n        if (!this.ended && typeof this.sink === \"function\") {\n            var rootPush = !this.pushing;\n            if (!rootPush) {\n                //console.log(\"recursive push\")\n                if (!this.pushQueue)\n                    this.pushQueue = [];\n                this.pushQueue.push(value);\n                //console.log('queued', value)\n                return;\n            }\n            this.pushing = true;\n            try {\n                return this.sink(nextEvent(value));\n            }\n            finally {\n                if (rootPush && this.pushQueue) {\n                    //console.log(\"start processing queue\", this.pushQueue.length)\n                    var i = 0;\n                    while (i < this.pushQueue.length) {\n                        //console.log(\"in loop\", i, this.pushQueue[i])\n                        var v = this.pushQueue[i];\n                        this.sink(nextEvent(v));\n                        i++;\n                    }\n                    this.pushQueue = undefined;\n                }\n                this.pushing = false;\n            }\n        }\n    }\n    /**\n     * Pushes an error to this stream.\n     */\n    error(error) {\n        if (typeof this.sink === \"function\") {\n            return this.sink(new Error$1(error));\n        }\n    }\n    /** @hidden */\n    unsubAll() {\n        var iterable = this.subscriptions;\n        for (var i = 0, sub; i < iterable.length; i++) {\n            sub = iterable[i];\n            if (typeof sub.unsub === \"function\") {\n                sub.unsub();\n            }\n        }\n    }\n    /** @hidden */\n    subscribeAll(newSink) {\n        if (this.ended) {\n            newSink(endEvent());\n        }\n        else {\n            this.sink = newSink;\n            var iterable = this.subscriptions.slice();\n            for (var i = 0, subscription; i < iterable.length; i++) {\n                subscription = iterable[i];\n                this.subscribeInput(subscription);\n            }\n        }\n        return this.unsubAll;\n    }\n    /** @hidden */\n    guardedSink(input) {\n        return (event) => {\n            if (event.isEnd) {\n                this.unsubscribeInput(input);\n                return noMore;\n            }\n            else if (this.sink) {\n                return this.sink(event);\n            }\n            else {\n                return more;\n            }\n        };\n    }\n    /** @hidden */\n    subscribeInput(subscription) {\n        subscription.unsub = subscription.input.subscribeInternal(this.guardedSink(subscription.input));\n        return subscription.unsub;\n    }\n    /** @hidden */\n    unsubscribeInput(input) {\n        var iterable = this.subscriptions;\n        for (var i = 0, sub; i < iterable.length; i++) {\n            sub = iterable[i];\n            if (sub.input === input) {\n                if (typeof sub.unsub === \"function\") {\n                    sub.unsub();\n                }\n                this.subscriptions.splice(i, 1);\n                return;\n            }\n        }\n    }\n}\n\n/**\n `Bacon.try` is a helper for creating an EventStream of a single value, or a single Error event in case the given\n function throws an exception.\n\nFor example, you can use `Bacon.try` to handle JSON parse errors:\n\n```js\nvar jsonStream = Bacon\n  .once('{\"this is invalid json\"')\n  .flatMap(Bacon.try(JSON.parse))\n\njsonStream.onError(function(err) {\n  console.error(\"Failed to parse JSON\", err)\n})\n\n */\nfunction tryF(f) {\n    return function (value) {\n        try {\n            return once(f(value));\n        }\n        catch (e) {\n            return once(new Error$1(e));\n        }\n    };\n}\n\n/**\n * JQuery/Zepto integration support\n */\nconst $ = {\n    /**\n     Creates an EventStream from events on a\n     jQuery or Zepto.js object. You can pass optional arguments to add a\n     jQuery live selector and/or a function that processes the jQuery\n     event and its parameters, if given, like this:\n  \n     ```js\n     $(\"#my-div\").asEventStream(\"click\", \".more-specific-selector\")\n     $(\"#my-div\").asEventStream(\"click\", \".more-specific-selector\", function(event, args) { return args[0] })\n     $(\"#my-div\").asEventStream(\"click\", function(event, args) { return args[0] })\n     ```\n  \n     Note: you need to install the `asEventStream` method on JQuery by calling\n     [init()](#_.aseventstream) as in `Bacon.$.init($)`.\n     */\n    asEventStream(eventName, selector, eventTransformer) {\n        if (_.isFunction(selector)) {\n            eventTransformer = selector;\n            selector = undefined;\n        }\n        return fromBinder((handler) => {\n            this.on(eventName, selector, handler);\n            return (() => this.off(eventName, selector, handler));\n        }, eventTransformer).withDesc(new Desc(this.selector || this, \"asEventStream\", [eventName]));\n    },\n    /**\n     * Installs the [asEventStream](#_.aseventstream) to the given jQuery/Zepto object (the `$` object).\n     */\n    init(jQuery) {\n        jQuery.fn.asEventStream = $.asEventStream;\n    }\n};\n\n/**\n *  Bacon.js version as string\n */\nconst version = '3.0.18';\n\nexport { $, Bus, CompositeUnsubscribe, Desc, End, Error$1 as Error, Event, EventStream, Initial, Next, Observable, Property, Value, _, combine, combineAsArray, combineTemplate, combineTwo, combineWith, concatAll, constant, fromArray, fromBinder, fromCallback, fromESObservable, fromEvent, fromEvent as fromEventTarget, fromNodeCallback, fromPoll, fromPromise, getScheduler, groupSimultaneous, hasValue, interval, isEnd, isError, isEvent, isInitial, isNext, isProperty, later, mergeAll, more, never, noMore, nullSink, nullVoidSink, onValues, once, repeat, repeatedly, retry, sequentially, setScheduler, silence, spy, tryF as try, update, version, when, zipAsArray, zipWith };\n","// Current version.\nexport var VERSION = '1.13.7';\n\n// Establish the root object, `window` (`self`) in the browser, `global`\n// on the server, or `this` in some virtual machines. We use `self`\n// instead of `window` for `WebWorker` support.\nexport var root = (typeof self == 'object' && self.self === self && self) ||\n          (typeof global == 'object' && global.global === global && global) ||\n          Function('return this')() ||\n          {};\n\n// Save bytes in the minified (but not gzipped) version:\nexport var ArrayProto = Array.prototype, ObjProto = Object.prototype;\nexport var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n// Create quick reference variables for speed access to core prototypes.\nexport var push = ArrayProto.push,\n    slice = ArrayProto.slice,\n    toString = ObjProto.toString,\n    hasOwnProperty = ObjProto.hasOwnProperty;\n\n// Modern feature detection.\nexport var supportsArrayBuffer = typeof ArrayBuffer !== 'undefined',\n    supportsDataView = typeof DataView !== 'undefined';\n\n// All **ECMAScript 5+** native function implementations that we hope to use\n// are declared here.\nexport var nativeIsArray = Array.isArray,\n    nativeKeys = Object.keys,\n    nativeCreate = Object.create,\n    nativeIsView = supportsArrayBuffer && ArrayBuffer.isView;\n\n// Create references to these builtin functions because we override them.\nexport var _isNaN = isNaN,\n    _isFinite = isFinite;\n\n// Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\nexport var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\nexport var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n  'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n// The largest integer that can be represented exactly.\nexport var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n","// Some functions take a variable number of arguments, or a few expected\n// arguments at the beginning and then a variable number of values to operate\n// on. This helper accumulates all remaining arguments past the function’s\n// argument length (or an explicit `startIndex`), into an array that becomes\n// the last argument. Similar to ES6’s \"rest parameter\".\nexport default function restArguments(func, startIndex) {\n  startIndex = startIndex == null ? func.length - 1 : +startIndex;\n  return function() {\n    var length = Math.max(arguments.length - startIndex, 0),\n        rest = Array(length),\n        index = 0;\n    for (; index < length; index++) {\n      rest[index] = arguments[index + startIndex];\n    }\n    switch (startIndex) {\n      case 0: return func.call(this, rest);\n      case 1: return func.call(this, arguments[0], rest);\n      case 2: return func.call(this, arguments[0], arguments[1], rest);\n    }\n    var args = Array(startIndex + 1);\n    for (index = 0; index < startIndex; index++) {\n      args[index] = arguments[index];\n    }\n    args[startIndex] = rest;\n    return func.apply(this, args);\n  };\n}\n","// Is a given variable an object?\nexport default function isObject(obj) {\n  var type = typeof obj;\n  return type === 'function' || (type === 'object' && !!obj);\n}\n","// Is a given variable undefined?\nexport default function isUndefined(obj) {\n  return obj === void 0;\n}\n","import { toString } from './_setup.js';\n\n// Is a given value a boolean?\nexport default function isBoolean(obj) {\n  return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n}\n","import { toString } from './_setup.js';\n\n// Internal function for creating a `toString`-based type tester.\nexport default function tagTester(name) {\n  var tag = '[object ' + name + ']';\n  return function(obj) {\n    return toString.call(obj) === tag;\n  };\n}\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('String');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Number');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Date');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('RegExp');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Error');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Symbol');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('ArrayBuffer');\n","import tagTester from './_tagTester.js';\nimport { root } from './_setup.js';\n\nvar isFunction = tagTester('Function');\n\n// Optimize `isFunction` if appropriate. Work around some `typeof` bugs in old\n// v8, IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\nvar nodelist = root.document && root.document.childNodes;\nif (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n  isFunction = function(obj) {\n    return typeof obj == 'function' || false;\n  };\n}\n\nexport default isFunction;\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('Object');\n","import { supportsDataView } from './_setup.js';\nimport hasObjectTag from './_hasObjectTag.js';\n\n// In IE 10 - Edge 13, `DataView` has string tag `'[object Object]'`.\n// In IE 11, the most common among them, this problem also applies to\n// `Map`, `WeakMap` and `Set`.\n// Also, there are cases where an application can override the native\n// `DataView` object, in cases like that we can't use the constructor\n// safely and should just rely on alternate `DataView` checks\nexport var hasDataViewBug = (\n      supportsDataView && (!/\\[native code\\]/.test(String(DataView)) || hasObjectTag(new DataView(new ArrayBuffer(8))))\n    ),\n    isIE11 = (typeof Map !== 'undefined' && hasObjectTag(new Map));\n","import tagTester from './_tagTester.js';\nimport isFunction from './isFunction.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport { hasDataViewBug } from './_stringTagBug.js';\n\nvar isDataView = tagTester('DataView');\n\n// In IE 10 - Edge 13, we need a different heuristic\n// to determine whether an object is a `DataView`.\n// Also, in cases where the native `DataView` is\n// overridden we can't rely on the tag itself.\nfunction alternateIsDataView(obj) {\n  return obj != null && isFunction(obj.getInt8) && isArrayBuffer(obj.buffer);\n}\n\nexport default (hasDataViewBug ? alternateIsDataView : isDataView);\n","import { nativeIsArray } from './_setup.js';\nimport tagTester from './_tagTester.js';\n\n// Is a given value an array?\n// Delegates to ECMA5's native `Array.isArray`.\nexport default nativeIsArray || tagTester('Array');\n","import { hasOwnProperty } from './_setup.js';\n\n// Internal function to check whether `key` is an own property name of `obj`.\nexport default function has(obj, key) {\n  return obj != null && hasOwnProperty.call(obj, key);\n}\n","import tagTester from './_tagTester.js';\nimport has from './_has.js';\n\nvar isArguments = tagTester('Arguments');\n\n// Define a fallback version of the method in browsers (ahem, IE < 9), where\n// there isn't any inspectable \"Arguments\" type.\n(function() {\n  if (!isArguments(arguments)) {\n    isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n}());\n\nexport default isArguments;\n","import { _isNaN } from './_setup.js';\nimport isNumber from './isNumber.js';\n\n// Is the given value `NaN`?\nexport default function isNaN(obj) {\n  return isNumber(obj) && _isNaN(obj);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function constant(value) {\n  return function() {\n    return value;\n  };\n}\n","import { MAX_ARRAY_INDEX } from './_setup.js';\n\n// Common internal logic for `isArrayLike` and `isBufferLike`.\nexport default function createSizePropertyCheck(getSizeProperty) {\n  return function(collection) {\n    var sizeProperty = getSizeProperty(collection);\n    return typeof sizeProperty == 'number' && sizeProperty >= 0 && sizeProperty <= MAX_ARRAY_INDEX;\n  }\n}\n","// Internal helper to generate a function to obtain property `key` from `obj`.\nexport default function shallowProperty(key) {\n  return function(obj) {\n    return obj == null ? void 0 : obj[key];\n  };\n}\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `byteLength` property of an object.\nexport default shallowProperty('byteLength');\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getByteLength from './_getByteLength.js';\n\n// Internal helper to determine whether we should spend extensive checks against\n// `ArrayBuffer` et al.\nexport default createSizePropertyCheck(getByteLength);\n","import { supportsArrayBuffer, nativeIsView, toString } from './_setup.js';\nimport isDataView from './isDataView.js';\nimport constant from './constant.js';\nimport isBufferLike from './_isBufferLike.js';\n\n// Is a given value a typed array?\nvar typedArrayPattern = /\\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\\]/;\nfunction isTypedArray(obj) {\n  // `ArrayBuffer.isView` is the most future-proof, so use it when available.\n  // Otherwise, fall back on the above regular expression.\n  return nativeIsView ? (nativeIsView(obj) && !isDataView(obj)) :\n                isBufferLike(obj) && typedArrayPattern.test(toString.call(obj));\n}\n\nexport default supportsArrayBuffer ? isTypedArray : constant(false);\n","import shallowProperty from './_shallowProperty.js';\n\n// Internal helper to obtain the `length` property of an object.\nexport default shallowProperty('length');\n","import { nonEnumerableProps, ObjProto } from './_setup.js';\nimport isFunction from './isFunction.js';\nimport has from './_has.js';\n\n// Internal helper to create a simple lookup structure.\n// `collectNonEnumProps` used to depend on `_.contains`, but this led to\n// circular imports. `emulatedSet` is a one-off solution that only works for\n// arrays of strings.\nfunction emulatedSet(keys) {\n  var hash = {};\n  for (var l = keys.length, i = 0; i < l; ++i) hash[keys[i]] = true;\n  return {\n    contains: function(key) { return hash[key] === true; },\n    push: function(key) {\n      hash[key] = true;\n      return keys.push(key);\n    }\n  };\n}\n\n// Internal helper. Checks `keys` for the presence of keys in IE < 9 that won't\n// be iterated by `for key in ...` and thus missed. Extends `keys` in place if\n// needed.\nexport default function collectNonEnumProps(obj, keys) {\n  keys = emulatedSet(keys);\n  var nonEnumIdx = nonEnumerableProps.length;\n  var constructor = obj.constructor;\n  var proto = (isFunction(constructor) && constructor.prototype) || ObjProto;\n\n  // Constructor is a special case.\n  var prop = 'constructor';\n  if (has(obj, prop) && !keys.contains(prop)) keys.push(prop);\n\n  while (nonEnumIdx--) {\n    prop = nonEnumerableProps[nonEnumIdx];\n    if (prop in obj && obj[prop] !== proto[prop] && !keys.contains(prop)) {\n      keys.push(prop);\n    }\n  }\n}\n","import isObject from './isObject.js';\nimport { nativeKeys, hasEnumBug } from './_setup.js';\nimport has from './_has.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve the names of an object's own properties.\n// Delegates to **ECMAScript 5**'s native `Object.keys`.\nexport default function keys(obj) {\n  if (!isObject(obj)) return [];\n  if (nativeKeys) return nativeKeys(obj);\n  var keys = [];\n  for (var key in obj) if (has(obj, key)) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import keys from './keys.js';\n\n// Returns whether an object has a given set of `key:value` pairs.\nexport default function isMatch(object, attrs) {\n  var _keys = keys(attrs), length = _keys.length;\n  if (object == null) return !length;\n  var obj = Object(object);\n  for (var i = 0; i < length; i++) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) return false;\n  }\n  return true;\n}\n","import { VERSION } from './_setup.js';\n\n// If Underscore is called as a function, it returns a wrapped object that can\n// be used OO-style. This wrapper holds altered versions of all functions added\n// through `_.mixin`. Wrapped objects may be chained.\nexport default function _(obj) {\n  if (obj instanceof _) return obj;\n  if (!(this instanceof _)) return new _(obj);\n  this._wrapped = obj;\n}\n\n_.VERSION = VERSION;\n\n// Extracts the result from a wrapped and chained object.\n_.prototype.value = function() {\n  return this._wrapped;\n};\n\n// Provide unwrapping proxies for some methods used in engine operations\n// such as arithmetic and JSON stringification.\n_.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n_.prototype.toString = function() {\n  return String(this._wrapped);\n};\n","import getByteLength from './_getByteLength.js';\n\n// Internal function to wrap or shallow-copy an ArrayBuffer,\n// typed array or DataView to a new view, reusing the buffer.\nexport default function toBufferView(bufferSource) {\n  return new Uint8Array(\n    bufferSource.buffer || bufferSource,\n    bufferSource.byteOffset || 0,\n    getByteLength(bufferSource)\n  );\n}\n","import isObject from './isObject.js';\nimport { hasEnumBug } from './_setup.js';\nimport collectNonEnumProps from './_collectNonEnumProps.js';\n\n// Retrieve all the enumerable property names of an object.\nexport default function allKeys(obj) {\n  if (!isObject(obj)) return [];\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  // Ahem, IE < 9.\n  if (hasEnumBug) collectNonEnumProps(obj, keys);\n  return keys;\n}\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport allKeys from './allKeys.js';\n\n// Since the regular `Object.prototype.toString` type tests don't work for\n// some types in IE 11, we use a fingerprinting heuristic instead, based\n// on the methods. It's not great, but it's the best we got.\n// The fingerprint method lists are defined below.\nexport function ie11fingerprint(methods) {\n  var length = getLength(methods);\n  return function(obj) {\n    if (obj == null) return false;\n    // `Map`, `WeakMap` and `Set` have no enumerable keys.\n    var keys = allKeys(obj);\n    if (getLength(keys)) return false;\n    for (var i = 0; i < length; i++) {\n      if (!isFunction(obj[methods[i]])) return false;\n    }\n    // If we are testing against `WeakMap`, we need to ensure that\n    // `obj` doesn't have a `forEach` method in order to distinguish\n    // it from a regular `Map`.\n    return methods !== weakMapMethods || !isFunction(obj[forEachName]);\n  };\n}\n\n// In the interest of compact minification, we write\n// each string in the fingerprints only once.\nvar forEachName = 'forEach',\n    hasName = 'has',\n    commonInit = ['clear', 'delete'],\n    mapTail = ['get', hasName, 'set'];\n\n// `Map`, `WeakMap` and `Set` each have slightly different\n// combinations of the above sublists.\nexport var mapMethods = commonInit.concat(forEachName, mapTail),\n    weakMapMethods = commonInit.concat(mapTail),\n    setMethods = ['add'].concat(commonInit, forEachName, hasName);\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, mapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(mapMethods) : tagTester('Map');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, weakMapMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(weakMapMethods) : tagTester('WeakMap');\n","import tagTester from './_tagTester.js';\nimport { isIE11 } from './_stringTagBug.js';\nimport { ie11fingerprint, setMethods }  from './_methodFingerprint.js';\n\nexport default isIE11 ? ie11fingerprint(setMethods) : tagTester('Set');\n","import tagTester from './_tagTester.js';\n\nexport default tagTester('WeakSet');\n","import keys from './keys.js';\n\n// Retrieve the values of an object's properties.\nexport default function values(obj) {\n  var _keys = keys(obj);\n  var length = _keys.length;\n  var values = Array(length);\n  for (var i = 0; i < length; i++) {\n    values[i] = obj[_keys[i]];\n  }\n  return values;\n}\n","import keys from './keys.js';\n\n// Invert the keys and values of an object. The values must be serializable.\nexport default function invert(obj) {\n  var result = {};\n  var _keys = keys(obj);\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    result[obj[_keys[i]]] = _keys[i];\n  }\n  return result;\n}\n","import isFunction from './isFunction.js';\n\n// Return a sorted list of the function names available on the object.\nexport default function functions(obj) {\n  var names = [];\n  for (var key in obj) {\n    if (isFunction(obj[key])) names.push(key);\n  }\n  return names.sort();\n}\n","// An internal function for creating assigner functions.\nexport default function createAssigner(keysFunc, defaults) {\n  return function(obj) {\n    var length = arguments.length;\n    if (defaults) obj = Object(obj);\n    if (length < 2 || obj == null) return obj;\n    for (var index = 1; index < length; index++) {\n      var source = arguments[index],\n          keys = keysFunc(source),\n          l = keys.length;\n      for (var i = 0; i < l; i++) {\n        var key = keys[i];\n        if (!defaults || obj[key] === void 0) obj[key] = source[key];\n      }\n    }\n    return obj;\n  };\n}\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Extend a given object with all the properties in passed-in object(s).\nexport default createAssigner(allKeys);\n","import createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n// Assigns a given object with all the own properties in the passed-in\n// object(s).\n// (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\nexport default createAssigner(keys);\n","import createAssigner from './_createAssigner.js';\nimport allKeys from './allKeys.js';\n\n// Fill in a given object with default properties.\nexport default createAssigner(allKeys, true);\n","import isObject from './isObject.js';\nimport { nativeCreate } from './_setup.js';\n\n// Create a naked function reference for surrogate-prototype-swapping.\nfunction ctor() {\n  return function(){};\n}\n\n// An internal function for creating a new object that inherits from another.\nexport default function baseCreate(prototype) {\n  if (!isObject(prototype)) return {};\n  if (nativeCreate) return nativeCreate(prototype);\n  var Ctor = ctor();\n  Ctor.prototype = prototype;\n  var result = new Ctor;\n  Ctor.prototype = null;\n  return result;\n}\n","import _ from './underscore.js';\nimport isArray from './isArray.js';\n\n// Normalize a (deep) property `path` to array.\n// Like `_.iteratee`, this function can be customized.\nexport default function toPath(path) {\n  return isArray(path) ? path : [path];\n}\n_.toPath = toPath;\n","import _ from './underscore.js';\nimport './toPath.js';\n\n// Internal wrapper for `_.toPath` to enable minification.\n// Similar to `cb` for `_.iteratee`.\nexport default function toPath(path) {\n  return _.toPath(path);\n}\n","// Internal function to obtain a nested property in `obj` along `path`.\nexport default function deepGet(obj, path) {\n  var length = path.length;\n  for (var i = 0; i < length; i++) {\n    if (obj == null) return void 0;\n    obj = obj[path[i]];\n  }\n  return length ? obj : void 0;\n}\n","import toPath from './_toPath.js';\nimport deepGet from './_deepGet.js';\nimport isUndefined from './isUndefined.js';\n\n// Get the value of the (deep) property on `path` from `object`.\n// If any property in `path` does not exist or if the value is\n// `undefined`, return `defaultValue` instead.\n// The `path` is normalized through `_.toPath`.\nexport default function get(object, path, defaultValue) {\n  var value = deepGet(object, toPath(path));\n  return isUndefined(value) ? defaultValue : value;\n}\n","// Keep the identity function around for default iteratees.\nexport default function identity(value) {\n  return value;\n}\n","import extendOwn from './extendOwn.js';\nimport isMatch from './isMatch.js';\n\n// Returns a predicate for checking whether an object has a given set of\n// `key:value` pairs.\nexport default function matcher(attrs) {\n  attrs = extendOwn({}, attrs);\n  return function(obj) {\n    return isMatch(obj, attrs);\n  };\n}\n","import deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Creates a function that, when passed an object, will traverse that object’s\n// properties down the given `path`, specified as an array of keys or indices.\nexport default function property(path) {\n  path = toPath(path);\n  return function(obj) {\n    return deepGet(obj, path);\n  };\n}\n","// Internal function that returns an efficient (for current engines) version\n// of the passed-in callback, to be repeatedly applied in other Underscore\n// functions.\nexport default function optimizeCb(func, context, argCount) {\n  if (context === void 0) return func;\n  switch (argCount == null ? 3 : argCount) {\n    case 1: return function(value) {\n      return func.call(context, value);\n    };\n    // The 2-argument case is omitted because we’re not using it.\n    case 3: return function(value, index, collection) {\n      return func.call(context, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(context, accumulator, value, index, collection);\n    };\n  }\n  return function() {\n    return func.apply(context, arguments);\n  };\n}\n","import identity from './identity.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isArray from './isArray.js';\nimport matcher from './matcher.js';\nimport property from './property.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// An internal function to generate callbacks that can be applied to each\n// element in a collection, returning the desired result — either `_.identity`,\n// an arbitrary callback, a property matcher, or a property accessor.\nexport default function baseIteratee(value, context, argCount) {\n  if (value == null) return identity;\n  if (isFunction(value)) return optimizeCb(value, context, argCount);\n  if (isObject(value) && !isArray(value)) return matcher(value);\n  return property(value);\n}\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\n\n// External wrapper for our callback generator. Users may customize\n// `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n// This abstraction hides the internal-only `argCount` argument.\nexport default function iteratee(value, context) {\n  return baseIteratee(value, context, Infinity);\n}\n_.iteratee = iteratee;\n","import _ from './underscore.js';\nimport baseIteratee from './_baseIteratee.js';\nimport iteratee from './iteratee.js';\n\n// The function we call internally to generate a callback. It invokes\n// `_.iteratee` if overridden, otherwise `baseIteratee`.\nexport default function cb(value, context, argCount) {\n  if (_.iteratee !== iteratee) return _.iteratee(value, context);\n  return baseIteratee(value, context, argCount);\n}\n","// Predicate-generating function. Often useful outside of Underscore.\nexport default function noop(){}\n","// Return a random integer between `min` and `max` (inclusive).\nexport default function random(min, max) {\n  if (max == null) {\n    max = min;\n    min = 0;\n  }\n  return min + Math.floor(Math.random() * (max - min + 1));\n}\n","// A (possibly faster) way to get the current timestamp as an integer.\nexport default Date.now || function() {\n  return new Date().getTime();\n};\n","import keys from './keys.js';\n\n// Internal helper to generate functions for escaping and unescaping strings\n// to/from HTML interpolation.\nexport default function createEscaper(map) {\n  var escaper = function(match) {\n    return map[match];\n  };\n  // Regexes for identifying a key that needs to be escaped.\n  var source = '(?:' + keys(map).join('|') + ')';\n  var testRegexp = RegExp(source);\n  var replaceRegexp = RegExp(source, 'g');\n  return function(string) {\n    string = string == null ? '' : '' + string;\n    return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n  };\n}\n","import createEscaper from './_createEscaper.js';\nimport escapeMap from './_escapeMap.js';\n\n// Function for escaping strings to HTML interpolation.\nexport default createEscaper(escapeMap);\n","// Internal list of HTML entities for escaping.\nexport default {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;'\n};\n","import createEscaper from './_createEscaper.js';\nimport unescapeMap from './_unescapeMap.js';\n\n// Function for unescaping strings from HTML interpolation.\nexport default createEscaper(unescapeMap);\n","import invert from './invert.js';\nimport escapeMap from './_escapeMap.js';\n\n// Internal list of HTML entities for unescaping.\nexport default invert(escapeMap);\n","import _ from './underscore.js';\n\n// By default, Underscore uses ERB-style template delimiters. Change the\n// following template settings to use alternative delimiters.\nexport default _.templateSettings = {\n  evaluate: /<%([\\s\\S]+?)%>/g,\n  interpolate: /<%=([\\s\\S]+?)%>/g,\n  escape: /<%-([\\s\\S]+?)%>/g\n};\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n// Internal function to execute `sourceFunc` bound to `context` with optional\n// `args`. Determines whether to execute a function as a constructor or as a\n// normal function.\nexport default function executeBound(sourceFunc, boundFunc, context, callingContext, args) {\n  if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n  var self = baseCreate(sourceFunc.prototype);\n  var result = sourceFunc.apply(self, args);\n  if (isObject(result)) return result;\n  return self;\n}\n","import restArguments from './restArguments.js';\nimport executeBound from './_executeBound.js';\nimport _ from './underscore.js';\n\n// Partially apply a function by creating a version that has had some of its\n// arguments pre-filled, without changing its dynamic `this` context. `_` acts\n// as a placeholder by default, allowing any combination of arguments to be\n// pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\nvar partial = restArguments(function(func, boundArgs) {\n  var placeholder = partial.placeholder;\n  var bound = function() {\n    var position = 0, length = boundArgs.length;\n    var args = Array(length);\n    for (var i = 0; i < length; i++) {\n      args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n    }\n    while (position < arguments.length) args.push(arguments[position++]);\n    return executeBound(func, bound, this, this, args);\n  };\n  return bound;\n});\n\npartial.placeholder = _;\nexport default partial;\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport executeBound from './_executeBound.js';\n\n// Create a function bound to a given object (assigning `this`, and arguments,\n// optionally).\nexport default restArguments(function(func, context, args) {\n  if (!isFunction(func)) throw new TypeError('Bind must be called on a function');\n  var bound = restArguments(function(callArgs) {\n    return executeBound(func, bound, context, this, args.concat(callArgs));\n  });\n  return bound;\n});\n","import createSizePropertyCheck from './_createSizePropertyCheck.js';\nimport getLength from './_getLength.js';\n\n// Internal helper for collection methods to determine whether a collection\n// should be iterated as an array or as an object.\n// Related: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n// Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\nexport default createSizePropertyCheck(getLength);\n","import getLength from './_getLength.js';\nimport isArrayLike from './_isArrayLike.js';\nimport isArray from './isArray.js';\nimport isArguments from './isArguments.js';\n\n// Internal implementation of a recursive `flatten` function.\nexport default function flatten(input, depth, strict, output) {\n  output = output || [];\n  if (!depth && depth !== 0) {\n    depth = Infinity;\n  } else if (depth <= 0) {\n    return output.concat(input);\n  }\n  var idx = output.length;\n  for (var i = 0, length = getLength(input); i < length; i++) {\n    var value = input[i];\n    if (isArrayLike(value) && (isArray(value) || isArguments(value))) {\n      // Flatten current level of array or arguments object.\n      if (depth > 1) {\n        flatten(value, depth - 1, strict, output);\n        idx = output.length;\n      } else {\n        var j = 0, len = value.length;\n        while (j < len) output[idx++] = value[j++];\n      }\n    } else if (!strict) {\n      output[idx++] = value;\n    }\n  }\n  return output;\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport bind from './bind.js';\n\n// Bind a number of an object's methods to that object. Remaining arguments\n// are the method names to be bound. Useful for ensuring that all callbacks\n// defined on an object belong to it.\nexport default restArguments(function(obj, keys) {\n  keys = flatten(keys, false, false);\n  var index = keys.length;\n  if (index < 1) throw new Error('bindAll must be passed function names');\n  while (index--) {\n    var key = keys[index];\n    obj[key] = bind(obj[key], obj);\n  }\n  return obj;\n});\n","import restArguments from './restArguments.js';\n\n// Delays a function for the given number of milliseconds, and then calls\n// it with the arguments supplied.\nexport default restArguments(function(func, wait, args) {\n  return setTimeout(function() {\n    return func.apply(null, args);\n  }, wait);\n});\n","import partial from './partial.js';\nimport delay from './delay.js';\nimport _ from './underscore.js';\n\n// Defers a function, scheduling it to run after the current call stack has\n// cleared.\nexport default partial(delay, _, 1);\n","// Returns a negated version of the passed-in predicate.\nexport default function negate(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n","// Returns a function that will only be executed up to (but not including) the\n// Nth call.\nexport default function before(times, func) {\n  var memo;\n  return function() {\n    if (--times > 0) {\n      memo = func.apply(this, arguments);\n    }\n    if (times <= 1) func = null;\n    return memo;\n  };\n}\n","import partial from './partial.js';\nimport before from './before.js';\n\n// Returns a function that will be executed at most one time, no matter how\n// often you call it. Useful for lazy initialization.\nexport default partial(before, 2);\n","import cb from './_cb.js';\nimport keys from './keys.js';\n\n// Returns the first key on an object that passes a truth test.\nexport default function findKey(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = keys(obj), key;\n  for (var i = 0, length = _keys.length; i < length; i++) {\n    key = _keys[i];\n    if (predicate(obj[key], key, obj)) return key;\n  }\n}\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Internal function to generate `_.findIndex` and `_.findLastIndex`.\nexport default function createPredicateIndexFinder(dir) {\n  return function(array, predicate, context) {\n    predicate = cb(predicate, context);\n    var length = getLength(array);\n    var index = dir > 0 ? 0 : length - 1;\n    for (; index >= 0 && index < length; index += dir) {\n      if (predicate(array[index], index, array)) return index;\n    }\n    return -1;\n  };\n}\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the first index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(1);\n","import createPredicateIndexFinder from './_createPredicateIndexFinder.js';\n\n// Returns the last index on an array-like that passes a truth test.\nexport default createPredicateIndexFinder(-1);\n","import cb from './_cb.js';\nimport getLength from './_getLength.js';\n\n// Use a comparator function to figure out the smallest index at which\n// an object should be inserted so as to maintain order. Uses binary search.\nexport default function sortedIndex(array, obj, iteratee, context) {\n  iteratee = cb(iteratee, context, 1);\n  var value = iteratee(obj);\n  var low = 0, high = getLength(array);\n  while (low < high) {\n    var mid = Math.floor((low + high) / 2);\n    if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n  }\n  return low;\n}\n","import getLength from './_getLength.js';\nimport { slice } from './_setup.js';\nimport isNaN from './isNaN.js';\n\n// Internal function to generate the `_.indexOf` and `_.lastIndexOf` functions.\nexport default function createIndexFinder(dir, predicateFind, sortedIndex) {\n  return function(array, item, idx) {\n    var i = 0, length = getLength(array);\n    if (typeof idx == 'number') {\n      if (dir > 0) {\n        i = idx >= 0 ? idx : Math.max(idx + length, i);\n      } else {\n        length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n      }\n    } else if (sortedIndex && idx && length) {\n      idx = sortedIndex(array, item);\n      return array[idx] === item ? idx : -1;\n    }\n    if (item !== item) {\n      idx = predicateFind(slice.call(array, i, length), isNaN);\n      return idx >= 0 ? idx + i : -1;\n    }\n    for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n      if (array[idx] === item) return idx;\n    }\n    return -1;\n  };\n}\n","import sortedIndex from './sortedIndex.js';\nimport findIndex from './findIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the first occurrence of an item in an array,\n// or -1 if the item is not included in the array.\n// If the array is large and already in sort order, pass `true`\n// for **isSorted** to use binary search.\nexport default createIndexFinder(1, findIndex, sortedIndex);\n","import findLastIndex from './findLastIndex.js';\nimport createIndexFinder from './_createIndexFinder.js';\n\n// Return the position of the last occurrence of an item in an array,\n// or -1 if the item is not included in the array.\nexport default createIndexFinder(-1, findLastIndex);\n","import isArrayLike from './_isArrayLike.js';\nimport findIndex from './findIndex.js';\nimport findKey from './findKey.js';\n\n// Return the first value which passes a truth test.\nexport default function find(obj, predicate, context) {\n  var keyFinder = isArrayLike(obj) ? findIndex : findKey;\n  var key = keyFinder(obj, predicate, context);\n  if (key !== void 0 && key !== -1) return obj[key];\n}\n","import optimizeCb from './_optimizeCb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// The cornerstone for collection functions, an `each`\n// implementation, aka `forEach`.\n// Handles raw objects in addition to array-likes. Treats all\n// sparse array-likes as if they were dense.\nexport default function each(obj, iteratee, context) {\n  iteratee = optimizeCb(iteratee, context);\n  var i, length;\n  if (isArrayLike(obj)) {\n    for (i = 0, length = obj.length; i < length; i++) {\n      iteratee(obj[i], i, obj);\n    }\n  } else {\n    var _keys = keys(obj);\n    for (i = 0, length = _keys.length; i < length; i++) {\n      iteratee(obj[_keys[i]], _keys[i], obj);\n    }\n  }\n  return obj;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Return the results of applying the iteratee to each element.\nexport default function map(obj, iteratee, context) {\n  iteratee = cb(iteratee, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length,\n      results = Array(length);\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    results[index] = iteratee(obj[currentKey], currentKey, obj);\n  }\n  return results;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\nimport optimizeCb from './_optimizeCb.js';\n\n// Internal helper to create a reducing function, iterating left or right.\nexport default function createReduce(dir) {\n  // Wrap code that reassigns argument variables in a separate function than\n  // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n  var reducer = function(obj, iteratee, memo, initial) {\n    var _keys = !isArrayLike(obj) && keys(obj),\n        length = (_keys || obj).length,\n        index = dir > 0 ? 0 : length - 1;\n    if (!initial) {\n      memo = obj[_keys ? _keys[index] : index];\n      index += dir;\n    }\n    for (; index >= 0 && index < length; index += dir) {\n      var currentKey = _keys ? _keys[index] : index;\n      memo = iteratee(memo, obj[currentKey], currentKey, obj);\n    }\n    return memo;\n  };\n\n  return function(obj, iteratee, memo, context) {\n    var initial = arguments.length >= 3;\n    return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n  };\n}\n","import createReduce from './_createReduce.js';\n\n// **Reduce** builds up a single result from a list of values, aka `inject`,\n// or `foldl`.\nexport default createReduce(1);\n","import createReduce from './_createReduce.js';\n\n// The right-associative version of reduce, also known as `foldr`.\nexport default createReduce(-1);\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// Return all the elements that pass a truth test.\nexport default function filter(obj, predicate, context) {\n  var results = [];\n  predicate = cb(predicate, context);\n  each(obj, function(value, index, list) {\n    if (predicate(value, index, list)) results.push(value);\n  });\n  return results;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine whether all of the elements pass a truth test.\nexport default function every(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (!predicate(obj[currentKey], currentKey, obj)) return false;\n  }\n  return true;\n}\n","import cb from './_cb.js';\nimport isArrayLike from './_isArrayLike.js';\nimport keys from './keys.js';\n\n// Determine if at least one element in the object passes a truth test.\nexport default function some(obj, predicate, context) {\n  predicate = cb(predicate, context);\n  var _keys = !isArrayLike(obj) && keys(obj),\n      length = (_keys || obj).length;\n  for (var index = 0; index < length; index++) {\n    var currentKey = _keys ? _keys[index] : index;\n    if (predicate(obj[currentKey], currentKey, obj)) return true;\n  }\n  return false;\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport indexOf from './indexOf.js';\n\n// Determine if the array or object contains a given item (using `===`).\nexport default function contains(obj, item, fromIndex, guard) {\n  if (!isArrayLike(obj)) obj = values(obj);\n  if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n  return indexOf(obj, item, fromIndex) >= 0;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport map from './map.js';\nimport deepGet from './_deepGet.js';\nimport toPath from './_toPath.js';\n\n// Invoke a method (with arguments) on every item in a collection.\nexport default restArguments(function(obj, path, args) {\n  var contextPath, func;\n  if (isFunction(path)) {\n    func = path;\n  } else {\n    path = toPath(path);\n    contextPath = path.slice(0, -1);\n    path = path[path.length - 1];\n  }\n  return map(obj, function(context) {\n    var method = func;\n    if (!method) {\n      if (contextPath && contextPath.length) {\n        context = deepGet(context, contextPath);\n      }\n      if (context == null) return void 0;\n      method = context[path];\n    }\n    return method == null ? method : method.apply(context, args);\n  });\n});\n","import map from './map.js';\nimport property from './property.js';\n\n// Convenience version of a common use case of `_.map`: fetching a property.\nexport default function pluck(obj, key) {\n  return map(obj, property(key));\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport cb from './_cb.js';\nimport each from './each.js';\n\n// Return the maximum element (or element-based computation).\nexport default function max(obj, iteratee, context) {\n  var result = -Infinity, lastComputed = -Infinity,\n      value, computed;\n  if (iteratee == null || (typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null)) {\n    obj = isArrayLike(obj) ? obj : values(obj);\n    for (var i = 0, length = obj.length; i < length; i++) {\n      value = obj[i];\n      if (value != null && value > result) {\n        result = value;\n      }\n    }\n  } else {\n    iteratee = cb(iteratee, context);\n    each(obj, function(v, index, list) {\n      computed = iteratee(v, index, list);\n      if (computed > lastComputed || (computed === -Infinity && result === -Infinity)) {\n        result = v;\n        lastComputed = computed;\n      }\n    });\n  }\n  return result;\n}\n","import isArray from './isArray.js';\nimport { slice } from './_setup.js';\nimport isString from './isString.js';\nimport isArrayLike from './_isArrayLike.js';\nimport map from './map.js';\nimport identity from './identity.js';\nimport values from './values.js';\n\n// Safely create a real, live array from anything iterable.\nvar reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\nexport default function toArray(obj) {\n  if (!obj) return [];\n  if (isArray(obj)) return slice.call(obj);\n  if (isString(obj)) {\n    // Keep surrogate pair characters together.\n    return obj.match(reStrSymbol);\n  }\n  if (isArrayLike(obj)) return map(obj, identity);\n  return values(obj);\n}\n","import isArrayLike from './_isArrayLike.js';\nimport values from './values.js';\nimport getLength from './_getLength.js';\nimport random from './random.js';\nimport toArray from './toArray.js';\n\n// Sample **n** random values from a collection using the modern version of the\n// [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n// If **n** is not specified, returns a single random element.\n// The internal `guard` argument allows it to work with `_.map`.\nexport default function sample(obj, n, guard) {\n  if (n == null || guard) {\n    if (!isArrayLike(obj)) obj = values(obj);\n    return obj[random(obj.length - 1)];\n  }\n  var sample = toArray(obj);\n  var length = getLength(sample);\n  n = Math.max(Math.min(n, length), 0);\n  var last = length - 1;\n  for (var index = 0; index < n; index++) {\n    var rand = random(index, last);\n    var temp = sample[index];\n    sample[index] = sample[rand];\n    sample[rand] = temp;\n  }\n  return sample.slice(0, n);\n}\n","import cb from './_cb.js';\nimport each from './each.js';\n\n// An internal function used for aggregate \"group by\" operations.\nexport default function group(behavior, partition) {\n  return function(obj, iteratee, context) {\n    var result = partition ? [[], []] : {};\n    iteratee = cb(iteratee, context);\n    each(obj, function(value, index) {\n      var key = iteratee(value, index, obj);\n      behavior(result, value, key);\n    });\n    return result;\n  };\n}\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Groups the object's values by a criterion. Pass either a string attribute\n// to group by, or a function that returns the criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key].push(value); else result[key] = [value];\n});\n","import group from './_group.js';\n\n// Indexes the object's values by a criterion, similar to `_.groupBy`, but for\n// when you know that your index values will be unique.\nexport default group(function(result, value, key) {\n  result[key] = value;\n});\n","import group from './_group.js';\nimport has from './_has.js';\n\n// Counts instances of an object that group by a certain criterion. Pass\n// either a string attribute to count by, or a function that returns the\n// criterion.\nexport default group(function(result, value, key) {\n  if (has(result, key)) result[key]++; else result[key] = 1;\n});\n","import group from './_group.js';\n\n// Split a collection into two arrays: one whose elements all pass the given\n// truth test, and one whose elements all do not pass the truth test.\nexport default group(function(result, value, pass) {\n  result[pass ? 0 : 1].push(value);\n}, true);\n","// Internal `_.pick` helper function to determine whether `key` is an enumerable\n// property name of `obj`.\nexport default function keyInObj(value, key, obj) {\n  return key in obj;\n}\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport optimizeCb from './_optimizeCb.js';\nimport allKeys from './allKeys.js';\nimport keyInObj from './_keyInObj.js';\nimport flatten from './_flatten.js';\n\n// Return a copy of the object only containing the allowed properties.\nexport default restArguments(function(obj, keys) {\n  var result = {}, iteratee = keys[0];\n  if (obj == null) return result;\n  if (isFunction(iteratee)) {\n    if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n    keys = allKeys(obj);\n  } else {\n    iteratee = keyInObj;\n    keys = flatten(keys, false, false);\n    obj = Object(obj);\n  }\n  for (var i = 0, length = keys.length; i < length; i++) {\n    var key = keys[i];\n    var value = obj[key];\n    if (iteratee(value, key, obj)) result[key] = value;\n  }\n  return result;\n});\n","import restArguments from './restArguments.js';\nimport isFunction from './isFunction.js';\nimport negate from './negate.js';\nimport map from './map.js';\nimport flatten from './_flatten.js';\nimport contains from './contains.js';\nimport pick from './pick.js';\n\n// Return a copy of the object without the disallowed properties.\nexport default restArguments(function(obj, keys) {\n  var iteratee = keys[0], context;\n  if (isFunction(iteratee)) {\n    iteratee = negate(iteratee);\n    if (keys.length > 1) context = keys[1];\n  } else {\n    keys = map(flatten(keys, false, false), String);\n    iteratee = function(value, key) {\n      return !contains(keys, key);\n    };\n  }\n  return pick(obj, iteratee, context);\n});\n","import { slice } from './_setup.js';\n\n// Returns everything but the last entry of the array. Especially useful on\n// the arguments object. Passing **n** will return all the values in\n// the array, excluding the last N.\nexport default function initial(array, n, guard) {\n  return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n}\n","import initial from './initial.js';\n\n// Get the first element of an array. Passing **n** will return the first N\n// values in the array. The **guard** check allows it to work with `_.map`.\nexport default function first(array, n, guard) {\n  if (array == null || array.length < 1) return n == null || guard ? void 0 : [];\n  if (n == null || guard) return array[0];\n  return initial(array, array.length - n);\n}\n","import { slice } from './_setup.js';\n\n// Returns everything but the first entry of the `array`. Especially useful on\n// the `arguments` object. Passing an **n** will return the rest N values in the\n// `array`.\nexport default function rest(array, n, guard) {\n  return slice.call(array, n == null || guard ? 1 : n);\n}\n","import restArguments from './restArguments.js';\nimport flatten from './_flatten.js';\nimport filter from './filter.js';\nimport contains from './contains.js';\n\n// Take the difference between one array and a number of other arrays.\n// Only the elements present in just the first array will remain.\nexport default restArguments(function(array, rest) {\n  rest = flatten(rest, true, true);\n  return filter(array, function(value){\n    return !contains(rest, value);\n  });\n});\n","import restArguments from './restArguments.js';\nimport difference from './difference.js';\n\n// Return a version of the array that does not contain the specified value(s).\nexport default restArguments(function(array, otherArrays) {\n  return difference(array, otherArrays);\n});\n","import isBoolean from './isBoolean.js';\nimport cb from './_cb.js';\nimport getLength from './_getLength.js';\nimport contains from './contains.js';\n\n// Produce a duplicate-free version of the array. If the array has already\n// been sorted, you have the option of using a faster algorithm.\n// The faster algorithm will not work with an iteratee if the iteratee\n// is not a one-to-one function, so providing an iteratee will disable\n// the faster algorithm.\nexport default function uniq(array, isSorted, iteratee, context) {\n  if (!isBoolean(isSorted)) {\n    context = iteratee;\n    iteratee = isSorted;\n    isSorted = false;\n  }\n  if (iteratee != null) iteratee = cb(iteratee, context);\n  var result = [];\n  var seen = [];\n  for (var i = 0, length = getLength(array); i < length; i++) {\n    var value = array[i],\n        computed = iteratee ? iteratee(value, i, array) : value;\n    if (isSorted && !iteratee) {\n      if (!i || seen !== computed) result.push(value);\n      seen = computed;\n    } else if (iteratee) {\n      if (!contains(seen, computed)) {\n        seen.push(computed);\n        result.push(value);\n      }\n    } else if (!contains(result, value)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport uniq from './uniq.js';\nimport flatten from './_flatten.js';\n\n// Produce an array that contains the union: each distinct element from all of\n// the passed-in arrays.\nexport default restArguments(function(arrays) {\n  return uniq(flatten(arrays, true, true));\n});\n","import max from './max.js';\nimport getLength from './_getLength.js';\nimport pluck from './pluck.js';\n\n// Complement of zip. Unzip accepts an array of arrays and groups\n// each array's elements on shared indices.\nexport default function unzip(array) {\n  var length = (array && max(array, getLength).length) || 0;\n  var result = Array(length);\n\n  for (var index = 0; index < length; index++) {\n    result[index] = pluck(array, index);\n  }\n  return result;\n}\n","import restArguments from './restArguments.js';\nimport unzip from './unzip.js';\n\n// Zip together multiple lists into a single array -- elements that share\n// an index go together.\nexport default restArguments(unzip);\n","import _ from './underscore.js';\n\n// Helper function to continue chaining intermediate results.\nexport default function chainResult(instance, obj) {\n  return instance._chain ? _(obj).chain() : obj;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport functions from './functions.js';\nimport { push } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add your own custom functions to the Underscore object.\nexport default function mixin(obj) {\n  each(functions(obj), function(name) {\n    var func = _[name] = obj[name];\n    _.prototype[name] = function() {\n      var args = [this._wrapped];\n      push.apply(args, arguments);\n      return chainResult(this, func.apply(_, args));\n    };\n  });\n  return _;\n}\n","import _ from './underscore.js';\nimport each from './each.js';\nimport { ArrayProto } from './_setup.js';\nimport chainResult from './_chainResult.js';\n\n// Add all mutator `Array` functions to the wrapper.\neach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) {\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) {\n        delete obj[0];\n      }\n    }\n    return chainResult(this, obj);\n  };\n});\n\n// Add all accessor `Array` functions to the wrapper.\neach(['concat', 'join', 'slice'], function(name) {\n  var method = ArrayProto[name];\n  _.prototype[name] = function() {\n    var obj = this._wrapped;\n    if (obj != null) obj = method.apply(obj, arguments);\n    return chainResult(this, obj);\n  };\n});\n\nexport default _;\n","// Default Export\n// ==============\n// In this module, we mix our bundled exports into the `_` object and export\n// the result. This is analogous to setting `module.exports = _` in CommonJS.\n// Hence, this module is also the entry point of our UMD bundle and the package\n// entry point for CommonJS and AMD users. In other words, this is (the source\n// of) the module you are interfacing with when you do any of the following:\n//\n// ```js\n// // CommonJS\n// var _ = require('underscore');\n//\n// // AMD\n// define(['underscore'], function(_) {...});\n//\n// // UMD in the browser\n// // _ is available as a global variable\n// ```\nimport * as allExports from './index.js';\nimport { mixin } from './index.js';\n\n// Add all of the Underscore functions to the wrapper object.\nvar _ = mixin(allExports);\n// Legacy Node.js API.\n_._ = _;\n// Export the Underscore API.\nexport default _;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.12.5\n * https://gsap.com\n *\n * @license Copyright 2008-2024, GreenSock. All rights reserved.\n * Subject to the terms at https://gsap.com/standard-license or for\n * Club GSAP members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _suppressOverwrites,\n    _reverting,\n    _context,\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isTypedArray = typeof ArrayBuffer === \"function\" && ArrayBuffer.isView || function () {},\n    // note: IE10 has ArrayBuffer, but NOT ArrayBuffer.isView().\n_isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_relExp = /[+-]=-?[.\\d]+/,\n    _delimitedValueExp = /[^,'\"\\[\\]\\s]+/gi,\n    // previously /[#\\-+.]*\\b[a-z\\d\\-=+%.]+/gi but didn't catch special characters.\n_unitExp = /^[+\\-=e\\s\\d]*\\d+[.\\d]*([a-z]*|%)\\s*$/i,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _startAtRevertConfig = {\n  suppressEvents: true,\n  isStart: true,\n  kill: false\n},\n    _revertConfigNoKill = {\n  suppressEvents: true,\n  kill: false\n},\n    _revertConfig = {\n  suppressEvents: true\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n  _isObject(target) || _isFunction(target) || (targets = [targets]);\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    // find the first target with a harness. We assume targets passed into an animation will be of similar type, meaning the same kind of harness can be used for them all (performance optimization)\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property, v) {\n  return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _roundPrecise = function _roundPrecise(value) {\n  return Math.round(value * 10000000) / 10000000 || 0;\n},\n    // increased precision mostly for timing values.\n_parseRelative = function _parseRelative(start, value) {\n  var operator = value.charAt(0),\n      end = parseFloat(value.substr(2));\n  start = parseFloat(start);\n  return operator === \"+\" ? start + end : operator === \"-\" ? start - end : operator === \"*\" ? start * end : start / end;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && !_reverting && _lazyRender();\n  animation.render(time, suppressEvents, force || _reverting && time < 0 && (animation._initted || animation._startAt));\n  _lazyTweens.length && !_reverting && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || (obj[p] = defaults[p]);\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(excludeDuration) {\n  return function (obj, defaults) {\n    for (var p in defaults) {\n      p in obj || p === \"duration\" && excludeDuration || p === \"ease\" || (obj[p] = defaults[p]);\n    }\n  };\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    p !== \"__proto__\" && p !== \"constructor\" && p !== \"prototype\" && (base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p]);\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults(_isArray(vars.keyframes)) : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove && child.parent.remove(child);\n  child._act = 0;\n},\n    _uncache = function _uncache(animation, child) {\n  if (animation && (!child || child._end > animation._dur || child._start < 0)) {\n    // performance optimization: if a child animation is passed in we should only uncache if that child EXTENDS the animation (its end time is beyond the end)\n    var a = animation;\n\n    while (a) {\n      a._dirty = 1;\n      a = a.parent;\n    }\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _rewindStartAt = function _rewindStartAt(tween, totalTime, suppressEvents, force) {\n  return tween._startAt && (_reverting ? tween._startAt.revert(_revertConfigNoKill) : tween.vars.immediateRender && !tween.vars.autoRevert || tween._startAt.render(totalTime, true, force));\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  var whole = Math.floor(tTime /= cycleDuration);\n  return tTime && whole === tTime ? whole - 1 : whole;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _roundPrecise(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n    _alignPlayhead = function _alignPlayhead(animation, totalTime) {\n  // adjusts the animation's _start and _end according to the provided totalTime (only if the parent's smoothChildTiming is true and the animation isn't paused). It doesn't do any rendering or forcing things back into parent timelines, etc. - that's what totalTime() is for.\n  var parent = animation._dp;\n\n  if (parent && parent.smoothChildTiming && animation._ts) {\n    animation._start = _roundPrecise(parent._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));\n\n    _setEnd(animation);\n\n    parent._dirty || _uncache(parent, animation); //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n  }\n\n  return animation;\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || !child._dur && child._initted || child._start < timeline._time && (child._dur || !child.add)) {\n    // in case, for example, the _start is moved on a tween that has already rendered, or if it's being inserted into a timeline BEFORE where the playhead is currently. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning. Special case: if it's a timeline (has .add() method) and no duration, we can skip rendering because the user may be populating it AFTER adding it to a parent timeline (unconventional, but possible, and we wouldn't want it to get removed if the parent's autoRemoveChildren is true).\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline, child)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _roundPrecise((_isNumber(position) ? position : position || timeline !== _globalTimeline ? _parsePosition(timeline, position, child) : timeline._time) + child._delay);\n  child._end = _roundPrecise(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  _isFromOrFromStart(child) || (timeline._recent = child);\n  skipChecks || _postAddChecks(timeline, child);\n  timeline._ts < 0 && _alignPlayhead(timeline, timeline._tTime); // if the timeline is reversed and the new child makes it longer, we may need to adjust the parent's _start (push it back)\n\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, time, force, suppressEvents, tTime) {\n  _initTween(tween, time, tTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && !_reverting && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [tTime, suppressEvents];\n    return 1;\n  }\n},\n    _parentPlayheadIsBeforeStart = function _parentPlayheadIsBeforeStart(_ref) {\n  var parent = _ref.parent;\n  return parent && parent._ts && parent._initted && !parent._lock && (parent.rawTime() < 0 || _parentPlayheadIsBeforeStart(parent));\n},\n    // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0\n_isFromOrFromStart = function _isFromOrFromStart(_ref2) {\n  var data = _ref2.data;\n  return data === \"isFromStart\" || data === \"isStart\";\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || !totalTime && (!tween._start && _parentPlayheadIsBeforeStart(tween) && !(!tween._initted && _isFromOrFromStart(tween)) || (tween._ts < 0 || tween._dp._ts < 0) && !_isFromOrFromStart(tween)) ? 0 : 1,\n      // if the tween or its parent is reversed and the totalTime is 0, we should go to a ratio of 0. Edge case: if a from() or fromTo() stagger tween is placed later in a timeline, the \"startAt\" zero-duration tween could initially render at a time when the parent timeline's playhead is technically BEFORE where this tween is, so make sure that any \"from\" and \"fromTo\" startAt tweens are rendered the first time at a ratio of 1.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    tween._yoyo && iteration & 1 && (ratio = 1 - ratio);\n\n    if (iteration !== _animationCycle(tween._tTime, repeatDelay)) {\n      // if iteration changed\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (ratio !== prevRatio || _reverting || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents, tTime)) {\n      // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n      return;\n    }\n\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    totalTime < 0 && _rewindStartAt(tween, totalTime, suppressEvents, true);\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents && !_reverting) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache, leavePlayhead) {\n  var repeat = animation._repeat,\n      dur = _roundPrecise(duration) || 0,\n      totalProgress = animation._tTime / animation._tDur;\n  totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _roundPrecise(dur * (repeat + 1) + animation._rDelay * repeat);\n  totalProgress > 0 && !leavePlayhead && _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress);\n  animation.parent && _setEnd(animation);\n  skipUncache || _uncache(animation.parent, animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc,\n  totalDuration: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position, percentAnimation) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset,\n      isPercent;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    offset = position.charAt(0);\n    isPercent = position.substr(-1) === \"%\";\n    i = position.indexOf(\"=\");\n\n    if (offset === \"<\" || offset === \">\") {\n      i >= 0 && (position = position.replace(/=/, \"\"));\n      return (offset === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0) * (isPercent ? (i < 0 ? recent : percentAnimation).totalDuration() / 100 : 1);\n    }\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = parseFloat(position.charAt(i - 1) + position.substr(i + 1));\n\n    if (isPercent && percentAnimation) {\n      offset = offset / 100 * (_isArray(percentAnimation) ? percentAnimation[0] : percentAnimation).totalDuration();\n    }\n\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1), percentAnimation) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _createTweenType = function _createTweenType(type, params, timeline) {\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars,\n      parent;\n\n  isLegacy && (vars.duration = params[1]);\n  vars.parent = timeline;\n\n  if (type) {\n    irVars = vars;\n    parent = timeline;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n    type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1]; // \"from\" vars\n  }\n\n  return new Tween(params[0], vars, params[varsIndex + 1]);\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value, v) {\n  return !_isString(value) || !(v = _unitExp.exec(value)) ? \"\" : v[1];\n},\n    // note: protect against padded numbers as strings, like \"100.100\". That shouldn't return \"00\" as the unit. If it's numeric, return no unit.\nclamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, scope, leaveStrings) {\n  return _context && !scope && _context.selector ? _context.selector(value) : _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call((scope || _doc).querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    selector = function selector(value) {\n  value = toArray(value)[0] || _warn(\"Invalid scope\") || {};\n  return function (v) {\n    var el = value.current || value.nativeElement || value;\n    return toArray(v, el.querySelectorAll ? el : el === value ? _warn(\"Invalid scope\") || _doc.createElement(\"div\") : value);\n  };\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt < l && wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = wrapAt === _bigNum ? 0 : ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _roundPrecise(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = Math.pow(10, ((v + \"\").split(\".\")[1] || \"\").length); //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed())\n\n  return function (raw) {\n    var n = _roundPrecise(Math.round(parseFloat(raw) / v) * v * p);\n\n    return (n - n % 1) / p + (_isNumber(raw) ? 0 : getUnit(raw)); // n - n % 1 replaces Math.floor() in order to handle negative values properly. For example, Math.floor(-150.00000000000003) is 151!\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min - roundingIncrement / 2 + Math.random() * (max - min + roundingIncrement * .99)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total || 0;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      prevContext = _context,\n      context = animation._ctx,\n      params,\n      scope,\n      result;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  context && (_context = context);\n  result = params ? callback.apply(scope, params) : callback.call(scope);\n  _context = prevContext;\n  return result;\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  animation.scrollTrigger && animation.scrollTrigger.kill(!!_reverting);\n  animation.progress() < 1 && _callback(animation, \"onInterrupt\");\n  return animation;\n},\n    _quickTween,\n    _registerPluginQueue = [],\n    _createPlugin = function _createPlugin(config) {\n  if (!config) return;\n  config = !config.name && config[\"default\"] || config; // UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  if (_windowExists() || config.headless) {\n    // edge case: some build tools may pass in a null/undefined value\n    var name = config.name,\n        isFunc = _isFunction(config),\n        Plugin = name && !isFunc && config.init ? function () {\n      this._props = [];\n    } : config,\n        //in case someone passes in an object that's not a plugin, like CustomEase\n    instanceDefaults = {\n      init: _emptyFunc,\n      render: _renderPropTweens,\n      add: _addPropTween,\n      kill: _killPropTweensOf,\n      modifier: _addPluginModifier,\n      rawVars: 0\n    },\n        statics = {\n      targetTest: 0,\n      get: 0,\n      getSetter: _getSetter,\n      aliases: {},\n      register: 0\n    };\n\n    _wake();\n\n    if (config !== Plugin) {\n      if (_plugins[name]) {\n        return;\n      }\n\n      _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n      _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n      _plugins[Plugin.prop = name] = Plugin;\n\n      if (config.targetTest) {\n        _harnessPlugins.push(Plugin);\n\n        _reservedProps[name] = 1;\n      }\n\n      name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n    }\n\n    _addGlobal(name, Plugin);\n\n    config.register && config.register(gsap, Plugin, PropTween);\n  } else {\n    _registerPluginQueue.push(config);\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    // possible future idea to replace the hard-coded color name values - put this in the ticker.wake() where we set the _doc:\n// let ctx = _doc.createElement(\"canvas\").getContext(\"2d\");\n// _forEachName(\"aqua,lime,silver,black,maroon,teal,blue,navy,white,olive,yellow,orange,gray,purple,green,red,pink,cyan\", color => {ctx.fillStyle = color; _colorLookup[color] = splitColor(ctx.fillStyle)});\n_hue = function _hue(h, m1, m2) {\n  h += h < 0 ? 1 : h > 1 ? -1 : 0;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length < 6) {\n        //for shorthand like #9F0 or #9F0F (could have alpha)\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b + (v.length === 5 ? v.charAt(4) + v.charAt(4) : \"\");\n      }\n\n      if (v.length === 9) {\n        // hex with alpha, like #fd5e53ff\n        a = parseInt(v.substr(1, 6), 16);\n        return [a >> 16, a >> 8 & _255, a & _255, parseInt(v.substr(7), 16) / 255];\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n        a.length > 3 && (a[3] *= 1); //cast as number\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1000 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _delta,\n      _i,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch,\n        time,\n        frame;\n\n    (elapsed > _lagThreshold || elapsed < 0) && (_startTime += elapsed - _adjustedLag);\n    _lastUpdate += elapsed;\n    time = _lastUpdate - _startTime;\n    overlap = time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      frame = ++_self.frame;\n      _delta = time - _self.time * 1000;\n      _self.time = time = time / 1000;\n      _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    if (dispatch) {\n      for (_i = 0; _i < _listeners.length; _i++) {\n        // use _i and check _listeners.length instead of a variable because a listener could get removed during the loop, and if that happens to an element less than the current index, it'd throw things off in the loop.\n        _listeners[_i](time, _delta, frame, v);\n      }\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    deltaRatio: function deltaRatio(fps) {\n      return _delta / (1000 / (fps || 60));\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _registerPluginQueue.forEach(_createPlugin);\n        }\n\n        _raf = typeof requestAnimationFrame !== \"undefined\" && requestAnimationFrame;\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, _nextTime - _self.time * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || Infinity; // zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag || 33, _lagThreshold);\n    },\n    fps: function fps(_fps) {\n      _gap = 1000 / (_fps || 240);\n      _nextTime = _self.time * 1000 + _gap;\n    },\n    add: function add(callback, once, prioritize) {\n      var func = once ? function (t, d, f, v) {\n        callback(t, d, f, v);\n\n        _self.remove(func);\n      } : callback;\n\n      _self.remove(callback);\n\n      _listeners[prioritize ? \"unshift\" : \"push\"](func);\n\n      _wake();\n\n      return func;\n    },\n    remove: function remove(callback, i) {\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1) && _i >= i && _i--;\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _valueInParentheses = function _valueInParentheses(value) {\n  var open = value.indexOf(\"(\") + 1,\n      close = value.indexOf(\")\"),\n      nested = value.indexOf(\"(\", open);\n  return value.substring(open, ~nested && nested < close ? value.indexOf(\")\", close + 1) : close);\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars) {\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat === Infinity ? -2 : vars.repeat || 0) {\n      // TODO: repeat: Infinity on a timeline's children must flag that timeline internally and affect its totalDuration, otherwise it'll stop in the negative direction when reaching the start.\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1, 1);\n\n    this.data = vars.data;\n\n    if (_context) {\n      this._ctx = _context;\n\n      _context.data.push(this);\n    }\n\n    _tickerActive || _ticker.wake();\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      _alignPlayhead(this, _totalTime);\n\n      !parent._dp || parent.parent || _postAddChecks(parent, this); // edge case: if this is a child of a timeline that already completed, for example, we must re-activate the parent.\n      //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n      while (parent && parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {\n      // check for _ptLookup on a Tween instance to ensure it has actually finished being instantiated, otherwise if this.reverse() gets called in the Animation constructor, it could trigger a render() here even though the _targets weren't populated, thus when _init() is called there won't be any PropTweens (it'll act like the tween is non-functional)\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n      //if (!this._lock) { // avoid endless recursion (not sure we need this yet or if it's worth the performance hit)\n      //   this._lock = 1;\n\n      _lazySafeRender(this, _totalTime, suppressEvents); //   this._lock = 0;\n      //}\n\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % (this._dur + this._rDelay) || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.rawTime() > 0 ? 1 : 0;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.rawTime() > 0 ? 1 : 0;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value, suppressEvents) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // future addition? Up side: fast and minimal file size. Down side: only works on this animation; if a timeline is reversed, for example, its childrens' onReverse wouldn't get called.\n    //(+value < 0 && this._rts >= 0) && _callback(this, \"onReverse\", true);\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    this.totalTime(_clamp(-Math.abs(this._delay), this._tDur, tTime), suppressEvents !== false);\n\n    _setEnd(this); // if parent.smoothChildTiming was false, the end time didn't get updated in the _alignPlayhead() method, so do it here.\n\n\n    return _recacheAncestors(this);\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && Math.abs(this._zTime) !== _tinyNum && (this._tTime -= _tinyNum)); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts || 1);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detached parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  };\n\n  _proto.revert = function revert(config) {\n    if (config === void 0) {\n      config = _revertConfig;\n    }\n\n    var prevIsReverting = _reverting;\n    _reverting = config;\n\n    if (this._initted || this._startAt) {\n      this.timeline && this.timeline.revert(config);\n      this.totalTime(-0.01, config.suppressEvents);\n    }\n\n    this.data !== \"nested\" && config.kill !== false && this.kill();\n    _reverting = prevIsReverting;\n    return this;\n  };\n\n  _proto.globalTime = function globalTime(rawTime) {\n    var animation = this,\n        time = arguments.length ? rawTime : animation.rawTime();\n\n    while (animation) {\n      time = animation._start + time / (Math.abs(animation._ts) || 1);\n      animation = animation._dp;\n    }\n\n    return !this.parent && this._sat ? this._sat.globalTime(rawTime) : time; // the _startAt tweens for .fromTo() and .from() that have immediateRender should always be FIRST in the timeline (important for context.revert()). \"_sat\" stands for _startAtTween, referring to the parent tween that created the _startAt. We must discern if that tween had immediateRender so that we can know whether or not to prioritize it in revert().\n  };\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value === Infinity ? -2 : value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat === -2 ? Infinity : this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      var time = this._time;\n      this._rDelay = value;\n\n      _onUpdateTotalDuration(this);\n\n      return time ? this.time(time) : this;\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    from != null && this.seek(from, suppressEvents);\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    from != null && this.seek(from || this.totalDuration(), suppressEvents);\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    atTime != null && this.seek(atTime, suppressEvents);\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = this._act = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive() {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n        params && (vars[type + \"Params\"] = params);\n        type === \"onUpdate\" && (this._onUpdate = callback);\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, position) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _globalTimeline && _addToTimeline(vars.parent || _globalTimeline, _assertThisInitialized(_this), position);\n    vars.reversed && _this.reverse();\n    vars.paused && _this.paused(true);\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    _createTweenType(0, arguments, this);\n\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    _createTweenType(1, arguments, this);\n\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    _createTweenType(2, arguments, this);\n\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), position);\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = totalTime <= 0 ? 0 : _roundPrecise(totalTime),\n        // if a paused timeline is resumed (or its _start is updated for another reason...which rounds it), that could result in the playhead shifting a **tiny** amount and a zero-duration child at that spot may get rendered at a different ratio, like its totalTime in render() may be 1e-17 instead of 0, for example.\n    crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n    this !== _globalTimeline && tTime > tDur && totalTime >= 0 && (tTime = tDur);\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _roundPrecise(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && this._tTime - prevIteration * cycleDuration - this._dur <= 0 && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://gsap.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005 also, this._tTime - prevIteration * cycleDuration - this._dur <= 0 just checks to make sure it wasn't previously in the \"repeatDelay\" portion\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n          iteration < prevIteration && (rewinding = !rewinding);\n          prevTime = rewinding ? 0 : tTime % dur ? dur : tTime; // if the playhead is landing exactly at the end of an iteration, use that totalTime rather than only the duration, otherwise it'll skip the 2nd render since it's effectively at the same time.\n\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _roundPrecise(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n          this._tTime = tTime; // if a user gets the iteration() inside the onRepeat, for example, it should be accurate.\n\n          !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime && prevTime !== this._time || prevPaused !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) {\n            // if prevTime is 0 and we render at the very end, _time will be the end, thus won't match. So in this edge case, prevTime won't match _time but that's okay. If it gets killed in the onRepeat, eject as well.\n            return this;\n          }\n\n          dur = this._dur; // in case the duration changed in the onRepeat\n\n          tDur = this._tDur;\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _roundPrecise(prevTime), _roundPrecise(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n        prevTime = 0; // upon init, the playhead should always go forward; someone could invalidate() a completed timeline and then if they restart(), that would make child tweens render in reverse order which could lock in the wrong starting values if they build on each other, like tl.to(obj, {x: 100}).to(obj, {x: 0}).\n      }\n\n      if (!prevTime && time && !suppressEvents && !iteration) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force || _reverting && (child._initted || child._startAt)); // if reverting, we should always force renders of initted tweens (but remember that .fromTo() or .from() may have a _startAt but not _initted yet). If, for example, a .fromTo() tween with a stagger (which creates an internal timeline) gets reverted BEFORE some of its child tweens render for the first time, it may not properly trigger them to revert.\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && this._tTime >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        // remember, a child's callback may alter this timeline's playhead or timeScale which is why we need to add some of these checks.\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime || !tDur)) {\n          _callback(this, tTime === tDur && totalTime >= 0 ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    _isNumber(position) || (position = _parsePosition(this, position, child));\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return this;\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _roundPrecise(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        isGlobalTime = _isNumber(onlyActive),\n        // a number is interpreted as a global time. If the animation spans\n    children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {\n          // note: if this is for overwriting, it should only be for tweens that aren't paused and are initted.\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  } // potential future feature - targets() on timelines\n  // targets() {\n  // \tlet result = [];\n  // \tthis.getChildren(true, true, false).forEach(t => result.push(...t.targets()));\n  // \treturn result.filter((v, i) => result.indexOf(v) === i);\n  // }\n  ;\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        immediateRender = _vars.immediateRender,\n        initted,\n        tween = Tween.to(tl, _setDefaults({\n      ease: vars.ease || \"none\",\n      lazy: false,\n      immediateRender: false,\n      time: endTime,\n      overwrite: \"auto\",\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n\n        if (!initted) {\n          var duration = vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale());\n          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);\n          initted = 1;\n        }\n\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }, vars));\n\n    return immediateRender ? tween.render(0) : tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n        child._end += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate(soft) {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate(soft);\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this, soft);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._dp && (this._time = this._tTime = this._pTime = 0);\n    includeLabels && (this.labels = {});\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        child._end > max && child._ts && (max = child._end);\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? _parseRelative(startNum, endNum) - startNum : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam, optional) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      pt = _parseRelative(parsedStart, end) + (getUnit(parsedStart) || 0);\n\n      if (pt || pt === 0) {\n        // to avoid isNaN, like if someone passes in a value like \"!= whatever\"\n        end = pt;\n      }\n    }\n  }\n\n  if (!optional || parsedStart !== end || _forceAllPropTweens) {\n    if (!isNaN(parsedStart * end) && end !== \"\") {\n      // fun fact: any number multiplied by \"\" is evaluated as the number 0!\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_forceAllPropTweens,\n    _initTween = function _initTween(tween, time, tTime) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.vars.targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\" && !_suppressOverwrites,\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars,\n      overwritten;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  if (!tl || keyframes && !vars.stagger) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n\n    if (prevStartAt) {\n      prevStartAt._zTime < 0 && prevStartAt.progress(1); // in case it's a lazy startAt that hasn't rendered yet.\n\n      time < 0 && runBackwards && immediateRender && !autoRevert ? prevStartAt.render(-1, true) : prevStartAt.revert(runBackwards && dur ? _revertConfigNoKill : _startAtRevertConfig); // if it's a \"startAt\" (not \"from()\" or runBackwards: true), we only need to do a shallow revert (keep transforms cached in CSSPlugin)\n      // don't just _removeFromParent(prevStartAt.render(-1, true)) because that'll leave inline styles. We're creating a new _startAt for \"startAt\" tweens that re-capture things to ensure that if the pre-tween values changed since the tween was created, they're recorded.\n\n      prevStartAt._lazy = 0;\n    }\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: !prevStartAt && _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate && function () {\n          return _callback(tween, \"onUpdate\");\n        },\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      tween._startAt._dp = 0; // don't allow it to get put back into root timeline! Like when revert() is called and totalTime() gets set.\n\n      tween._startAt._sat = tween; // used in globalTime(). _sat stands for _startAtTween\n\n      time < 0 && (_reverting || !immediateRender && !autoRevert) && tween._startAt.revert(_revertConfigNoKill); // rare edge case, like if a render is forced in the negative direction of a non-initted tween.\n\n      if (immediateRender) {\n        if (dur && time <= 0 && tTime <= 0) {\n          // check tTime here because in the case of a yoyo tween whose playhead gets pushed to the end like tween.progress(1), we should allow it through so that the onComplete gets fired properly.\n          time && (tween._zTime = time);\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        }\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (!prevStartAt) {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _setDefaults({\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && !prevStartAt && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y: gsap.utils.wrap([-100,100]), stagger: 0.5})\n\n        }, cleanVars);\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        tween._startAt._dp = 0; // don't allow it to get put back into root timeline!\n\n        tween._startAt._sat = tween; // used in globalTime()\n\n        time < 0 && (_reverting ? tween._startAt.revert(_revertConfigNoKill) : tween._startAt.render(-1, true));\n        tween._zTime = time;\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = tween._ptCache = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(time)); // make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        overwritten = !tween.parent;\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._onUpdate = onUpdate;\n  tween._initted = (!tween._op || tween._pt) && !overwritten; // if overwrittenProps resulted in the entire tween being killed, do NOT flag it as initted or else it may render for one tick.\n\n  keyframes && time <= 0 && tl.render(_bigNum, true, true); // if there's a 0% keyframe, it'll render in the \"before\" state for any staggered/delayed animations thus when the following tween initializes, it'll use the \"before\" state instead of the \"after\" state as the initial values.\n},\n    _updatePropTweens = function _updatePropTweens(tween, property, value, start, startIsRelative, ratio, time, skipRecursion) {\n  var ptCache = (tween._pt && tween._ptCache || (tween._ptCache = {}))[property],\n      pt,\n      rootPT,\n      lookup,\n      i;\n\n  if (!ptCache) {\n    ptCache = tween._ptCache[property] = [];\n    lookup = tween._ptLookup;\n    i = tween._targets.length;\n\n    while (i--) {\n      pt = lookup[i][property];\n\n      if (pt && pt.d && pt.d._pt) {\n        // it's a plugin, so find the nested PropTween\n        pt = pt.d._pt;\n\n        while (pt && pt.p !== property && pt.fp !== property) {\n          // \"fp\" is functionParam for things like setting CSS variables which require .setProperty(\"--var-name\", value)\n          pt = pt._next;\n        }\n      }\n\n      if (!pt) {\n        // there is no PropTween associated with that property, so we must FORCE one to be created and ditch out of this\n        // if the tween has other properties that already rendered at new positions, we'd normally have to rewind to put them back like tween.render(0, true) before forcing an _initTween(), but that can create another edge case like tweening a timeline's progress would trigger onUpdates to fire which could move other things around. It's better to just inform users that .resetTo() should ONLY be used for tweens that already have that property. For example, you can't gsap.to(...{ y: 0 }) and then tween.restTo(\"x\", 200) for example.\n        _forceAllPropTweens = 1; // otherwise, when we _addPropTween() and it finds no change between the start and end values, it skips creating a PropTween (for efficiency...why tween when there's no difference?) but in this case we NEED that PropTween created so we can edit it.\n\n        tween.vars[property] = \"+=0\";\n\n        _initTween(tween, time);\n\n        _forceAllPropTweens = 0;\n        return skipRecursion ? _warn(property + \" not eligible for reset\") : 1; // if someone tries to do a quickTo() on a special property like borderRadius which must get split into 4 different properties, that's not eligible for .resetTo().\n      }\n\n      ptCache.push(pt);\n    }\n  }\n\n  i = ptCache.length;\n\n  while (i--) {\n    rootPT = ptCache[i];\n    pt = rootPT._pt || rootPT; // complex values may have nested PropTweens. We only accommodate the FIRST value.\n\n    pt.s = (start || start === 0) && !startIsRelative ? start : pt.s + (start || 0) + ratio * pt.c;\n    pt.c = value - pt.s;\n    rootPT.e && (rootPT.e = _round(value) + getUnit(rootPT.e)); // mainly for CSSPlugin (end value)\n\n    rootPT.b && (rootPT.b = pt.s + getUnit(rootPT.b)); // (beginning value)\n  }\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    // parses multiple formats, like {\"0%\": {x: 100}, {\"50%\": {x: -20}} and { x: {\"0%\": 100, \"50%\": -20} }, and an \"ease\" can be set on any object. We populate an \"allProps\" object with an Array for each property, like {x: [{}, {}], y:[{}, {}]} with data for each property tween. The objects have a \"t\" (time), \"v\", (value), and \"e\" (ease) property. This allows us to piece together a timeline later.\n_parseKeyframe = function _parseKeyframe(prop, obj, allProps, easeEach) {\n  var ease = obj.ease || easeEach || \"power1.inOut\",\n      p,\n      a;\n\n  if (_isArray(obj)) {\n    a = allProps[prop] || (allProps[prop] = []); // t = time (out of 100), v = value, e = ease\n\n    obj.forEach(function (value, i) {\n      return a.push({\n        t: i / (obj.length - 1) * 100,\n        v: value,\n        e: ease\n      });\n    });\n  } else {\n    for (p in obj) {\n      a = allProps[p] || (allProps[p] = []);\n      p === \"ease\" || a.push({\n        t: parseFloat(prop),\n        v: obj[p],\n        e: ease\n      });\n    }\n  }\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert\",\n    _staggerPropsToSkip = {};\n\n_forEachName(_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\", function (name) {\n  return _staggerPropsToSkip[name] = 1;\n});\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, position, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      position.duration = vars;\n      vars = position;\n      position = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars)) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = vars.parent || _globalTimeline,\n        parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://gsap.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {},\n        targets: parent && parent.data === \"nested\" ? parent.vars.targets : parsedTargets\n      }); // we need to store the targets because for staggers and keyframes, we end up creating an individual tween for each but function-based values need to know the index and the whole Array of targets.\n\n      tl.kill();\n      tl.parent = tl._dp = _assertThisInitialized(_this3);\n      tl._start = 0;\n\n      if (stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n        l = parsedTargets.length;\n        staggerFunc = stagger && distribute(stagger);\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = _copyExcluding(vars, _staggerPropsToSkip);\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc ? staggerFunc(i, curTarget, parsedTargets) : 0);\n          tl._ease = _easeMap.none;\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      } else if (keyframes) {\n        _inheritDefaults(_setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        }));\n\n        tl._ease = _parseEase(keyframes.ease || vars.ease || \"none\");\n        var time = 0,\n            a,\n            kf,\n            v;\n\n        if (_isArray(keyframes)) {\n          keyframes.forEach(function (frame) {\n            return tl.to(parsedTargets, frame, \">\");\n          });\n          tl.duration(); // to ensure tl._dur is cached because we tap into it for performance purposes in the render() method.\n        } else {\n          copy = {};\n\n          for (p in keyframes) {\n            p === \"ease\" || p === \"easeEach\" || _parseKeyframe(p, keyframes[p], copy, keyframes.easeEach);\n          }\n\n          for (p in copy) {\n            a = copy[p].sort(function (a, b) {\n              return a.t - b.t;\n            });\n            time = 0;\n\n            for (i = 0; i < a.length; i++) {\n              kf = a[i];\n              v = {\n                ease: kf.e,\n                duration: (kf.t - (i ? a[i - 1].t : 0)) / 100 * duration\n              };\n              v[p] = kf.v;\n              tl.to(parsedTargets, v, time);\n              time += v.duration;\n            }\n          }\n\n          tl.duration() < duration && tl.to({}, {\n            duration: duration - tl.duration()\n          }); // in case keyframes didn't go to 100%\n        }\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true && !_suppressOverwrites) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    _addToTimeline(parent, _assertThisInitialized(_this3), position);\n\n    vars.reversed && _this3.reverse();\n    vars.paused && _this3.paused(true);\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _roundPrecise(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay) || 0); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        isNegative = totalTime < 0,\n        tTime = totalTime > tDur - _tinyNum && !isNegative ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || !this._initted && this._tTime || this._startAt && this._zTime < 0 !== isNegative) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && isNegative) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _roundPrecise(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === _roundPrecise(tTime / cycleDuration)) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted && iteration === prevIteration) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          this._tTime = tTime;\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock && this._time !== cycleDuration && this._initted) {\n            // this._time will === cycleDuration when we render at EXACTLY the end of an iteration. Without this condition, it'd often do the repeatRefresh render TWICE (again on the very next tick).\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_roundPrecise(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, isNegative ? totalTime : time, force, suppressEvents, tTime)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (prevTime !== this._time && !(force && this.vars.repeatRefresh && iteration !== prevIteration)) {\n          // rare edge case - during initialization, an onUpdate in the _startAt (.fromTo()) might force this tween to render at a different spot in which case we should ditch this render() call so that it doesn't revert the values. But we also don't want to dump if we're doing a repeatRefresh render!\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (time && !prevTime && !suppressEvents && !iteration) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : timeline._dur * timeline._ease(time / this._dur), suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        isNegative && _rewindStartAt(this, totalTime, suppressEvents, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        isNegative && !this._onUpdate && _rewindStartAt(this, totalTime, true, true);\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(isNegative && !prevTime) && (tTime || prevTime || isYoyo)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate(soft) {\n    // \"soft\" gives us a way to clear out everything EXCEPT the recorded pre-\"from\" portion of from() tweens. Otherwise, for example, if you tween.progress(1).render(0, true true).invalidate(), the \"from\" values would persist and then on the next render, the from() tweens would initialize and the current value would match the \"from\" values, thus animate from the same value to the same value (no animation). We tap into this in ScrollTrigger's refresh() where we must push a tween to completion and then back again but honor its init state in case the tween is dependent on another tween further up on the page.\n    (!soft || !this.vars.runBackwards) && (this._startAt = 0);\n    this._pt = this._op = this._onUpdate = this._lazy = this.ratio = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate(soft);\n    return _Animation2.prototype.invalidate.call(this, soft);\n  };\n\n  _proto3.resetTo = function resetTo(property, value, start, startIsRelative, skipRecursion) {\n    _tickerActive || _ticker.wake();\n    this._ts || this.play();\n    var time = Math.min(this._dur, (this._dp._time - this._start) * this._ts),\n        ratio;\n    this._initted || _initTween(this, time);\n    ratio = this._ease(time / this._dur); // don't just get tween.ratio because it may not have rendered yet.\n    // possible future addition to allow an object with multiple values to update, like tween.resetTo({x: 100, y: 200}); At this point, it doesn't seem worth the added kb given the fact that most users will likely opt for the convenient gsap.quickTo() way of interacting with this method.\n    // if (_isObject(property)) { // performance optimization\n    // \tfor (p in property) {\n    // \t\tif (_updatePropTweens(this, p, property[p], value ? value[p] : null, start, ratio, time)) {\n    // \t\t\treturn this.resetTo(property, value, start, startIsRelative); // if a PropTween wasn't found for the property, it'll get forced with a re-initialization so we need to jump out and start over again.\n    // \t\t}\n    // \t}\n    // } else {\n\n    if (_updatePropTweens(this, property, value, start, startIsRelative, ratio, time, skipRecursion)) {\n      return this.resetTo(property, value, start, startIsRelative, 1); // if a PropTween wasn't found for the property, it'll get forced with a re-initialization so we need to jump out and start over again.\n    } //}\n\n\n    _alignPlayhead(this, 0);\n\n    this.parent || _addLinkedListItem(this._dp, this, \"_first\", \"_last\", this._dp._sort ? \"_start\" : 0);\n    return this.render(0);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = this._pt = 0;\n      return this.parent ? _interrupt(this) : this;\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweening, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      vars === \"all\" && (this._pt = 0);\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    this._initted && !this._pt && firstPT && _interrupt(this); //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return _createTweenType(1, arguments);\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    }); // we must use onReverseComplete too for things like timeline.add(() => {...}) which should be triggered in BOTH directions (forward and reverse)\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return _createTweenType(2, arguments);\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1000000) / 1000000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n    pt.p === property && pt.modifier(modifier, tween, target);\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n\nvar _media = [],\n    _listeners = {},\n    _emptyArray = [],\n    _lastMediaTime = 0,\n    _contextID = 0,\n    _dispatch = function _dispatch(type) {\n  return (_listeners[type] || _emptyArray).map(function (f) {\n    return f();\n  });\n},\n    _onMediaChange = function _onMediaChange() {\n  var time = Date.now(),\n      matches = [];\n\n  if (time - _lastMediaTime > 2) {\n    _dispatch(\"matchMediaInit\");\n\n    _media.forEach(function (c) {\n      var queries = c.queries,\n          conditions = c.conditions,\n          match,\n          p,\n          anyMatch,\n          toggled;\n\n      for (p in queries) {\n        match = _win.matchMedia(queries[p]).matches; // Firefox doesn't update the \"matches\" property of the MediaQueryList object correctly - it only does so as it calls its change handler - so we must re-create a media query here to ensure it's accurate.\n\n        match && (anyMatch = 1);\n\n        if (match !== conditions[p]) {\n          conditions[p] = match;\n          toggled = 1;\n        }\n      }\n\n      if (toggled) {\n        c.revert();\n        anyMatch && matches.push(c);\n      }\n    });\n\n    _dispatch(\"matchMediaRevert\");\n\n    matches.forEach(function (c) {\n      return c.onMatch(c, function (func) {\n        return c.add(null, func);\n      });\n    });\n    _lastMediaTime = time;\n\n    _dispatch(\"matchMedia\");\n  }\n};\n\nvar Context = /*#__PURE__*/function () {\n  function Context(func, scope) {\n    this.selector = scope && selector(scope);\n    this.data = [];\n    this._r = []; // returned/cleanup functions\n\n    this.isReverted = false;\n    this.id = _contextID++; // to work around issues that frameworks like Vue cause by making things into Proxies which make it impossible to do something like _media.indexOf(this) because \"this\" would no longer refer to the Context instance itself - it'd refer to a Proxy! We needed a way to identify the context uniquely\n\n    func && this.add(func);\n  }\n\n  var _proto5 = Context.prototype;\n\n  _proto5.add = function add(name, func, scope) {\n    // possible future addition if we need the ability to add() an animation to a context and for whatever reason cannot create that animation inside of a context.add(() => {...}) function.\n    // if (name && _isFunction(name.revert)) {\n    // \tthis.data.push(name);\n    // \treturn (name._ctx = this);\n    // }\n    if (_isFunction(name)) {\n      scope = func;\n      func = name;\n      name = _isFunction;\n    }\n\n    var self = this,\n        f = function f() {\n      var prev = _context,\n          prevSelector = self.selector,\n          result;\n      prev && prev !== self && prev.data.push(self);\n      scope && (self.selector = selector(scope));\n      _context = self;\n      result = func.apply(self, arguments);\n      _isFunction(result) && self._r.push(result);\n      _context = prev;\n      self.selector = prevSelector;\n      self.isReverted = false;\n      return result;\n    };\n\n    self.last = f;\n    return name === _isFunction ? f(self, function (func) {\n      return self.add(null, func);\n    }) : name ? self[name] = f : f;\n  };\n\n  _proto5.ignore = function ignore(func) {\n    var prev = _context;\n    _context = null;\n    func(this);\n    _context = prev;\n  };\n\n  _proto5.getTweens = function getTweens() {\n    var a = [];\n    this.data.forEach(function (e) {\n      return e instanceof Context ? a.push.apply(a, e.getTweens()) : e instanceof Tween && !(e.parent && e.parent.data === \"nested\") && a.push(e);\n    });\n    return a;\n  };\n\n  _proto5.clear = function clear() {\n    this._r.length = this.data.length = 0;\n  };\n\n  _proto5.kill = function kill(revert, matchMedia) {\n    var _this4 = this;\n\n    if (revert) {\n      (function () {\n        var tweens = _this4.getTweens(),\n            i = _this4.data.length,\n            t;\n\n        while (i--) {\n          // Flip plugin tweens are very different in that they should actually be pushed to their end. The plugin replaces the timeline's .revert() method to do exactly that. But we also need to remove any of those nested tweens inside the flip timeline so that they don't get individually reverted.\n          t = _this4.data[i];\n\n          if (t.data === \"isFlip\") {\n            t.revert();\n            t.getChildren(true, true, false).forEach(function (tween) {\n              return tweens.splice(tweens.indexOf(tween), 1);\n            });\n          }\n        } // save as an object so that we can cache the globalTime for each tween to optimize performance during the sort\n\n\n        tweens.map(function (t) {\n          return {\n            g: t._dur || t._delay || t._sat && !t._sat.vars.immediateRender ? t.globalTime(0) : -Infinity,\n            t: t\n          };\n        }).sort(function (a, b) {\n          return b.g - a.g || -Infinity;\n        }).forEach(function (o) {\n          return o.t.revert(revert);\n        }); // note: all of the _startAt tweens should be reverted in reverse order that they were created, and they'll all have the same globalTime (-1) so the \" || -1\" in the sort keeps the order properly.\n\n        i = _this4.data.length;\n\n        while (i--) {\n          // make sure we loop backwards so that, for example, SplitTexts that were created later on the same element get reverted first\n          t = _this4.data[i];\n\n          if (t instanceof Timeline) {\n            if (t.data !== \"nested\") {\n              t.scrollTrigger && t.scrollTrigger.revert();\n              t.kill(); // don't revert() the timeline because that's duplicating efforts since we already reverted all the tweens\n            }\n          } else {\n            !(t instanceof Tween) && t.revert && t.revert(revert);\n          }\n        }\n\n        _this4._r.forEach(function (f) {\n          return f(revert, _this4);\n        });\n\n        _this4.isReverted = true;\n      })();\n    } else {\n      this.data.forEach(function (e) {\n        return e.kill && e.kill();\n      });\n    }\n\n    this.clear();\n\n    if (matchMedia) {\n      var i = _media.length;\n\n      while (i--) {\n        // previously, we checked _media.indexOf(this), but some frameworks like Vue enforce Proxy objects that make it impossible to get the proper result that way, so we must use a unique ID number instead.\n        _media[i].id === this.id && _media.splice(i, 1);\n      }\n    }\n  };\n\n  _proto5.revert = function revert(config) {\n    this.kill(config || {});\n  };\n\n  return Context;\n}();\n\nvar MatchMedia = /*#__PURE__*/function () {\n  function MatchMedia(scope) {\n    this.contexts = [];\n    this.scope = scope;\n    _context && _context.data.push(this);\n  }\n\n  var _proto6 = MatchMedia.prototype;\n\n  _proto6.add = function add(conditions, func, scope) {\n    _isObject(conditions) || (conditions = {\n      matches: conditions\n    });\n    var context = new Context(0, scope || this.scope),\n        cond = context.conditions = {},\n        mq,\n        p,\n        active;\n    _context && !context.selector && (context.selector = _context.selector); // in case a context is created inside a context. Like a gsap.matchMedia() that's inside a scoped gsap.context()\n\n    this.contexts.push(context);\n    func = context.add(\"onMatch\", func);\n    context.queries = conditions;\n\n    for (p in conditions) {\n      if (p === \"all\") {\n        active = 1;\n      } else {\n        mq = _win.matchMedia(conditions[p]);\n\n        if (mq) {\n          _media.indexOf(context) < 0 && _media.push(context);\n          (cond[p] = mq.matches) && (active = 1);\n          mq.addListener ? mq.addListener(_onMediaChange) : mq.addEventListener(\"change\", _onMediaChange);\n        }\n      }\n    }\n\n    active && func(context, function (f) {\n      return context.add(null, f);\n    });\n    return this;\n  } // refresh() {\n  // \tlet time = _lastMediaTime,\n  // \t\tmedia = _media;\n  // \t_lastMediaTime = -1;\n  // \t_media = this.contexts;\n  // \t_onMediaChange();\n  // \t_lastMediaTime = time;\n  // \t_media = media;\n  // }\n  ;\n\n  _proto6.revert = function revert(config) {\n    this.kill(config || {});\n  };\n\n  _proto6.kill = function kill(revert) {\n    this.contexts.forEach(function (c) {\n      return c.kill(revert, true);\n    });\n  };\n\n  return MatchMedia;\n}();\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    _isString(target) && (target = toArray(target)[0]); //in case selector text or an array is passed in\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    unit === \"native\" && (unit = \"\");\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  quickTo: function quickTo(target, property, vars) {\n    var _merge2;\n\n    var tween = gsap.to(target, _merge((_merge2 = {}, _merge2[property] = \"+=0.1\", _merge2.paused = true, _merge2), vars || {})),\n        func = function func(value, start, startIsRelative) {\n      return tween.resetTo(property, value, start, startIsRelative);\n    };\n\n    func.tween = tween;\n    return func;\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref3) {\n    var name = _ref3.name,\n        effect = _ref3.effect,\n        plugins = _ref3.plugins,\n        defaults = _ref3.defaults,\n        extendTimeline = _ref3.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  context: function context(func, scope) {\n    return func ? new Context(func, scope) : _context;\n  },\n  matchMedia: function matchMedia(scope) {\n    return new MatchMedia(scope);\n  },\n  matchMediaRefresh: function matchMediaRefresh() {\n    return _media.forEach(function (c) {\n      var cond = c.conditions,\n          found,\n          p;\n\n      for (p in cond) {\n        if (cond[p]) {\n          cond[p] = false;\n          found = 1;\n        }\n      }\n\n      found && c.revert();\n    }) || _onMediaChange();\n  },\n  addEventListener: function addEventListener(type, callback) {\n    var a = _listeners[type] || (_listeners[type] = []);\n    ~a.indexOf(callback) || a.push(callback);\n  },\n  removeEventListener: function removeEventListener(type, callback) {\n    var a = _listeners[type],\n        i = a && a.indexOf(callback);\n    i >= 0 && a.splice(i, 1);\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    selector: selector,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem,\n    reverting: function reverting() {\n      return _reverting;\n    },\n    context: function context(toAdd) {\n      if (toAdd && _context) {\n        _context.data.push(toAdd);\n\n        toAdd._ctx = _context;\n      }\n\n      return _context;\n    },\n    suppressOverwrites: function suppressOverwrites(value) {\n      return _suppressOverwrites = value;\n    }\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt, v;\n    this.tween = tween;\n\n    for (p in vars) {\n      v = target.getAttribute(p) || \"\";\n      pt = this.add(target, \"setAttribute\", (v || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt.op = p;\n      pt.b = v; // record the beginning value so we can revert()\n\n      this._props.push(p);\n    }\n  },\n  render: function render(ratio, data) {\n    var pt = data._pt;\n\n    while (pt) {\n      _reverting ? pt.set(pt.t, pt.p, pt.b, pt) : pt.r(ratio, pt.d); // if reverting, go back to the original (pt.b)\n\n      pt = pt._next;\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i], 0, 0, 0, 0, 0, 1);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.12.5\";\n_coreReady = 1;\n_windowExists() && _wake();\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, selector, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _parseRelative };","/*!\n * CSSPlugin 3.12.5\n * https://gsap.com\n *\n * Copyright 2008-2024, GreenSock. All rights reserved.\n * Subject to the terms at https://gsap.com/standard-license or for\n * Club GSAP members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _parseRelative, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _reverting,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _saveStyle = function _saveStyle(property, isNotCSS) {\n  var _this = this;\n\n  var target = this.target,\n      style = target.style,\n      cache = target._gsap;\n\n  if (property in _transformProps && style) {\n    this.tfm = this.tfm || {};\n\n    if (property !== \"transform\") {\n      property = _propertyAliases[property] || property;\n      ~property.indexOf(\",\") ? property.split(\",\").forEach(function (a) {\n        return _this.tfm[a] = _get(target, a);\n      }) : this.tfm[property] = cache.x ? cache[property] : _get(target, property); // note: scale would map to \"scaleX,scaleY\", thus we loop and apply them both.\n\n      property === _transformOriginProp && (this.tfm.zOrigin = cache.zOrigin);\n    } else {\n      return _propertyAliases.transform.split(\",\").forEach(function (p) {\n        return _saveStyle.call(_this, p, isNotCSS);\n      });\n    }\n\n    if (this.props.indexOf(_transformProp) >= 0) {\n      return;\n    }\n\n    if (cache.svg) {\n      this.svgo = target.getAttribute(\"data-svg-origin\");\n      this.props.push(_transformOriginProp, isNotCSS, \"\");\n    }\n\n    property = _transformProp;\n  }\n\n  (style || isNotCSS) && this.props.push(property, isNotCSS, style[property]);\n},\n    _removeIndependentTransforms = function _removeIndependentTransforms(style) {\n  if (style.translate) {\n    style.removeProperty(\"translate\");\n    style.removeProperty(\"scale\");\n    style.removeProperty(\"rotate\");\n  }\n},\n    _revertStyle = function _revertStyle() {\n  var props = this.props,\n      target = this.target,\n      style = target.style,\n      cache = target._gsap,\n      i,\n      p;\n\n  for (i = 0; i < props.length; i += 3) {\n    // stored like this: property, isNotCSS, value\n    props[i + 1] ? target[props[i]] = props[i + 2] : props[i + 2] ? style[props[i]] = props[i + 2] : style.removeProperty(props[i].substr(0, 2) === \"--\" ? props[i] : props[i].replace(_capsExp, \"-$1\").toLowerCase());\n  }\n\n  if (this.tfm) {\n    for (p in this.tfm) {\n      cache[p] = this.tfm[p];\n    }\n\n    if (cache.svg) {\n      cache.renderTransform();\n      target.setAttribute(\"data-svg-origin\", this.svgo || \"\");\n    }\n\n    i = _reverting();\n\n    if ((!i || !i.isStart) && !style[_transformProp]) {\n      _removeIndependentTransforms(style);\n\n      if (cache.zOrigin && style[_transformOriginProp]) {\n        style[_transformOriginProp] += \" \" + cache.zOrigin + \"px\"; // since we're uncaching, we must put the zOrigin back into the transformOrigin so that we can pull it out accurately when we parse again. Otherwise, we'd lose the z portion of the origin since we extract it to protect from Safari bugs.\n\n        cache.zOrigin = 0;\n        cache.renderTransform();\n      }\n\n      cache.uncache = 1; // if it's a startAt that's being reverted in the _initTween() of the core, we don't need to uncache transforms. This is purely a performance optimization.\n    }\n  }\n},\n    _getStyleSaver = function _getStyleSaver(target, properties) {\n  var saver = {\n    target: target,\n    props: [],\n    revert: _revertStyle,\n    save: _saveStyle\n  };\n  target._gsap || gsap.core.getCache(target); // just make sure there's a _gsap cache defined because we read from it in _saveStyle() and it's more efficient to just check it here once.\n\n  properties && properties.split(\",\").forEach(function (p) {\n    return saver.save(p);\n  });\n  return saver;\n},\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e && e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://gsap.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _transformProp + \"Origin\";\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _reverting = gsap.core.reverting;\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style,\n        first2Chars;\n\n    if (property in _transformProps && property !== _transformOriginProp) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      first2Chars = property.substr(0, 2);\n\n      if (first2Chars === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(first2Chars === \"--\" ? property : property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    _nonStandardLayouts = {\n  grid: 1,\n  flex: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if ((toPercent || curUnit === \"%\") && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    px = isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty];\n    return _round(toPercent ? curValue / px * amount : curValue / 100 * px);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time && !cache.uncache) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    if (toPercent && (property === \"height\" || property === \"width\")) {\n      // if we're dealing with width/height that's inside a container with padding and/or it's a flexbox/grid container, we must apply it to the target itself rather than the _tempDiv in order to ensure complete accuracy, factoring in the parent's padding.\n      var v = target.style[property];\n      target.style[property] = amount + unit;\n      px = target[measureProperty];\n      v ? target.style[property] = v : _removeProperty(target, property);\n    } else {\n      (toPercent || curUnit === \"%\") && !_nonStandardLayouts[_getComputedProperty(parent, \"display\")] && (style.position = _getComputedProperty(target, \"position\"));\n      parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n      parent.appendChild(_tempDiv);\n      px = _tempDiv[measureProperty];\n      parent.removeChild(_tempDiv);\n      style.position = \"absolute\";\n    }\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n  _pluginInitted || _initCore();\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : value.svg ? value.origin : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").trim().indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  // note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://gsap.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    } else if (prop === \"borderColor\") {\n      start = _getComputedProperty(target, \"borderTopColor\"); // Firefox bug: always reports \"borderColor\" as \"\", so we must fall back to borderTopColor. See https://gsap.com/forums/topic/24583-how-to-return-colors-that-i-had-after-reverse/\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; // ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    startValue = target.style[prop];\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    startValue ? target.style[prop] = startValue : _removeProperty(target, prop);\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); // pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        endValue.charAt(1) === \"=\" && (endValue = _parseRelative(startNum, endValue) + startUnit);\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } // these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: endNum - startNum,\n          m: color && color < 4 || prop === \"zIndex\" ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  _relExp.test(end) && (pt.e = 0); //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n\n        _removeIndependentTransforms(style);\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://gsap.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      // note: in 3.3.0 we switched target.offsetParent to _doc.body.contains(target) to avoid [sometimes unnecessary] MutationObserver calls but that wasn't adequate because there are edge cases where nested position: fixed elements need to get reparented to accurately sense transforms. See https://github.com/greensock/GSAP/issues/388 and https://github.com/greensock/GSAP/issues/375\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextElementSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n    temp ? style.display = temp : _removeProperty(target, \"display\");\n\n    if (addedToDOM) {\n      nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin); // if (!(\"xOrigin\" in cache) && (xOrigin || yOrigin)) { // added in 3.12.3, reverted in 3.12.4; requires more exploration\n    // \txOrigin -= bounds.x;\n    // \tyOrigin -= bounds.y;\n    // }\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y; // theory: we only had to do this for smoothing and it assumes that the previous one was not originIsAbsolute.\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      cs = getComputedStyle(target),\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n\n  if (cs.translate) {\n    // accommodate independent transforms by combining them into normal ones.\n    if (cs.translate !== \"none\" || cs.scale !== \"none\" || cs.rotate !== \"none\") {\n      style[_transformProp] = (cs.translate !== \"none\" ? \"translate3d(\" + (cs.translate + \" 0 0\").split(\" \").slice(0, 3).join(\", \") + \") \" : \"\") + (cs.rotate !== \"none\" ? \"rotate(\" + cs.rotate + \") \" : \"\") + (cs.scale !== \"none\" ? \"scale(\" + cs.scale.split(\" \").join(\",\") + \") \" : \"\") + (cs[_transformProp] !== \"none\" ? cs[_transformProp] : \"\");\n    }\n\n    style.scale = style.rotate = style.translate = \"none\";\n  }\n\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    if (cache.uncache) {\n      // if cache.uncache is true (and maybe if origin is 0,0), we need to set element.style.transformOrigin = (cache.xOrigin - bbox.x) + \"px \" + (cache.yOrigin - bbox.y) + \"px\". Previously we let the data-svg-origin stay instead, but when introducing revert(), it complicated things.\n      t2 = target.getBBox();\n      origin = cache.xOrigin - t2.x + \"px \" + (cache.yOrigin - t2.y) + \"px\";\n      t1 = \"\";\n    } else {\n      t1 = !uncache && target.getAttribute(\"data-svg-origin\"); //  Remember, to work around browser inconsistencies we always force SVG elements' transformOrigin to 0,0 and offset the translation accordingly.\n    }\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.abs(Math.cos(skewX * _DEG2RAD)));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  uncache = uncache || cache.uncache;\n  cache.x = x - ((cache.xPercent = x && (!uncache && cache.xPercent || (Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0))) ? target.offsetWidth * cache.xPercent / 100 : 0) + px;\n  cache.y = y - ((cache.yPercent = y && (!uncache && cache.yPercent || (Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0))) ? target.offsetHeight * cache.yPercent / 100 : 0) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || !uncache && cache.zOrigin || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n  forceCSS && (target.style[_transformProp] = temp); //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the transform attribute changes!)\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _assign = function _assign(target, source) {\n  // Internet Explorer doesn't have Object.assign(), so we recreate it here.\n  for (var p in source) {\n    target[p] = source[p];\n  }\n\n  return target;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var startCache = _assign({}, target._gsap),\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      style = target.style,\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n\n  if (startCache.svg) {\n    startValue = target.getAttribute(\"transform\");\n    target.setAttribute(\"transform\", \"\");\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n\n    _removeProperty(target, _transformProp);\n\n    target.setAttribute(\"transform\", startValue);\n  } else {\n    startValue = getComputedStyle(target)[_transformProp];\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n    style[_transformProp] = startValue;\n  }\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, endCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _assign(endCache, startCache);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startAt = tween.vars.startAt,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority,\n        inlineProps;\n    _pluginInitted || _initCore(); // we may call init() multiple times on the same plugin instance, like when adding special properties, so make sure we don't overwrite the revert data or inlineProps\n\n    this.styles = this.styles || _getStyleSaver(target);\n    inlineProps = this.styles.props;\n    this.tween = tween;\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        // plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        specialProp(this, target, p, endValue, tween) && (hasPriority = 1);\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        startValue = (getComputedStyle(target).getPropertyValue(p) + \"\").trim();\n        endValue += \"\";\n        _colorExp.lastIndex = 0;\n\n        if (!_colorExp.test(startValue)) {\n          // colors don't have units\n          startUnit = getUnit(startValue);\n          endUnit = getUnit(endValue);\n        }\n\n        endUnit ? startUnit !== endUnit && (startValue = _convertToUnit(target, p, startValue, endUnit) + endUnit) : startUnit && (endValue += startUnit);\n        this.add(style, \"setProperty\", startValue, endValue, index, targets, 0, 0, p);\n        props.push(p);\n        inlineProps.push(p, 0, style[p]);\n      } else if (type !== \"undefined\") {\n        if (startAt && p in startAt) {\n          // in case someone hard-codes a complex value as the start, like top: \"calc(2vh / 2)\". Without this, it'd use the computed value (always in px)\n          startValue = typeof startAt[p] === \"function\" ? startAt[p].call(tween, index, target, targets) : startAt[p];\n          _isString(startValue) && ~startValue.indexOf(\"random(\") && (startValue = _replaceRandom(startValue));\n          getUnit(startValue + \"\") || startValue === \"auto\" || (startValue += _config.units[p] || getUnit(_get(target, p)) || \"\"); // for cases when someone passes in a unitless value like {x: 100}; if we try setting translate(100, 0px) it won't work.\n\n          (startValue + \"\").charAt(1) === \"=\" && (startValue = _get(target, p)); // can't work with relative values\n        } else {\n          startValue = _get(target, p);\n        }\n\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" && endValue.substr(0, 2);\n        relative && (endValue = endValue.substr(2));\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            inlineProps.push(\"visibility\", 0, style.visibility);\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n            ~p.indexOf(\",\") && (p = p.split(\",\")[0]);\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          this.styles.save(p);\n\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform && !vars.parseTransform || _parseTransform(target, vars.parseTransform); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, (relative ? _parseRelative(cache.scaleY, relative + endNum) : endNum) - cache.scaleY || 0, _renderCSSProp);\n            this._pt.u = 0;\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            inlineProps.push(_transformOriginProp, 0, style[_transformOriginProp]);\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, relative ? _parseRelative(startNum, relative + endValue) : endValue);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);\n          startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, (relative ? _parseRelative(startNum, relative + endNum) : endNum) - startNum, !isTransformRelated && (endUnit === \"px\" || p === \"zIndex\") && vars.autoRound !== false ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit && endUnit !== \"%\") {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, startValue || target[p], relative ? relative + endValue : endValue, index, targets);\n          } else if (p !== \"parseTransform\") {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, relative ? relative + endValue : endValue);\n        }\n\n        isTransformRelated || (p in style ? inlineProps.push(p, 0, style[p]) : inlineProps.push(p, 1, startValue || target[p]));\n        props.push(p);\n      }\n    }\n\n    hasPriority && _sortPropTweensByPriority(this);\n  },\n  render: function render(ratio, data) {\n    if (data.tween._time || !_reverting()) {\n      var pt = data._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n    } else {\n      data.styles.revert();\n    }\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\ngsap.core.getStyleSaver = _getStyleSaver;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","/* global Blob, XMLSerializer, Image, btoa */\nimport {csvParseRows as d3_csvParseRows } from \"d3-dsv\";\nimport vkbeautify from \"vkbeautify\";\nimport _ from \"underscore\";\nimport GIF from \"gif.js\";\nimport {json as d3_json, text as d3_text} from \"d3-request\";\nimport { selection as d3_selection, select as d3_select } from \"d3-selection\";\nimport {gsap} from \"gsap\";\nimport * as d3_scale from \"d3-scale\";\nimport { axisBottom as d3_axis_bottom, axisLeft as d3_axis_left, axisRight as d3_axis_right} from \"d3-axis\";\nimport { saveAs } from \"file-saver\";\n\ntry {\n  var isFileSaverSupported = !!new Blob;\n} catch (e) {\n  console.warn('Not a browser, so FileSaver.js not available.')\n}\n\nconst LEFT_BOTTOM = 'left-bottom';\nconst LEFT_TOP = 'left-top';\nconst RIGHT_BOTTOM = 'right-bottom';\nconst RIGHT_TOP = 'right-top';\nconst HORIZONTAL = 'horizontal';\nconst VERTICAL = 'vertical';\n\nconst orientation = {\n  HORIZONTAL,\n  VERTICAL\n}\n\nconst lengendPosition = {\n  LEFT_BOTTOM,\n  LEFT_TOP,\n  RIGHT_BOTTOM,\n  RIGHT_TOP\n}\n\n/**\n * Check if Blob is available, and alert if it is not.\n */\nfunction _check_filesaver() {\n  try {\n    var isFileSaverSupported = !!new Blob()\n  } catch (e) {\n    alert('Blob not supported')\n  }\n}\n\nfunction set_options(options, defaults, must_be_float) {\n  if (options === undefined || options === null) {\n    return defaults\n  }\n  var i = -1\n  var out = {}\n  for (var key in defaults) {\n    var has_key = ((key in options) &&\n                   (options[key] !== null) &&\n                   (options[key] !== undefined))\n    var val = (has_key ? options[key] : defaults[key])\n    if (must_be_float && key in must_be_float) {\n      val = parseFloat(val)\n      if (isNaN(val)) {\n        if (has_key) {\n          console.warn('Bad float for option ' + key)\n          val = parseFloat(defaults[key])\n          if (isNaN(val)) {\n            console.warn('Bad float for default ' + key)\n            val = null\n          }\n        } else {\n          console.warn('Bad float for default ' + key)\n          val = null\n        }\n      }\n    }\n    out[key] = val\n  }\n  return out\n}\n\n\nfunction remove_child_nodes(selection) {\n  /** Removes all child nodes from a d3 selection\n\n   */\n  var node = selection.node()\n  while (node.hasChildNodes()) {\n    node.removeChild(node.lastChild)\n  }\n}\n\n\nfunction load_css(css_path, callback) {\n  var css = \"\"\n  if (css_path) {\n    d3_text(css_path, function(error, text) {\n      if (error) {\n        console.warn(error)\n      }\n      css = text\n      callback(css)\n    })\n  }\n  return false\n}\n\n\nfunction _ends_with (str, suffix) {\n  return str.indexOf(suffix, str.length - suffix.length) !== -1\n}\n\n/**\n * Load a file.\n * @param {} t - this context for callback. Should be an object.\n * @param {} files_to_load - A filename to load. Must be JSON or CSS.\n * @param {} callback - Function to run after the file is loaded. Takes the\n * arguments error and data.\n * @param {} value - If the value is specified, just assign it and do not\n * execute the ajax query.\n */\nfunction load_the_file (t, file, callback, value) {\n  if (value) {\n    if (file) console.warn('File ' + file + ' overridden by value.')\n    callback.call(t, null, value)\n    return\n  }\n  if (!file) {\n    callback.call(t, 'No filename', null)\n    return\n  }\n  if (_ends_with(file, 'json')) {\n    d3_json(file, function(e, d) { callback.call(t, e, d) })\n  } else if (_ends_with(file, 'css')) {\n    d3_text(file, function(e, d) { callback.call(t, e, d) })\n  } else {\n    callback.call(t, 'Unrecognized file type', null)\n  }\n  return\n}\n\n\nfunction load_files (t, files_to_load, final_callback) {\n  /** Load multiple files asynchronously by calling utils.load_the_file.\n\n      t: this context for callback. Should be an object.\n\n      files_to_load: A list of objects with the attributes:\n\n      { file: a_filename.json, callback: a_callback_fn }\n\n      File must be JSON or CSS.\n\n      final_callback: Function that runs after all files have loaded.\n\n  */\n  if (files_to_load.length === 0) final_callback.call(t)\n  var i = -1,\n  remaining = files_to_load.length\n  while (++i < files_to_load.length) {\n    load_the_file(\n      t,\n      files_to_load[i].file,\n      function(e, d) {\n        this.call(t, e, d)\n        if (!--remaining) final_callback.call(t)\n      }.bind(files_to_load[i].callback),\n      files_to_load[i].value\n    )\n  }\n}\n\n\n/**\n * Create a constructor that returns a new object with our without the 'new'\n * keyword.\n *\n * Adapted from Hubert Kauker (MIT Licensed), John Resig (MIT Licensed).\n * http://stackoverflow.com/questions/7892884/simple-class-instantiation\n */\nfunction make_class () {\n  var is_internal\n  var constructor = function (args) {\n    if (this instanceof constructor) {\n      if (typeof this.init === 'function') {\n        this.init.apply(this, is_internal ? args : arguments)\n      }\n    } else {\n      is_internal = true\n      var instance = new constructor(arguments)\n      is_internal = false\n      return instance\n    }\n  }\n  return constructor\n}\n\n/**\n * Return a class that can be instantiated without the new keyword.\n * @param {Class} AClass - Any ES6 class.\n */\nfunction class_with_optional_new (AClass) {\n  return new Proxy(AClass, {\n    apply (Target, thisArg, args) {\n      return new Target(...args)\n    }\n  })\n}\n\nfunction setup_defs(svg, style) {\n  // add stylesheet\n  svg.select(\"defs\").remove()\n  var defs = svg.append(\"defs\")\n  // make sure the defs is the first node\n  var node = defs.node()\n  node.parentNode.insertBefore(node, node.parentNode.firstChild)\n  defs.append(\"style\")\n    .attr(\"type\", \"text/css\")\n      .text(style)\n  return defs\n}\n\n/**\n * Run through the d3 data binding steps for an object. Also checks to make sure\n * none of the values in the *object* are undefined, and ignores those.\n *\n * The create_function, update_function, and exit_function CAN modify the input\n * data object.\n *\n * @param {} container_sel - A d3 selection containing all objects.\n *\n * @param {} parent_node_selector - A selector string for a subselection of\n * container_sel.\n *\n * @param {} children_selector - A selector string for each DOM element to bind.\n *\n * @param {} object - An object to bind to the selection.\n *\n * @param {} id_key - The key that will be used to store object IDs in the bound\n * data points.\n *\n * @param {} create_function - A function for enter selection. Create function\n * must return a selection of the new nodes.\n *\n * @param {} update_function - A function for update selection.\n *\n * @param {} exit_function - A function for exit selection.\n */\nfunction draw_an_object (container_sel, parent_node_selector, children_selector,\n                         object, id_key, create_function, update_function,\n                         exit_function) {\n  var draw_object = {}\n\n  for (var id in object) {\n    if (object[id] === undefined) {\n      console.warn('Undefined value for id ' + id + ' in object. Ignoring.')\n    } else {\n      draw_object[id] = object[id]\n    }\n  }\n\n  var sel = container_sel.select(parent_node_selector)\n      .selectAll(children_selector)\n      .data(make_array_ref(draw_object, id_key),\n            function (d) { return d[id_key] })\n\n  // enter: generate and place reaction\n  var update_sel = create_function\n      ? create_function(sel.enter()).merge(sel)\n      : sel\n\n  // update: update when necessary\n  if (update_function) {\n    update_sel.call(update_function)\n  }\n\n  // exit\n  if (exit_function) {\n    sel.exit().call(exit_function)\n  }\n}\n\n/**\n * Run through the d3 data binding steps for an object that is nested within\n * another element with D3 data.\n *\n * The create_function, update_function, and exit_function CAN modify the input\n * data object.\n *\n * @param {} container_sel - A d3 selection containing all objects.\n *\n * @param {} children_selector - A selector string for each DOM element to bind.\n *\n * @param {} object_data_key - A key for the parent object containing data for\n * the new selection.\n *\n * @param {} id_key - The key that will be used to store object IDs in the bound\n * data points.\n *\n * @param {} create_function - A function for enter selection. Create function\n * must return a selection of the new nodes.\n *\n * @param {} update_function - A function for update selection.\n *\n * @param {} exit_function - A function for exit selection.\n */\nfunction draw_a_nested_object (container_sel, children_selector, object_data_key,\n                               id_key, create_function, update_function,\n                               exit_function) {\n  var sel = container_sel.selectAll(children_selector)\n      .data(function(d) { return make_array_ref(d[object_data_key], id_key) },\n            function(d) { return d[id_key] })\n\n  // enter: generate and place reaction\n  var update_sel = (create_function ?\n                    create_function(sel.enter()).merge(sel) :\n                    sel)\n\n  // update: update when necessary\n  if (update_function) {\n    update_sel.call(update_function)\n  }\n\n  // exit\n  if (exit_function) {\n    sel.exit().call(exit_function)\n  }\n}\n\nfunction make_array(obj, id_key) { // is this super slow?\n  var array = []\n  for (var key in obj) {\n    // copy object\n    var it = clone(obj[key])\n    // add key as 'id'\n    it[id_key] = key\n    // add object to array\n    array.push(it)\n  }\n  return array\n}\n\nfunction make_array_ref(obj, id_key) {\n  /** Turn the object into an array, but only by reference. Faster than\n      make_array.\n\n  */\n  var array = []\n  for (var key in obj) {\n    // copy object\n    var it = obj[key]\n    // add key as 'id'\n    it[id_key] = key\n    // add object to array\n    array.push(it)\n  }\n  return array\n}\n\nfunction compare_arrays(a1, a2) {\n  /** Compares two simple (not-nested) arrays.\n\n   */\n  if (!a1 || !a2) return false\n  if (a1.length != a2.length) return false\n  for (var i = 0, l=a1.length; i < l; i++) {\n    if (a1[i] != a2[i]) {\n      // Warning - two different object instances will never be equal: {x:20} != {x:20}\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Convert an array of objects to an object with all keys and values\n * that are arrays of the same length as arr. Fills in spaces with null.\n *\n *  For example, [ { a: 1 }, { b: 2 }] becomes { a: [1, null], b: [null, 2] }.\n */\nfunction arrayToObject (arr) {\n  // new object\n  const obj = {}\n  // for each element of the array\n  for (let i = 0, l = arr.length; i < l; i++) {\n    const column = arr[i]\n    const keys = Object.keys(column)\n    for (var k = 0, nk = keys.length; k < nk; k++) {\n      var id = keys[k]\n      if (!(id in obj)) {\n        var n = []\n        // fill spaces with null\n        for (var j = 0; j < l; j++) {\n          n[j] = null\n        }\n        n[i] = column[id]\n        obj[id] = n\n      } else {\n        obj[id][i] = column[id]\n      }\n    }\n  }\n  return obj\n}\n\n/**\n * Deep copy for array and object types. All other types are returned by\n * reference.\n * @param {T<Object|Array|*>} obj - The object to copy.\n * @return {T} The copied object.\n */\nfunction clone (obj) {\n  if (_.isArray(obj))\n    return _.map(obj, function(t) { return clone(t) })\n  else if (_.isObject(obj))\n    return _.mapObject(obj, function (t, k) { return clone(t) })\n  else\n    return obj\n}\n\nfunction extend(obj1, obj2, overwrite) {\n  /** Extends obj1 with keys/values from obj2. Performs the extension\n      cautiously, and does not override attributes, unless the overwrite\n      argument is true.\n\n      Arguments\n      ---------\n\n      obj1: Object to extend\n\n      obj2: Object with which to extend.\n\n      overwrite: (Optional, Default false) Overwrite attributes in obj1.\n\n  */\n\n  if (overwrite === undefined)\n    overwrite = false\n\n  for (var attrname in obj2) {\n    if (!(attrname in obj1) || overwrite) // UNIT TEST This\n      obj1[attrname] = obj2[attrname]\n    else\n      throw new Error('Attribute ' + attrname + ' already in object.')\n  }\n}\n\nfunction uniqueConcat (arrays) {\n  const newArray = []\n  arrays.forEach(a => {\n    a.forEach(x => {\n      if (newArray.indexOf(x) < 0) {\n        newArray.push(x)\n      }\n    })\n  })\n  return newArray\n}\n\n/**\n * Return unique values in array of strings.\n *\n * http://stackoverflow.com/questions/1960473/unique-values-in-an-array\n */\nfunction unique_strings_array (arr) {\n  var a = []\n  for (var i = 0, l = arr.length; i < l; i++) {\n    if (a.indexOf(arr[i]) === -1) {\n      a.push(arr[i])\n    }\n  }\n  return a\n}\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not be\n * triggered. The function will be called after it stops being called for N\n * milliseconds. If \"immediate\" is passed, trigger the function on the leading\n * edge, instead of the trailing.\n */\nfunction debounce (func, wait, immediate) {\n  var timeout\n  return function () {\n    var context = this\n    var args = arguments\n    var later = function () {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    var callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n}\n\n/**\n * Return a copy of the object with just the given ids.\n * @param {} obj - An object\n * @param {} ids - An array of id strings\n */\nfunction object_slice_for_ids (obj, ids) {\n  var subset = {}\n  var i = -1\n  while (++i < ids.length) {\n    subset[ids[i]] = clone(obj[ids[i]])\n  }\n  if (ids.length !== Object.keys(subset).length) {\n    console.warn('did not find correct reaction subset')\n  }\n  return subset\n}\n\n/**\n * Return a reference of the object with just the given ids. Faster than\n * object_slice_for_ids.\n * @param {} obj - An object.\n * @param {} ids - An array of id strings.\n */\nfunction object_slice_for_ids_ref (obj, ids) {\n  var subset = {}\n  var i = -1\n  while (++i < ids.length) {\n    subset[ids[i]] = obj[ids[i]]\n  }\n  if (ids.length !== Object.keys(subset).length) {\n    console.warn('did not find correct reaction subset')\n  }\n  return subset\n}\n\nfunction c_plus_c (coords1, coords2) {\n  if (coords1 === null || coords2 === null ||\n      coords1 === undefined || coords2 === undefined) {\n    return null\n  }\n  return {\n    x: coords1.x + coords2.x,\n    y: coords1.y + coords2.y,\n  }\n}\n\nfunction c_minus_c (coords1, coords2) {\n  if (coords1 === null || coords2 === null ||\n      coords1 === undefined || coords2 === undefined) {\n    return null\n  }\n  return {\n    x: coords1.x - coords2.x,\n    y: coords1.y - coords2.y,\n  }\n}\n\nfunction c_times_scalar (coords, scalar) {\n  return {\n    x: coords.x * scalar,\n    y: coords.y * scalar,\n  }\n}\n\n/**\n * Download JSON file in a blob.\n */\nfunction download_json (json, name) {\n  // Alert if blob isn't going to work\n  _check_filesaver()\n\n  var j = JSON.stringify(json)\n  var blob = new Blob([j], { type: 'application/json' })\n  saveAs(blob, name + '.json')\n}\n\n/**\n * Try to load the file as JSON.\n * @param {} f - The file path\n * @param {} callback - A callback function that accepts arguments: error, data.\n * @param {} pre_fn (optional) - A function to call before loading the data.\n * @param {} failure_fn (optional) - A function to call if the load fails or is\n * aborted.\n*/\nfunction load_json (f, callback, pre_fn, failure_fn) {\n  // Check for the various File API support\n  if (!(window.File && window.FileReader && window.FileList && window.Blob)) {\n    callback('The File APIs are not fully supported in this browser.', null)\n  }\n\n  var reader = new window.FileReader()\n  // Closure to capture the file information.\n  reader.onload = function (event) {\n    var result = event.target.result\n    var data\n    // Try JSON\n    try {\n      data = JSON.parse(result)\n    } catch (e) {\n      // If it failed, return the error\n      callback(e, null)\n      return\n    }\n    // If successful, return the data\n    callback(null, data)\n  }\n  if (pre_fn !== undefined && pre_fn !== null) {\n    try { pre_fn() }\n    catch (e) { console.warn(e) }\n  }\n  reader.onabort = function(event) {\n    try { failure_fn() }\n    catch (e) { console.warn(e) }\n  }\n  reader.onerror = function(event) {\n    try { failure_fn() }\n    catch (e) { console.warn(e) }\n  }\n  // Read in the image file as a data URL\n  reader.readAsText(f)\n}\n\n/**\n * Try to load the file as JSON or CSV (JSON first).\n * @param {String} f - The file path\n * @param {Function}  csv_converter - A function to convert the CSV output to equivalent JSON.\n * @param {Function} callback - A callback function that accepts arguments: error, data.\n * @param {} pre_fn (optional) - A function to call before loading the data.\n * @param {} failure_fn (optional) - A function to call if the load fails or is\n * aborted.\n * @param {} debug_event (optional) - An event, with a string at\n * event.target.result, to load as though it was the contents of a loaded file.\n */\nfunction load_json_or_csv (f, csv_converter, callback, pre_fn, failure_fn,\n                           debug_event) {\n  // Capture the file information.\n  var onload_function = function(event) {\n    var result = event.target.result\n    var data\n    var errors\n    // try JSON\n    try {\n      data = JSON.parse(result)\n    } catch (e) {\n      errors = 'JSON error: ' + e\n\n      // try csv\n      try {\n        data = csv_converter(d3_csvParseRows(result))\n      } catch (e) {\n        // if both failed, return the errors\n        callback(errors + '\\nCSV error: ' + e, null)\n        return\n      }\n    }\n    // if successful, return the data\n    callback(null, data)\n  }\n  if (debug_event !== undefined && debug_event !== null) {\n    console.warn('Debugging load_json_or_csv')\n    return onload_function(debug_event)\n  }\n\n  // Check for the various File API support.\n  if (!(window.File && window.FileReader && window.FileList && window.Blob))\n    callback(\"The File APIs are not fully supported in this browser.\", null)\n  var reader = new window.FileReader()\n\n  if (pre_fn !== undefined && pre_fn !== null) {\n    try { pre_fn(); }\n    catch (e) { console.warn(e); }\n  }\n  reader.onabort = function(event) {\n    try { failure_fn(); }\n    catch (e) { console.warn(e); }\n  }\n  reader.onerror = function(event) {\n    try { failure_fn(); }\n    catch (e) { console.warn(e); }\n  }\n  // Read in the image file as a data URL.\n  reader.onload = onload_function\n  reader.readAsText(f)\n}\n\n/**\n * Download an svg file using FileSaver.js.\n * @param {String} name - The filename (without extension)\n * @param {D3 Selection} svg_sel - The d3 selection for the SVG element\n * @param {Boolean} do_beautify - If true, then beautify the SVG output\n */\nfunction downloadSvg (name, svg_sel, do_beautify) {\n  // Alert if blob isn't going to work\n  _check_filesaver()\n\n  // Make the xml string\n  var xml = (new XMLSerializer()).serializeToString(svg_sel.node())\n  if (do_beautify) xml = vkbeautify.xml(xml)\n  xml = ('<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n         '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\\n' +\n         ' \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n         xml)\n\n  // Save\n  var blob = new Blob([ xml ], { type: 'image/svg+xml' })\n  saveAs(blob, name + '.svg')\n}\n\n/**\n * Download a png file using FileSaver.js.\n * @param {String} name - The filename (without extension).\n * @param {D3 Selection} svg_sel - The d3 selection for the SVG element.\n */\nfunction downloadPng (name, svg_sel) {\n  // Alert if blob isn't going to work\n  _check_filesaver()\n\n  // Make the xml string\n  var xml = new XMLSerializer().serializeToString(svg_sel.node())\n  xml = ('<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n         '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\\n' +\n         ' \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n         xml)\n\n  // Canvas to hold the image\n  var canvas = document.createElement('canvas')\n  var context = canvas.getContext('2d')\n\n  // Get SVG size\n  var svg_size = svg_sel.node().getBBox()\n  var svg_width = svg_size.width + svg_size.x\n  var svg_height = svg_size.height + svg_size.y\n\n  // Canvas size = SVG size. Constrained to 10000px for very large SVGs\n  if (svg_width < 10000 && svg_height < 10000) {\n    canvas.width = svg_width\n    canvas.height = svg_height\n  } else {\n    if (canvas.width > canvas.height) {\n      canvas.width = 10000\n      canvas.height = 10000 * (svg_height / svg_width)\n    } else {\n      canvas.width = 10000 * (svg_width / svg_height)\n      canvas.height = 10000\n    }\n  }\n\n  // Image element appended with data\n  var base_image = new Image()\n  base_image.src = 'data:image/svg+xml;base64,' + btoa(xml)\n\n  base_image.onload = function () {\n    // Draw image to canvas with white background\n    context.fillStyle = '#FFF'\n    context.fillRect(0, 0, canvas.width, canvas.height)\n    context.drawImage(base_image, 0, 0, canvas.width, canvas.height)\n\n    // Save image\n    canvas.toBlob(function (blob) {\n      saveAs(blob, name + '.png')\n    })\n  }\n}\n\n/**\n * Download a png file using FileSaver.js.\n * @param {String} name - The filename (without extension).\n * @param {D3_Scale } reaction_color_scale - The color scale for the reactions.\n */\nfunction downloadGif(name, reaction_color_scale) {\n  _check_filesaver()\n  if (!document.querySelector('#legend-config-modal').children.length) {\n    _set_legend_modal_html()\n    document.getElementById('confirm-btn').addEventListener('click', function() {\n      const legendPosition = document.getElementById('legendPosition').value;\n      const legendOrientation = document.getElementById('legendOrientation').value;\n\n      document.getElementById('legend-config-modal').style.display = 'none';\n      document.getElementById('legend-config-modal-overlay').style.display = 'none';\n\n      _gif_export_worker(name, reaction_color_scale, legendPosition, legendOrientation);\n    });\n\n    document.getElementById('cancel-btn').addEventListener('click', function() {\n      document.getElementById('legend-config-modal').style.display = 'none';\n      document.getElementById('legend-config-modal-overlay').style.display = 'none';\n    });\n  }\n\n  document.getElementById('legend-config-modal').style.display = 'block';\n  document.getElementById('legend-config-modal-overlay').style.display = 'block';\n}\n\n/**\n * Worker function to create a gif.\n *\n * @param {String} name - The name of the gif.\n * @param {D3_Scale} reaction_color_scale - The color scale for the reactions.\n * @param {String} legendPosition - The position of the legend.\n * @param {String} legendOrientation - The orientation of the legend.\n * @private\n */\nfunction _gif_export_worker (name, reaction_color_scale, legendPosition = lengendPosition.LEFT_BOTTOM, legendOrientation = orientation.VERTICAL) {\n  // Create a loading indicator and proceed with GIF generation\n  const { removeLoadingIndicator } = _create_loading_indicator();\n\n  // Canvas to hold the image\n  var canvas = document.createElement('canvas')\n  var context = canvas.getContext('2d', { willReadFrequently: true })\n  const DOMURL = window.URL || window.webkitURL || window;\n  // total frames\n  const FRAME_COUNT = 20;\n  // delay between frames\n  const DELAY = 100;\n  // Legend size\n  const LEGEND_HEIGHT = 36;\n  const LEGEND_WIDTH = 225;\n  const VERTICAL_LEGEND_WIDTH = 56;\n  const VERTICAL_LEGEND_HEIGHT = 225;\n  const LEGEND_PADDING = 5;\n\n  // Calculate the size of the picture\n  const boundingClientRect= document.querySelector('rect#canvas').getBoundingClientRect()\n  const { width, height, x, y, left, top } = boundingClientRect\n  const screenWidth = window.innerWidth\n  const screenHeight = window.innerHeight\n  const picWidth = width > screenWidth ? screenWidth : width\n  const picHeight = height > screenHeight ? screenHeight : height\n  // Calculate the offset of the svg data\n  const offset = {\n    x: width > screenWidth ? window.scrollX : left,\n    y: height > screenHeight ? window.scrollY : top\n  }\n  // Set the canvas size\n  canvas.width = picWidth\n  canvas.height = picHeight\n\n  // Function to process SVG to Canvas\n  const processSVGToCanvas = () => {\n    let svgElement = document.querySelector('.escher-svg').cloneNode(true);\n    svgElement.setAttribute('viewBox', `${offset.x} ${offset.y} ${picWidth} ${picHeight}`);\n    svgElement.setAttribute('width', picWidth);\n    svgElement.setAttribute('height', picHeight);\n\n    let svgData = new XMLSerializer().serializeToString(svgElement);\n    let svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\n\n    return DOMURL.createObjectURL(svgBlob);\n  }\n  let clear_vertical_legend\n  const processLegendSVGToCanvas = () => {\n    let legendSvgElement;\n    if (legendOrientation === 'vertical') {\n      if (legendPosition === 'left-top' || legendPosition === 'left-bottom') {\n        clear_vertical_legend = _update_color_legends(reaction_color_scale, d3_axis_right, 'left')\n      }else {\n        clear_vertical_legend = _update_color_legends(reaction_color_scale, d3_axis_left, 'right')\n      }\n\n      legendSvgElement = document.querySelector('.vertical-legend-container').cloneNode(true);\n    }else {\n      legendSvgElement = document.querySelector('.legend-container').cloneNode(true);\n    }\n\n    const [width, height] = legendOrientation === orientation.HORIZONTAL ? [LEGEND_WIDTH, LEGEND_HEIGHT] : [VERTICAL_LEGEND_WIDTH, VERTICAL_LEGEND_HEIGHT];\n\n    legendSvgElement.setAttribute('viewBox', `0 0 ${width} ${height}`);\n    legendSvgElement.setAttribute('width',  width);\n    legendSvgElement.setAttribute('height', height);\n\n    let svgData = new XMLSerializer().serializeToString(legendSvgElement);\n    let svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\n\n    return DOMURL.createObjectURL(svgBlob);\n  }\n\n  const base_image = new Image()\n  const legend_image = new Image();\n  let legend_url = processLegendSVGToCanvas();\n  legend_image.src = legend_url;\n\n  fetch('https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.worker.js')\n    .then((response) => {\n      if (!response.ok)\n        throw new Error(\"Network response was not OK\");\n      return response.blob();\n    }).then(workerBlob => {\n    const gif = new GIF({\n      workers: 4,\n      quality: 10,\n      workerScript: URL.createObjectURL(workerBlob),\n      width: picWidth,\n      height: picHeight,\n    });\n\n    const captureFrame = (index) => {\n\n      if (index < FRAME_COUNT) {\n        let url = processSVGToCanvas();\n\n        base_image.onload = function () {\n          // Clear the canvas before drawing\n          context.clearRect(0, 0, picWidth, picHeight);\n          context.drawImage(base_image, 0, 0, picWidth, picHeight);\n\n          let legendX, legendY;\n\n          const [legendWidth, legendHeight] = legendOrientation === orientation.HORIZONTAL ? [LEGEND_WIDTH, LEGEND_HEIGHT] : [VERTICAL_LEGEND_WIDTH, VERTICAL_LEGEND_HEIGHT];\n\n          switch (legendPosition) {\n            case 'left-top':\n              legendX = LEGEND_PADDING;\n              legendY = LEGEND_PADDING;\n              break;\n            case 'right-top':\n              legendX = picWidth - legendWidth - LEGEND_PADDING;\n              legendY = LEGEND_PADDING;\n              break;\n            case 'left-bottom':\n              legendX = LEGEND_PADDING;\n              legendY = picHeight - legendHeight - LEGEND_PADDING;\n              break;\n            case 'right-bottom':\n              legendX = picWidth - legendWidth - LEGEND_PADDING;\n              legendY = picHeight - legendHeight - LEGEND_PADDING;\n              break;\n          }\n\n          context.drawImage(legend_image, legendX, legendY, legendWidth , legendHeight);\n\n          gif.addFrame(context, {copy: true, DELAY});\n          DOMURL.revokeObjectURL(url);\n          DOMURL.revokeObjectURL(legend_url);\n          setTimeout(() => {\n            requestAnimationFrame(() => captureFrame(index + 1));\n          }, DELAY);\n        };\n\n        base_image.src = url;\n      } else {\n        gif.on('finished', function (blob) {\n          DOMURL.revokeObjectURL(legend_url);\n\n          const downloadUrl = URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = downloadUrl;\n          a.download = `${name}.gif`;\n          document.body.appendChild(a);\n          a.click();\n          document.body.removeChild(a);\n          // Remove or hide the loading indicator\n          removeLoadingIndicator();\n          clear_vertical_legend && clear_vertical_legend();\n        });\n\n        gif.render();\n      }\n    };\n\n    captureFrame(0);\n  });\n}\n\n/**\n * Create a loading indicator for the export process.\n * @return {Function} A function to remove the loading indicator.\n * @private\n */\nfunction _create_loading_indicator() {\n  var loadingIndicator = document.createElement('div');\n  loadingIndicator.setAttribute('id', 'loadingIndicator');\n  loadingIndicator.style.position = 'fixed';\n  loadingIndicator.style.top = '0';\n  loadingIndicator.style.left = '0';\n  loadingIndicator.style.width = '100%';\n  loadingIndicator.style.height = '100%';\n  loadingIndicator.style.background = 'rgba(0, 0, 0, 0.5)';\n  loadingIndicator.style.zIndex = '1000';\n  loadingIndicator.style.justifyContent = 'center';\n  loadingIndicator.style.alignItems = 'center';\n  loadingIndicator.style.display = 'flex';\n  loadingIndicator.style.color = 'white';\n  loadingIndicator.style.fontSize = '24px';\n  loadingIndicator.textContent = 'Exporting...';\n  document.body.appendChild(loadingIndicator);\n\n  return {\n    removeLoadingIndicator: () => document.body.removeChild(loadingIndicator)\n  }\n}\n\nfunction rotate_coords_recursive (coords_array, angle, center) {\n  return coords_array.map(function (c) {\n    return rotate_coords(c, angle, center)\n  })\n}\n\n/**\n * Calculates displacement { x: dx, y: dy } based on rotating point c around\n * center with angle.\n */\nfunction rotate_coords (c, angle, center) {\n  var dx = Math.cos(-angle) * (c.x - center.x) +\n      Math.sin(-angle) * (c.y - center.y)\n    + center.x - c.x\n  var dy = - Math.sin(-angle) * (c.x - center.x) +\n    Math.cos(-angle) * (c.y - center.y)\n    + center.y - c.y\n  return { x: dx, y: dy }\n}\n\n/**\n * Get the angle between coordinates\n * @param {Object} coords - Array of 2 coordinate objects { x: 1, y: 1 }\n * @return {Number} angle between 0 and 2PI.\n */\nfunction get_angle (coords) {\n  var denominator = coords[1].x - coords[0].x\n  var numerator = coords[1].y - coords[0].y\n  if (denominator === 0 && numerator >= 0) {\n    return Math.PI/2\n  } else if (denominator === 0 && numerator < 0) {\n    return 3*Math.PI/2\n  } else if (denominator >= 0 && numerator >= 0) {\n    return Math.atan(numerator/denominator)\n  } else if (denominator >= 0) {\n    return (Math.atan(numerator/denominator) + 2*Math.PI)\n  } else {\n    return (Math.atan(numerator/denominator) + Math.PI)\n  }\n}\n\nfunction to_degrees (radians) {\n  return radians * 180 / Math.PI\n}\n\n/**\n * Force to domain -PI to PI\n */\nfunction angleNorm (radians) {\n  if (radians < -Math.PI) {\n    return radians + Math.floor((radians - Math.PI) / (-2 * Math.PI)) * 2 * Math.PI\n  } else if (radians > Math.PI) {\n    return radians - Math.floor((radians + Math.PI) / (2 * Math.PI)) * 2 * Math.PI\n  } else {\n    return radians\n  }\n}\n\nfunction to_radians (degrees) {\n  return Math.PI / 180 * degrees\n}\n\n/**\n * Convert to radians, and force to domain -PI to PI\n */\nfunction to_radians_norm (degrees) {\n  var radians = to_radians(degrees)\n  return angleNorm(radians)\n}\n\nfunction angle_for_event (displacement, point, center) {\n  var gamma =  Math.atan2((point.x - center.x), (center.y - point.y))\n  var beta = Math.atan2((point.x - center.x + displacement.x),\n                        (center.y - point.y - displacement.y))\n  var angle = beta - gamma\n  return angle\n}\n\nfunction distance (start, end) {\n  return Math.sqrt(Math.pow(end.y - start.y, 2) + Math.pow(end.x - start.x, 2))\n}\n\n/**\n * Report an error if any of the arguments are undefined. Call by passing in\n * \"arguments\" from any function and an array of argument names.\n */\nfunction check_undefined (args, names) {\n  names.forEach(function (name, i) {\n    if (args[i] === undefined) {\n      console.error(`Argument is undefined: ${names[i]}`)\n    }\n  })\n}\n\nfunction compartmentalize (bigg_id, compartment_id) {\n  return `${bigg_id}_${compartment_id}`;\n}\n\n/**\n * Returns an array of [bigg_id, compartment id]. Matches compartment ids with\n * length 1 or 2. Return [ id, null ] if no match is found.\n */\nfunction decompartmentalize (id) {\n  var reg = /(.*)\\[([a-z0-9]{1,2})\\]$/;\n  var result = reg.exec(id)\n  return result !== null ? result.slice(1,3) : [ id, null ]\n}\n\nfunction mean (array) {\n  var sum = array.reduce(function (a, b) { return a + b })\n  var avg = sum / array.length\n  return avg\n}\n\nfunction median (array) {\n  array.sort(function(a, b) { return a - b })\n  var half = Math.floor(array.length / 2)\n  if(array.length % 2 == 1) {\n    return array[half]\n  } else {\n    return (array[half-1] + array[half]) / 2.0\n  }\n}\n\nfunction quartiles (array) {\n  array.sort(function (a, b) { return a - b })\n  var half = Math.floor(array.length / 2)\n  if (array.length === 1) {\n    return [\n      array[0],\n      array[0],\n      array[0],\n    ]\n  } else if (array.length % 2 === 1) {\n    return [\n      median(array.slice(0, half)),\n      array[half],\n      median(array.slice(half + 1)),\n    ]\n  } else {\n    return [\n      median(array.slice(0, half)),\n      (array[half-1] + array[half]) / 2.0,\n      median(array.slice(half)),\n    ]\n  }\n}\n\n/**\n * Generate random characters\n *\n * Thanks to @csharptest.net\n * http://stackoverflow.com/questions/1349404/generate-a-string-of-5-random-characters-in-javascript\n */\nfunction random_characters (num) {\n  var text = ''\n  var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (var i = 0; i < num; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length))\n  }\n  return text\n}\n\nfunction generate_map_id () {\n  return random_characters(12)\n}\n\n/**\n * Check that the selection has the given parent tag.\n * @param {D3 Selection|DOM Node} el - A D3 Selection or DOM Node to check.\n * @param {String} tag - A tag name (case insensitive).\n */\nfunction check_for_parent_tag (el, tag) {\n  // make sure it is a node\n  if (el instanceof d3_selection) {\n    el = el.node()\n  }\n  while (el.parentNode !== null) {\n    el = el.parentNode\n    if (el.tagName === undefined) {\n      continue\n    }\n    if (el.tagName.toLowerCase() === tag.toLowerCase()) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Convert model or map name to url.\n * @param {String} name - The short name, e.g. e_coli.iJO1366.central_metabolism.\n * @param {String} download_url (optional) - The url to prepend.\n */\nfunction name_to_url (name, download_url) {\n  if (download_url !== undefined && download_url !== null) {\n    // strip download_url\n    download_url = download_url.replace(/^\\/|\\/$/g, '')\n    name = [download_url, name].join('/')\n  }\n  // strip final path\n  return name.replace(/^\\/|\\/$/g, '') + '.json'\n}\n\n/**\n * Get the document for the node\n */\nfunction get_document (node) {\n  return node.ownerDocument\n}\n\n/**\n * Get the window for the node\n */\nfunction get_window (node) {\n  return get_document(node).defaultView\n}\n\n// filter the data which is less than threshold\nfunction process_reaction_data (data, threshold = 0) {\n  if (!(data instanceof Array)) {\n    data = [ data ]\n  }\n\n  const obj = data[0];\n\n  // call the function for each key in the object\n  for (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      let value = Number(obj[key]);\n\n      // check if value is an object, if it is, call the function again\n      if (typeof value === 'object' && value !== null) {\n        processObject(value);\n      } else if (typeof value === 'number' && Math.abs(value) < threshold) {\n        // if value is a number and less than threshold, set it to 0\n        obj[key] = 0;\n      }\n    }\n  }\n\n  return [obj];\n}\n\n/**\n * Get translation and rotation values for a transform string. This used to be\n * in d3, but since v4, I just adapted a solution from SO:\n *\n * http://stackoverflow.com/questions/38224875/replacing-d3-transform-in-d3-v4\n *\n * To get skew and scale out, go back to that example.\n *\n * TODO rename function without \"catch\"\n *\n * @param {String} transform_attr - A transform string.\n */\nfunction d3_transform_catch (transform_attr) {\n  if (transform_attr.indexOf('skew') !== -1 ||\n      transform_attr.indexOf('matrix') !== -1) {\n    throw new Error('d3_transform_catch does not work with skew or matrix')\n  }\n\n  var translate_res = (/translate\\s*\\(\\s*([0-9.-]+)\\s*,\\s*([0-9.-]+)\\s*\\)/\n                       .exec(transform_attr))\n  var tn = _.isNull(translate_res)\n  var tx = tn ? 0.0 : Number(translate_res[1])\n  var ty = tn ? 0.0 : Number(translate_res[2])\n\n  var rotate_res = (/rotate\\s*\\(\\s*([0-9.-]+)\\s*\\)/\n                    .exec(transform_attr))\n  var rn = _.isNull(rotate_res)\n  var r = rn ? 0.0 : Number(rotate_res[1])\n\n  var scale_res = (/scale\\s*\\(\\s*([0-9.-]+)\\s*\\)/\n                   .exec(transform_attr))\n  var sn = _.isNull(scale_res)\n  var s = sn ? 0.0 : Number(scale_res[1])\n\n  return { translate: [ tx, ty ], rotate: r, scale: s, }\n\n  // // Create a dummy g for calculation purposes only. This will new be appended\n  // // to the DOM and will be discarded once this function returns.\n  // var g = document.createElementNS('http://www.w3.org/2000/svg', 'g')\n\n  // // Set the transform attribute to the provided string value.\n  // g.setAttributeNS(null, 'transform', transform_attr)\n\n  // // Consolidate the SVGTransformList containing all Try to a single\n  // // SVGTransform of type SVG_TRANSFORM_MATRIX and get its SVGMatrix.\n\n  // var matrix = g.transform.baseVal.consolidate().matrix\n\n  // // Below calculations are taken and adapted from the private func\n  // // transform/decompose.js of D3's module d3-interpolate.\n  // var a = matrix.a\n  // var b = matrix.b\n  // var c = matrix.c\n  // var d = matrix.d\n  // var e = matrix.e\n  // var f = matrix.f\n  // var scaleX = Math.sqrt(a * a + b * b)\n\n  // if (scaleX) {\n  //   a /= scaleX\n  //   b /= scaleX\n  // }\n\n  // if (a * d < b * c) {\n  //   a = -a\n  //   b = -b\n  // }\n\n  // return {\n  //   translate: [ e, f ],\n  //   rotate: Math.atan2(b, a) * Math.PI / 180,\n  // }\n}\n\n/**\n * Look for name in the user agent string.\n */\n// function check_browser (name) {\n//   var browser = function() {\n//     // Thanks to\n//     // http://stackoverflow.com/questions/2400935/browser-detection-in-javascript\n//     var ua = navigator.userAgent\n//     var M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || []\n//     var tem\n//     if (/trident/i.test(M[1])) {\n//       tem = /\\brv[ :]+(\\d+)/g.exec(ua) || []\n//       return 'IE '+ (tem[1] || '')\n//     }\n//     if (M[1] === 'Chrome') {\n//       tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/)\n//       if (tem != null) return tem.slice(1).join(' ').replace('OPR', 'Opera')\n//     }\n//     M = M[2] ? [ M[1], M[2] ]: [ navigator.appName, navigator.appVersion, '-?' ]\n//     if ((tem = ua.match(/version\\/(\\d+)/i)) !== null) {\n//       M.splice(1, 1, tem[1])\n//     }\n//     return M.join(' ')\n//   }\n\n//   try {\n//     // navigator.userAgent is deprecated, so don't count on it\n//     return browser().toLowerCase().indexOf(name) > -1\n//   } catch (e) {\n//     return false\n//   }\n// }\n\n/**\n * the function to handle the animation of the reaction data\n * @param {Array} entries - The array of IntersectionObserverEntry objects.\n * @param {IntersectionObserver} observer - The IntersectionObserver object.\n * @param {Object} settings - The settings object, containing the get and set methods.\n * @param {Boolean} has_data_on_reactions - The flag to indicate if the data on reactions is loaded.\n * @param {Object} scale - The scale object, containing the reaction_animation_duration and reaction_size methods.\n * @returns void\n */\nfunction handle_animation(entries, observer, settings, has_data_on_reactions, scale) {\n  // show the reaction data animation\n  const show_animation = settings.get('show_reaction_data_animation')\n  // animation line style\n  const line_style = settings.get('animation_line_style')\n\n  entries.forEach(entry => {\n    // get the node\n    const node = entry.target;\n    // check if the element is in the viewport\n    if (entry.isIntersecting) {\n      // show the animation when the element is in the viewport\n      const dataBindByD3 = node.__data__;\n      if (has_data_on_reactions && show_animation && dataBindByD3.data) {\n        const fluxData = dataBindByD3.data;\n        const velocity = scale.reaction_animation_duration(fluxData);\n        const strokeDash = scale.reaction_size(fluxData) * 2;\n        const strokeDashArray = line_style === 'dashed' ? `${strokeDash}, ${strokeDash}` : `2, ${strokeDash}`;\n        // Check if the animation is already running and the velocity has changed\n        if (node.animation && node.animation.data !== velocity) {\n          node.animation.kill()\n          node.animation = null\n        }\n\n        if(!node.animation) {\n          const node_length = node.getTotalLength();\n          const direction = dataBindByD3.data_string.startsWith(\"-\") ? 1 : -1;\n          node.setAttribute(\"stroke-dasharray\", strokeDashArray);\n          node.animation = gsap.to(node, {\n            strokeDashoffset: direction * node_length * 2,\n            repeat: -1,\n            ease: \"none\",\n            // insure the animation restarts if the velocity changes\n            immediateRender: true,\n            duration: velocity * node_length / 100,\n            data: velocity\n          });\n        }else {\n          node.setAttribute(\"stroke-dasharray\", strokeDashArray);\n          node.animation.play(); // show the animation\n        }\n      }\n    } else {\n      // stop the animation when the element is not in the viewport\n      if (node.animation) {\n        node.removeAttribute(\"stroke-dasharray\");\n        node.animation.pause(); // stop the animation\n      }\n    }\n  });\n}\n\n/**\n * update the color legends when the data on reactions is loaded\n * @param reaction_color_scale - The color scale for reactions.\n * @param has_data_on_reactions - The flag to indicate if the data on reactions is loaded.\n * @returns void\n */\nfunction update_color_legends(reaction_color_scale, has_data_on_reactions) {\n  // get the domain and range of the color scale\n  const domain = reaction_color_scale.domain();\n  const range = reaction_color_scale.range();\n  // get elements for the color legends\n  const LEGEND_WIDTH = 200;\n  const LEGEND_HEIGHT = 19;\n  const svg = d3_select(\".legend-container\")\n  const legend = svg.select(\".legend-group\");\n  const gradient = legend.select(\".legend-defs linearGradient\");\n  // define the linear gradient data for the color rectangle\n\n  gradient.selectAll(\"stop\").remove();\n  gradient.selectAll(\"stop\").data(_get_color_linearGradient_data(domain, range)).enter().append('stop')\n    .attr(\"offset\", d => d.offset)\n    .attr(\"stop-color\", d => d.color);\n  // draw the color rectangle\n  legend.select(\".legend-rect\")\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", LEGEND_WIDTH)\n    .attr(\"height\", LEGEND_HEIGHT)\n    .style(\"fill\", \"url(#legend-gradient)\");\n\n  const legendScale = d3_scale.scaleLinear()\n    .domain([Math.min(...domain), Math.max(...domain)])\n    .range([0, LEGEND_WIDTH]);\n\n  // define the axis and text for the color legend\n  const formatNumber = (d) => {\n    if (d >= 1e9) return (d / 1e9).toFixed(1) + 'G';\n    if (d >= 1e6) return (d / 1e6).toFixed(1) + 'M';\n    if (d >= 1e3) return (d / 1e3).toFixed(1) + 'K';\n    return d.toFixed(2);\n  };\n\n  const legendAxis = d3_axis_bottom(legendScale)\n    .ticks(domain.length)\n    .tickValues(domain)\n    .tickFormat(formatNumber);\n\n  // draw the color legend axis\n  legend.select(\".legend-axis\")\n    .attr(\"transform\", `translate(0, ${LEGEND_HEIGHT})`)\n    .call(legendAxis);\n\n  has_data_on_reactions ? svg.style(\"display\", \"block\") : svg.style(\"display\", \"none\");\n}\n\n/**\n * update the vertical color legends for export the gif with the legend\n * @param reaction_color_scale - The color scale for reactions.\n * @param axis_function - The axis function for the color legend.\n * @param lengend_position - The direction of the axis.\n * @returns void\n */\nfunction _update_color_legends(reaction_color_scale, axis_function, lengend_position) {\n  // get the domain and range of the color scale\n  const domain = reaction_color_scale.domain();\n  const range = reaction_color_scale.range();\n  // get elements for the color legends\n  const LEGEND_WIDTH = 19;\n  const LEGEND_HEIGHT = 200;\n  const svg = d3_select(\".vertical-legend-container\")\n\n  const group = svg.append('g').attr('class', 'legend-group')\n  const legend = svg.select(\".legend-group\").attr('transform', `translate(0, 10)`);\n  legend.append('defs').attr('class', 'legend-defs').append(\"linearGradient\")\n    .attr(\"id\", \"legend-gradient\").attr('x', '0%').attr('y', '0%').attr('x2', '0%').attr('y2', '100%')\n  legend.append('rect').attr('class', 'legend-rect')\n  legend.append('g').attr('class', 'legend-axis')\n\n  const gradient = legend.select(\".legend-defs linearGradient\");\n  // define the linear gradient data for the color rectangle\n\n  gradient.selectAll(\"stop\").remove();\n  gradient.selectAll(\"stop\").data(_get_color_linearGradient_data(domain, range)).enter().append('stop')\n    .attr(\"offset\", d => d.offset)\n    .attr(\"stop-color\", d => d.color);\n\n  // draw the color rectangle\n  legend.select(\".legend-rect\")\n    .attr(\"x\", 0)\n    .attr(\"y\", 0)\n    .attr(\"width\", LEGEND_WIDTH)\n    .attr(\"height\", LEGEND_HEIGHT)\n    .style(\"fill\", \"url(#legend-gradient)\");\n\n  const legendScale = d3_scale.scaleLinear()\n    .domain([Math.min(...domain), Math.max(...domain)])\n    .range([0, LEGEND_HEIGHT]);\n\n  // define the axis and text for the color legend\n  const formatNumber = (d) => {\n    if (d >= 1e9) return (d / 1e9).toFixed(1) + 'G';\n    if (d >= 1e6) return (d / 1e6).toFixed(1) + 'M';\n    if (d >= 1e3) return (d / 1e3).toFixed(1) + 'K';\n    return d.toFixed(2);\n  };\n\n  const legendAxis = axis_function(legendScale)\n    .ticks(domain.length)\n    .tickValues(domain)\n    .tickFormat(formatNumber);\n\n  // draw the color legend axis\n  legend.select(\".legend-axis\")\n    .attr(\"transform\", `translate(${LEGEND_WIDTH}, 0)`)\n    .call(legendAxis);\n\n  if (lengend_position === 'right') {\n    legend.select(\".legend-axis\").attr(\"transform\", `translate(${LEGEND_WIDTH * 2}, 0)`);\n    legend.select(\".legend-rect\").attr(\"transform\", `translate(${LEGEND_WIDTH * 2}, 0)`)\n  }\n\n  return () => svg.selectAll('*').remove();\n}\n\n// get the linear gradient data for the color rectangle, used by update_color_legends(internal function)\nfunction _get_color_linearGradient_data(domain, range) {\n  const minDomain = domain[0];\n  const maxDomain = domain[domain.length - 1];\n  const percentages = domain.map(value => ((value - minDomain) / (maxDomain - minDomain)) * 100);\n\n  const data = [];\n  for (let i = 0; i < domain.length; i++) {\n    if (typeof range[i] === 'string' || range[i] instanceof String) {\n      data.push({\n        offset: `${percentages[i]}%`,\n        color: range[i]\n      });\n    }\n  }\n  return data\n}\n\n/**\n * Get current date in the format of \"YYYY-MM-DD\".\n * @returns {string}\n */\nfunction get_current_date() {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * Get local storage item.\n *\n * @param key - The key of the item to get.\n * @param defaultValue - The default value to return if the item is not found.\n * @returns {null|string}\n */\nfunction get_local_storage_item(key, defaultValue = null) {\n  try {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      return window.localStorage.getItem(key);\n    }\n  } catch (e) {\n    console.warn('LocalStorage is not available.', e);\n  }\n  return defaultValue;\n}\n\n/**\n * Set the options HTML for the legend modal.\n *\n * @private\n */\nfunction _set_legend_modal_html() {\n  const modalContainer = document.getElementById('legend-config-modal');\n\n  if (modalContainer) {\n    modalContainer.innerHTML = `\n    <div class=\"modal-content\">\n      <h3>Select Legend Options</h3>\n\n      <label for=\"legendPosition\">Legend Position:</label>\n      <select id=\"legendPosition\">\n        <option value=\"${lengendPosition.RIGHT_BOTTOM}\">Right Bottom</option>\n        <option value=\"${lengendPosition.LEFT_BOTTOM}\">Left Bottom</option>\n        <option value=\"${lengendPosition.RIGHT_TOP}\">Right Top</option>\n        <option value=\"${lengendPosition.LEFT_TOP}\">Left Top</option>\n      </select>\n\n      <br>\n\n      <label for=\"legendOrientation\">Legend Orientation:</label>\n      <select id=\"legendOrientation\">\n        <option value=\"${orientation.VERTICAL}\">Vertical</option>\n        <option value=\"${orientation.HORIZONTAL}\">Horizontal</option>\n      </select>\n\n      <br>\n\n      <div class=\"modal-actions\">\n        <button id=\"confirm-btn\" class=\"modal-button confirm\">Confirm</button>\n        <button id=\"cancel-btn\" class=\"modal-button cancel\">Cancel</button>\n      </div>\n    </div>\n  `;\n  }\n}\n\nexport default {\n  set_options,\n  remove_child_nodes,\n  load_css,\n  load_files,\n  load_the_file,\n  make_class,\n  class_with_optional_new,\n  setup_defs,\n  draw_an_object,\n  draw_a_nested_object,\n  make_array,\n  make_array_ref,\n  compare_arrays,\n  arrayToObject,\n  clone,\n  extend,\n  uniqueConcat,\n  unique_strings_array,\n  debounce,\n  object_slice_for_ids,\n  object_slice_for_ids_ref,\n  c_plus_c,\n  c_minus_c,\n  c_times_scalar,\n  download_json,\n  load_json,\n  load_json_or_csv,\n  downloadSvg,\n  downloadPng,\n  downloadGif,\n  rotate_coords_recursive,\n  rotate_coords,\n  get_angle,\n  to_degrees,\n  angleNorm,\n  to_radians,\n  to_radians_norm,\n  angle_for_event,\n  distance,\n  check_undefined,\n  compartmentalize,\n  decompartmentalize,\n  mean,\n  median,\n  quartiles,\n  random_characters,\n  generate_map_id,\n  check_for_parent_tag,\n  name_to_url,\n  get_document,\n  get_window,\n  d3_transform_catch,\n  process_reaction_data,\n  // check_browser,\n  handle_animation,\n  update_color_legends,\n  get_current_date,\n  get_local_storage_item,\n}","/**\n * PlacedDiv. A container to position an html div to match the coordinates of a\n * SVG element.\n */\n\nimport utils from \"./utils\";\n\nvar PlacedDiv = utils.make_class()\n// instance methods\nPlacedDiv.prototype = {\n  init: init,\n  is_visible: is_visible,\n  place: place,\n  hide: hide,\n}\n\nfunction init (div, map, displacement = { x: 0, y: 0 }, shouldReposition = true) {\n  this.div = div\n  this.map = map\n  this.displacement = displacement\n  this.shouldReposition = shouldReposition\n  // begin hidden\n  this.visible = true\n  this.hide()\n}\n\nfunction is_visible () {\n  return this.visible\n}\n\n/**\n * Position the html div to match the given SVG coordinates.\n */\nfunction place (coords) {\n  // show the input\n  this.div.style('display', null)\n\n  // move the new input\n  var window_translate = this.map.zoomContainer.windowTranslate\n  var window_scale = this.map.zoomContainer.windowScale\n  var map_size = this.map.get_size()\n\n  /**\n   * If shouldReposition is true, the div is placed so that it does not render\n   * outside of the viewable area of the window. Math.max is used so that it\n   * does not overflow to the left and top, Math.min is used so that it does not\n   * overflow to the right or bottom. If the screen is tool small to show the\n   * entire div, the div will overflow to the right and bottom.\n   */\n  if (this.shouldReposition) {\n    var left = Math.max(20,\n                      Math.min(map_size.width - 270,\n                               (window_scale * coords.x + window_translate.x -\n                                this.displacement.x)))\n    var top = Math.max(20,\n                      Math.min(map_size.height - 40,\n                                (window_scale * coords.y + window_translate.y -\n                                this.displacement.y)))\n    this.div.style('position', 'absolute')\n      .style('display', 'block')\n      .style('left', `${left}px`)\n      .style('top', `${top}px`)\n  } else {\n    this.div.style('position', 'absolute')\n    .style('display', 'block')\n    .style('left', `${window_scale * coords.x + window_translate.x - this.displacement.x}px`)\n    .style('top', `${window_scale * coords.y + window_translate.y - this.displacement.y}px`)\n  }\n  this.visible = true\n}\n\n/**\n * Hide the PlacedDiv.\n */\nfunction hide () {\n  if (this.visible) {\n    this.div.style('display', 'none')\n    this.visible = false\n  }\n}\n\nexport default PlacedDiv;","/**\n * @license\n *\n * complete.ly 1.0.0\n * MIT Licensing\n * Copyright (c) 2013 Lorenzo Puccetti\n *\n * This Software shall be used for doing good things, not bad things.\n *\n *\n * Modified by Zachary King (c) 2014.\n *\n **/\n\nimport utils from './utils'\n\nexport default function(container, config) {\n  const thisDocument = utils.get_document(container)\n  const thisWindow = utils.get_window(container)\n\n    config = config || {};\n    config.fontSize =                       config.fontSize   || '13px';\n    config.fontFamily =                     config.fontFamily || 'sans-serif';\n    config.promptInnerHTML =                config.promptInnerHTML || '';\n    config.color =                          config.color || '#333';\n    config.hintColor =                      config.hintColor || '#aaa';\n    config.backgroundColor =                config.backgroundColor || '#fff';\n    config.dropDownBorderColor =            config.dropDownBorderColor || '#aaa';\n    config.dropDownZIndex =                 config.dropDownZIndex || '100'; // to ensure we are in front of everybody\n    config.dropDownOnHoverBackgroundColor = config.dropDownOnHoverBackgroundColor || '#ddd';\n\n    var txtInput = thisDocument.createElement('input');\n    txtInput.type ='text';\n    txtInput.spellcheck = false;\n    txtInput.style.fontSize =        config.fontSize;\n    txtInput.style.fontFamily =      config.fontFamily;\n    txtInput.style.color =           config.color;\n    txtInput.style.backgroundColor = config.backgroundColor;\n    txtInput.style.width = '100%';\n    txtInput.style.outline = '0';\n    txtInput.style.border =  '0';\n    txtInput.style.margin =  '0';\n    txtInput.style.padding = '0';\n\n    var txtHint = txtInput.cloneNode();\n    txtHint.disabled='';\n    txtHint.style.position = 'absolute';\n    txtHint.style.top =  '0';\n    txtHint.style.left = '0';\n    txtHint.style.borderColor = 'transparent';\n    txtHint.style.boxShadow =   'none';\n    txtHint.style.color = config.hintColor;\n\n    txtInput.style.backgroundColor ='transparent';\n    txtInput.style.verticalAlign = 'top';\n    txtInput.style.position = 'relative';\n\n    var wrapper = thisDocument.createElement('div');\n    wrapper.style.position = 'relative';\n    wrapper.style.outline = '0';\n    wrapper.style.border =  '0';\n    wrapper.style.margin =  '0';\n    wrapper.style.padding = '0';\n\n    var prompt = thisDocument.createElement('div');\n    prompt.style.position = 'absolute';\n    prompt.style.outline = '0';\n    prompt.style.margin =  '0';\n    prompt.style.padding = '0';\n    prompt.style.border =  '0';\n    prompt.style.fontSize =   config.fontSize;\n    prompt.style.fontFamily = config.fontFamily;\n    prompt.style.color =           config.color;\n    prompt.style.backgroundColor = config.backgroundColor;\n    prompt.style.top = '0';\n    prompt.style.left = '0';\n    prompt.style.overflow = 'hidden';\n    prompt.innerHTML = config.promptInnerHTML;\n    prompt.style.background = 'transparent';\n    if (thisDocument.body === undefined) {\n        throw 'thisDocument.body is undefined. The library was wired up incorrectly.';\n    }\n    thisDocument.body.appendChild(prompt);\n    var w = prompt.getBoundingClientRect().right; // works out the width of the prompt.\n    wrapper.appendChild(prompt);\n    prompt.style.visibility = 'visible';\n    prompt.style.left = '-'+w+'px';\n    wrapper.style.marginLeft= w+'px';\n\n    wrapper.appendChild(txtHint);\n    wrapper.appendChild(txtInput);\n\n    var dropDown = thisDocument.createElement('div');\n    dropDown.style.position = 'absolute';\n    dropDown.style.visibility = 'hidden';\n    dropDown.style.outline = '0';\n    dropDown.style.margin =  '0';\n    dropDown.style.padding = '0';\n    dropDown.style.textAlign = 'left';\n    dropDown.style.fontSize =   config.fontSize;\n    dropDown.style.fontFamily = config.fontFamily;\n    dropDown.style.backgroundColor = config.backgroundColor;\n    dropDown.style.zIndex = config.dropDownZIndex;\n    dropDown.style.cursor = 'default';\n    dropDown.style.borderStyle = 'solid';\n    dropDown.style.borderWidth = '1px';\n    dropDown.style.borderColor = config.dropDownBorderColor;\n    dropDown.style.overflowX= 'hidden';\n    dropDown.style.whiteSpace = 'pre';\n    dropDown.style.overflowY = 'scroll';\n\n    var createDropDownController = function(elem) {\n        var rows = [];\n        var ix = 0;\n        var oldIndex = -1;\n        var current_row = null;\n\n        var onMouseOver =  function() { this.style.outline = '1px solid #ddd'; }\n        var onMouseOut =   function() { this.style.outline = '0'; }\n        var onDblClick =  function(e) {\n            e.preventDefault();\n            p.onmouseselection(this.id);\n        }\n\n        var p = {\n            hide :  function() { elem.style.visibility = 'hidden'; },\n            refresh : function(token, options) {\n                elem.style.visibility = 'hidden';\n                ix = 0;\n                elem.innerHTML ='';\n                var vph = (thisWindow.innerHeight || thisDocument.documentElement.clientHeight);\n                var rect = elem.parentNode.getBoundingClientRect();\n                var distanceToTop = rect.top - 6;                        // heuristic give 6px\n                var distanceToBottom = vph - rect.bottom -6;  // distance from the browser border.\n\n                rows = [];\n                for (var i = 0; i < options.length; i++) {\n                    // ignore case\n                    var found = options[i].matches.filter(function(match) {\n                        return match.toLowerCase().indexOf(token.toLowerCase()) == 0;\n                    });\n                    if (found.length == 0)\n                        continue;\n                    var divRow = thisDocument.createElement('div');\n                    divRow.style.color = config.color;\n                    divRow.onmouseover = onMouseOver;\n                    divRow.onmouseout =  onMouseOut;\n                    // prevent selection for double click\n                    divRow.onmousedown = function(e) { e.preventDefault(); };\n                    divRow.ondblclick = onDblClick;\n                    divRow.__hint = found[0];\n                    divRow.id = options[i].id;\n                    divRow.innerHTML = options[i].html;\n                    rows.push(divRow);\n                    elem.appendChild(divRow);\n                    // limit results and add a note at the buttom\n                    if (rows.length >= rs.display_limit) {\n                        var divRow2 = thisDocument.createElement('div');\n                        divRow2.innerHTML = ' ' + (options.length - rows.length) + ' more';\n                        rows.push(divRow2);\n                        elem.appendChild(divRow2);\n                        break;\n                    }\n                }\n                if (rows.length===0) {\n                    return; // nothing to show.\n                }\n                p.highlight(0);\n\n                // Heuristic (only when the distance to the to top is 4\n                // times more than distance to the bottom\n                if (distanceToTop > distanceToBottom*3) {\n                    // we display the dropDown on the top of the input text\n                    elem.style.maxHeight =  distanceToTop+'px';\n                    elem.style.top ='';\n                    elem.style.bottom ='100%';\n                } else {\n                    elem.style.top = '100%';\n                    elem.style.bottom = '';\n                    elem.style.maxHeight =  distanceToBottom+'px';\n                }\n                elem.style.visibility = 'visible';\n            },\n            highlight : function(index) {\n                if (oldIndex !=-1 && rows[oldIndex]) {\n                    rows[oldIndex].style.backgroundColor = config.backgroundColor;\n                }\n                rows[index].style.backgroundColor = config.dropDownOnHoverBackgroundColor; // <-- should be config\n                oldIndex = index;\n                current_row = rows[index];\n            },\n            // moves the selection either up or down (unless it's not\n            // possible) step is either +1 or -1.\n            move : function(step) {\n                // nothing to move if there is no dropDown. (this happens if\n                // the user hits escape and then down or up)\n                if (elem.style.visibility === 'hidden')\n                    return '';\n                // No circular scrolling\n                if (ix+step === -1 || ix+step === rows.length)\n                    return rows[ix].__hint;\n                ix+=step;\n                p.highlight(ix);\n                return rows[ix].__hint;\n            },\n            onmouseselection : function() {},\n            get_current_row: function () {\n                return current_row;\n            }\n        };\n        return p;\n    }\n\n    var dropDownController = createDropDownController(dropDown);\n\n    dropDownController.onmouseselection = function(id) {\n        rs.onEnter(id)\n        rs.input.focus();\n    }\n\n    wrapper.appendChild(dropDown);\n    container.appendChild(wrapper);\n\n    var spacer,\n        // This will contain the leftSide part of the textfield (the bit that\n        // was already autocompleted)\n        leftSide;\n\n    function calculateWidthForText(text) {\n        if (spacer === undefined) { // on first call only.\n            spacer = thisDocument.createElement('span');\n            spacer.style.visibility = 'hidden';\n            spacer.style.position = 'fixed';\n            spacer.style.outline = '0';\n            spacer.style.margin =  '0';\n            spacer.style.padding = '0';\n            spacer.style.border =  '0';\n            spacer.style.left = '0';\n            spacer.style.whiteSpace = 'pre';\n            spacer.style.fontSize =   config.fontSize;\n            spacer.style.fontFamily = config.fontFamily;\n            spacer.style.fontWeight = 'normal';\n            thisDocument.body.appendChild(spacer);\n        }\n\n        // Used to encode an HTML string into a plain text.\n        // taken from http://stackoverflow.com/questions/1219860/javascript-jquery-html-encoding\n        spacer.innerHTML = String(text).replace(/&/g, '&amp;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;');\n        return spacer.getBoundingClientRect().right;\n    }\n\n\n    var rs = {\n        get_hint :    function(x) { return x; },\n        display_limit: 1000,\n        onArrowDown : function() {},               // defaults to no action.\n        onArrowUp :   function() {},               // defaults to no action.\n        onEnter :     function() {},               // defaults to no action.\n        onTab :       function() {},               // defaults to no action.\n        onChange:     function() { rs.repaint() }, // defaults to repainting.\n        startFrom:    0,\n        options:      [],\n\n        // Only to allow easy access to the HTML elements to the final user\n        // (possibly for minor customizations)\n        wrapper : wrapper,\n        input :  txtInput,\n        hint  :  txtHint,\n        dropDown :  dropDown,\n\n        prompt : prompt,\n        setText : function(text) {\n            txtHint.value = text;\n            txtInput.value = text;\n        },\n        getText : function() {\n            return txtInput.value;\n        },\n        hideDropDown : function() {\n            dropDownController.hide();\n        },\n        repaint : function() {\n            var text = txtInput.value;\n            var startFrom =  rs.startFrom;\n            var options =    rs.options;\n            var optionsLength = options.length;\n\n            // breaking text in leftSide and token.\n            var token = text.substring(startFrom);\n            leftSide =  text.substring(0,startFrom);\n\n            // updating the hint.\n            txtHint.value ='';\n            for (var i = 0; i < optionsLength; i++) {\n                var found = options[i].matches.filter(function(match) {\n                    return match.toLowerCase().indexOf(token.toLowerCase()) == 0;\n                });\n                if (found.length == 0)\n                    continue;\n                txtHint.value = rs.get_hint(found[0]);\n                break;\n            }\n\n            // moving the dropDown and refreshing it.\n            dropDown.style.left = calculateWidthForText(leftSide)+'px';\n            dropDownController.refresh(token, rs.options);\n        }\n    };\n\n    var registerOnTextChangeOldValue;\n\n    // Register a callback function to detect changes to the content of the\n    // input-type-text.  Those changes are typically followed by user's\n    // action: a key-stroke event but sometimes it might be a mouse click.\n    var registerOnTextChange = function(txt, callback) {\n        registerOnTextChangeOldValue = txt.value;\n        var handler = function() {\n            var value = txt.value;\n            if (registerOnTextChangeOldValue !== value) {\n                registerOnTextChangeOldValue = value;\n                callback(value);\n            }\n        };\n\n        // For user's actions, we listen to both input events and key up events\n        // It appears that input events are not enough so we defensively listen to key up events too.\n        // source: http://help.dottoro.com/ljhxklln.php\n        //\n        // The cost of listening to three sources should be negligible as the handler will invoke callback function\n        // only if the text.value was effectively changed.\n        txt.addEventListener(\"input\",  handler, false);\n        txt.addEventListener('keyup',  handler, false);\n        txt.addEventListener('change', handler, false);\n    };\n\n\n    registerOnTextChange(txtInput,function(text) { // note the function needs to be wrapped as API-users will define their onChange\n        rs.onChange(text);\n        rs.repaint();\n    });\n\n\n    var keyDownHandler = function(e) {\n        e = e || thisWindow.event;\n        var keyCode = e.keyCode;\n\n        if (keyCode == 33) { return; } // page up (do nothing)\n        if (keyCode == 34) { return; } // page down (do nothing);\n\n        // right,  end, tab  (autocomplete triggered)\n        if (keyCode == 39 || keyCode == 35 || keyCode == 9) {\n            // for tabs we need to ensure that we override the default\n            // behaviour: move to the next focusable HTML-element\n            if (keyCode == 9) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (txtHint.value.length == 0) {\n                    // tab was called with no action.\n                    rs.onTab();\n                }\n            }\n            // if there is a hint\n            if (txtHint.value.length > 0) {\n                txtInput.value = txtHint.value;\n                var hasTextChanged = registerOnTextChangeOldValue != txtInput.value\n                // avoid dropDown to appear again\n                registerOnTextChangeOldValue = txtInput.value;\n                // for example imagine the array contains the following\n                // words: bee, beef, beetroot. User has hit enter to get\n                // 'bee' it would be prompted with the dropDown again (as\n                // beef and beetroot also match)\n                if (hasTextChanged) {\n                    // force it.\n                    rs.onChange(txtInput.value);\n                }\n            }\n            return;\n        }\n\n        if (keyCode == 13) { // enter\n            // get current\n            var id = dropDownController.get_current_row().id;\n            rs.onEnter(id);\n            return;\n        }\n\n        if (keyCode == 40) { // down\n            var m = dropDownController.move(+1);\n            if (m == '') { rs.onArrowDown(); }\n            txtHint.value = rs.get_hint(m);\n            return;\n        }\n\n        if (keyCode == 38 ) { // up\n            var m = dropDownController.move(-1);\n            if (m == '') { rs.onArrowUp(); }\n            txtHint.value = rs.get_hint(m);\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n        }\n\n        // it's important to reset the txtHint on key down. Think: user\n        // presses a letter (e.g. 'x') and never releases. You get\n        // (xxxxxxxxxxxxxxxxx) and you would see still the hint. Reset the\n        // txtHint. (it might be updated onKeyUp).\n        txtHint.value ='';\n    };\n\n    txtInput.addEventListener(\"keydown\",  keyDownHandler, false);\n    return rs;\n};\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import utils from './utils'\nimport _ from 'underscore'\nimport { format as d3Format } from 'd3-format'\n\n// globals\nconst RETURN_ARG = x => x\nconst ESCAPE_REG = /([.*+?^=!:${}()|[\\]/\\\\])/g\nconst EMPTY_LINES = /\\n\\s*\\n/g\nconst TRAILING_NEWLINE = /\\n\\s*(\\)*)\\s*$/\nconst AND_OR = /([() ])(?:and|or)([)( ])/ig\nconst ALL_PARENS = /[()]/g\n// capture an expression surrounded by whitespace and a set of parentheses\nconst EXCESS_PARENS = /\\(\\s*(\\S+)\\s*\\)/g\nconst OR = /\\s+or\\s+/i\nconst AND = /\\s+and\\s+/i\n// find ORs\nconst OR_EXPRESSION = /(^|\\()(\\s*-?[0-9.]+\\s+(?:or\\s+-?[0-9.]+\\s*)+)(\\)|$)/ig\n// find ANDS, respecting order of operations (and before or)\nconst AND_EXPRESSION = /(^|\\(|or\\s)(\\s*-?[0-9.]+\\s+(?:and\\s+-?[0-9.]+\\s*)+)(\\sor|\\)|$)/ig\n\nfunction parseFloatOrNull (x) {\n  // strict number casting\n  const f = Number(x)\n  // check for null and '', which haven't been caught yet\n  return (isNaN(f) || parseFloat(x) !== f) ? null : f\n}\n\nfunction alignGeneDataToReactions (data, reactions) {\n  const aligned = {}\n  let nullVal = [ null ]\n  // make an array of nulls as the default\n  for (let firstGeneId in data) {\n    nullVal = data[firstGeneId].map(() => null)\n    break\n  }\n  for (let reactionId in reactions) {\n    const reaction = reactions[reactionId]\n    const biggId = reaction.bigg_id\n    const thisGeneData = {}\n\n    reaction.genes.forEach(gene => {\n      // check both gene id and gene name\n      ;[ 'bigg_id', 'name' ].forEach(function (kind) {\n        const d = data[gene[kind]] || utils.clone(nullVal)\n        // merger with existing data if present\n        const existingD = thisGeneData[gene.bigg_id]\n        if (existingD === undefined) {\n          thisGeneData[gene.bigg_id] = d\n        } else {\n          for (let i = 0; i < d.length; i++) {\n            const pnt = d[i]\n            if (pnt !== null) {\n              existingD[i] = pnt\n            }\n          }\n        }\n      })\n    })\n    aligned[biggId] = thisGeneData\n  }\n  return aligned\n}\n\nfunction checkFinite (x) {\n  return isFinite(x) ? x : null\n}\n\nfunction abs (x, takeAbs) {\n  return takeAbs ? Math.abs(x) : x\n}\n\nfunction diff (x, y, takeAbs) {\n  if (takeAbs) return Math.abs(y - x)\n  else return y - x\n}\n\nfunction fold (x, y, takeAbs) {\n  if (x === 0 || y === 0) return null\n  var fold = (y >= x ? y / x : -x / y)\n  return takeAbs ? Math.abs(fold) : fold\n}\n\nfunction log2Fold (x, y, takeAbs) {\n  if (x === 0) return null\n  if (y / x < 0) return null\n  var log = Math.log(y / x) / Math.log(2)\n  return takeAbs ? Math.abs(log) : log\n}\n\n/**\n * Convert imported data to a style that can be applied to reactions and nodes.\n * @param data - The data object.\n * @param name - Either 'reaction_data', 'metabolite_data', or 'gene_data'\n * @param allReactions - Required for name == 'gene_data'. Must include all GPRs\n *                       for the map and model.\n */\nfunction importAndCheck (data, name, allReactions) {\n  // check arguments\n  if (!data) return null\n\n  if ([ 'reaction_data', 'metabolite_data', 'gene_data' ].indexOf(name) === -1) {\n    throw new Error('Invalid name argument: ' + name)\n  }\n\n  // make array\n  if (!(data instanceof Array)) {\n    data = [ data ]\n  }\n  // check data\n  var check = function () {\n    if (data === null) {\n      return null\n    }\n    if (data.length === 1) {\n      return null\n    }\n    if (data.length === 2) {\n      return null\n    }\n    return console.warn('Bad data style: ' + name)\n  }\n  check()\n  data = utils.arrayToObject(data)\n\n  if (name === 'gene_data') {\n    if (allReactions === undefined) {\n      throw new Error('Must pass all_reactions argument for gene_data')\n    }\n    data = alignGeneDataToReactions(data, allReactions)\n  }\n\n  return data\n}\n\nfunction floatForData (d, styles, compareStyle) {\n  // all null\n  if (d === null) return null\n\n  // absolute value\n  const takeAbs = styles.indexOf('abs') !== -1\n\n  if (d.length === 1) { // 1 set\n    // 1 null\n    var f = parseFloatOrNull(d[0])\n    if (f === null) return null\n    return abs(f, takeAbs)\n  } else if (d.length === 2) { // 2 sets\n    // 2 null\n    var fs = d.map(parseFloatOrNull)\n    if (fs[0] === null || fs[1] === null) return null\n\n    if (compareStyle === 'diff') {\n      return diff(fs[0], fs[1], takeAbs)\n    } else if (compareStyle === 'fold') {\n      return checkFinite(fold(fs[0], fs[1], takeAbs))\n    } else if (compareStyle === 'log2_fold') {\n      return checkFinite(log2Fold(fs[0], fs[1], takeAbs))\n    }\n  } else {\n    throw new Error('Data array must be of length 1 or 2')\n  }\n  throw new Error('Bad data compare_style: ' + compareStyle)\n}\n\nfunction reverse_flux_for_data (d) {\n  if (d === null || d[0] === null) {\n    return false\n  }\n  return (d[0] < 0)\n}\n\n/**\n * Add gene values to the gene_reaction_rule string.\n * @param {String} rule - The gene reaction rule.\n * @param {} gene_values - The values.\n * @param {} genes - An array of objects specifying the gene bigg_id and name.\n * @param {} styles - The reaction styles.\n * @param {String} identifiers_on_map - The type of identifiers ('bigg_id' or 'name').\n * @param {} compare_style - The comparison style.\n *\n * @return {Array} A list of objects with:\n *\n * {\n *    bigg_id: The bigg ID.\n *    name: The name.\n *    text: The new string with formatted data values.\n * }\n *\n * The text elements should each appear on a new line.\n */\nfunction gene_string_for_data (rule, gene_values, genes, styles,\n                               identifiers_on_map, compare_style) {\n  var out_text = rule\n  var no_data = (gene_values === null)\n  // keep track of bigg_ids to remove repeats\n  var genes_found = {}\n\n  genes.forEach(function(g_obj) {\n    var bigg_id = g_obj.bigg_id\n\n    // ignore repeats that may have found their way into the genes object\n    if (bigg_id in genes_found) return\n    genes_found[bigg_id] = true\n\n    // generate the string\n    if (no_data) {\n      out_text = replace_gene_in_rule(out_text, bigg_id, bigg_id + '\\n')\n    } else {\n      if (!(bigg_id in gene_values))\n        return\n      var d = gene_values[bigg_id]\n      var f = floatForData(d, styles, compare_style)\n      var format = (f === null ? RETURN_ARG : d3Format('.3g'))\n      if (d.length === 1) {\n        out_text = replace_gene_in_rule(out_text, bigg_id,\n                                        bigg_id + ' (' + null_or_d(d[0], format) + ')\\n')\n      } else if (d.length === 2) {\n        var new_str\n        // check if they are all text\n        var any_num = _.any(d, function (x) {\n          return parseFloatOrNull(x) !== null\n        })\n        if (any_num) {\n          new_str = (bigg_id + ' (' +\n                     null_or_d(d[0], format) + ', ' +\n                     null_or_d(d[1], format) + ': ' +\n                     null_or_d(f, format) +\n                     ')\\n')\n        } else {\n          new_str = (bigg_id + ' (' +\n                     null_or_d(d[0], format) + ', ' +\n                     null_or_d(d[1], format) + ')\\n')\n        }\n        out_text = replace_gene_in_rule(out_text, bigg_id, new_str)\n      }\n    }\n  })\n  out_text = (out_text\n              // remove empty lines\n              .replace(EMPTY_LINES, '\\n')\n              // remove trailing newline (with or without parens)\n              .replace(TRAILING_NEWLINE, '$1'))\n\n  // split by newlines, and switch to names if necessary\n  var result = out_text.split('\\n').map(function (text) {\n    for (var i = 0, l = genes.length; i < l; i++) {\n      var gene = genes[i]\n      if (text.indexOf(gene.bigg_id) !== -1) {\n        // replace with names\n        if (identifiers_on_map === 'name')\n          text = replace_gene_in_rule(text, gene.bigg_id, gene.name)\n        return { bigg_id: gene.bigg_id, name: gene.name, text: text }\n      }\n    }\n    // not found, then none\n    return { bigg_id: null, name: null, text: text }\n  })\n  return result\n\n  // definitions\n  function null_or_d(d, format) {\n    if (d === null) {\n      return 'nd';\n    }\n    const formatted = format(d);\n    // Replace Unicode minus sign (U+2212) with regular hyphen-minus\n    return formatted.replace('−', '-');\n  }\n}\n\nfunction text_for_data (d, f) {\n  if (d === null) {\n    return null_or_d(null)\n  }\n  if (d.length === 1) {\n    var format = (f === null ? RETURN_ARG : d3Format('.3g'))\n    return null_or_d(d[0], format)\n  }\n  if (d.length === 2) {\n    var format = (f === null ? RETURN_ARG : d3Format('.3g')),\n    t = null_or_d(d[0], format)\n    t += ', ' + null_or_d(d[1], format)\n    t += ': ' + null_or_d(f, format)\n    return t\n  }\n  return ''\n\n  // definitions\n  function null_or_d(d, format) {\n    if (d === null) {\n      return '(nd)';\n    }\n    const formatted = format(d);\n    // Replace Unicode minus sign (U+2212) with regular hyphen-minus\n    return formatted.replace('−', '-');\n  }\n}\n\nfunction csv_converter(csv_rows) {\n  /** Convert data from a csv file to json-style data.\n\n      File must include a header row.\n\n  */\n  // count rows\n  var c = csv_rows[0].length,\n  converted = []\n  if (c < 2 || c > 3)\n    throw new Error('CSV file must have 2 or 3 columns')\n  // set up rows\n  for (var i = 1; i < c; i++) {\n    converted[i - 1] = {}\n  }\n  // fill\n  csv_rows.slice(1).forEach(function(row) {\n    for (var i = 1, l = row.length; i < l; i++) {\n      converted[i - 1][row[0]] = row[i]\n    }\n  })\n  return converted\n}\n\nfunction genes_for_gene_reaction_rule(rule) {\n  /** Find unique genes in gene_reaction_rule string.\n\n      Arguments\n      ---------\n\n      rule: A boolean string containing gene names, parentheses, AND's and\n      OR's.\n\n      Returns\n      -------\n\n      An array of gene strings.\n\n  */\n  var genes = rule\n  // remove ANDs and ORs, surrounded by space or parentheses\n    .replace(AND_OR, '$1$2')\n  // remove parentheses\n    .replace(ALL_PARENS, '')\n  // split on whitespace\n    .split(' ')\n    .filter(function(x) { return x != ''; })\n  // unique strings\n  return utils.unique_strings_array(genes)\n}\n\nfunction evaluate_gene_reaction_rule(rule, gene_values, and_method_in_gene_reaction_rule) {\n  /** Return a value given the rule and gene_values object.\n\n      Arguments\n      ---------\n\n      rule: A boolean string containing gene names, parentheses, AND's and\n      OR's.\n\n      gene_values: Object with gene_ids for keys and numbers for values.\n\n      and_method_in_gene_reaction_rule: Either 'mean' or 'min'.\n\n  */\n\n  var null_val = [null],\n  l = 1\n  // make an array of nulls as the default\n  for (var gene_id in gene_values) {\n    null_val = gene_values[gene_id].map(function() { return null; })\n    l = null_val.length\n    break\n  }\n\n  if (rule == '') return utils.clone(null_val)\n\n  // for each element in the arrays\n  var out = []\n  for (var i = 0; i < l; i++) {\n    // get the rule\n    var curr_val = rule\n\n    // put all the numbers into the expression\n    var all_null = true\n    for (var gene_id in gene_values) {\n      var f = parseFloatOrNull(gene_values[gene_id][i])\n      if (f === null) {\n        f = 0\n      } else {\n        all_null = false\n      }\n      curr_val = replace_gene_in_rule(curr_val, gene_id, f)\n    }\n    if (all_null) {\n      out.push(null)\n      continue\n    }\n\n    // recursively evaluate\n    while (true) {\n      // arithemtic expressions\n      var new_curr_val = curr_val\n\n      // take out excessive parentheses\n      new_curr_val = new_curr_val.replace(EXCESS_PARENS, ' $1 ')\n\n      // or's\n      new_curr_val = new_curr_val.replace(OR_EXPRESSION, function(match, p1, p2, p3) {\n        // sum\n        var nums = p2.split(OR).map(parseFloat),\n        sum = nums.reduce(function(a, b) { return a + b;})\n        return p1 + sum + p3\n      })\n      // and's\n      new_curr_val = new_curr_val.replace(AND_EXPRESSION, function(match, p1, p2, p3) {\n        // find min\n        var nums = p2.split(AND).map(parseFloat),\n            val = (and_method_in_gene_reaction_rule == 'min' ?\n                   Math.min.apply(null, nums) :\n                   nums.reduce(function(a, b) { return a + b; }) / nums.length)\n        return p1 + val + p3\n      })\n      // break if there is no change\n      if (new_curr_val == curr_val)\n        break\n      curr_val = new_curr_val\n    }\n    // strict test for number\n    var num = Number(curr_val)\n    if (isNaN(num)) {\n      console.warn('Could not evaluate ' + rule)\n      out.push(null)\n    } else {\n      out.push(num)\n    }\n  }\n  return out\n}\n\nfunction replace_gene_in_rule (rule, gene_id, val) {\n  // get the escaped string, with surrounding space or parentheses\n  var space_or_par_start = '(^|[\\\\\\s\\\\\\(\\\\\\)])'\n  var space_or_par_finish = '([\\\\\\s\\\\\\(\\\\\\)]|$)'\n  var escaped = space_or_par_start + escape_reg_exp(gene_id) + space_or_par_finish\n  return rule.replace(new RegExp(escaped, 'g'),  '$1' + val + '$2')\n\n  // definitions\n  function escape_reg_exp(string) {\n    return string.replace(ESCAPE_REG, \"\\\\$1\")\n  }\n}\n\n/**\n * Returns True if the scale has changed.\n * @param {Object} reactions -\n * @param {} data -\n * @param {} styles -\n * @param {String} compare_style -\n * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n */\nfunction apply_reaction_data_to_reactions (reactions, data, styles,\n                                           compare_style, keys) {\n  if (_.isUndefined(keys)) keys = Object.keys(reactions)\n\n  var reaction_id\n  var reaction\n  var segment_id\n  var segment\n\n  if (data === null) {\n    keys.map(function (reaction_id) {\n      reaction = reactions[reaction_id]\n      reaction.data = null\n      reaction.data_string = ''\n      for (segment_id in reaction.segments) {\n        segment = reaction.segments[segment_id]\n        segment.data = null\n      }\n      reaction.gene_string = null\n    })\n    return false\n  }\n\n  // apply the datasets to the reactions\n  keys.map(function (reaction_id) {\n    reaction = reactions[reaction_id]\n    // check bigg_id and name\n    var d = data[reaction.bigg_id] || data[reaction.name] || null\n    var f = floatForData(d, styles, compare_style)\n    var r = reverse_flux_for_data(d)\n    var s = text_for_data(d, f)\n    reaction.data = f\n    reaction.data_string = s\n    reaction.reverse_flux = r\n    reaction.gene_string = null\n    // apply to the segments\n    for (segment_id in reaction.segments) {\n      segment = reaction.segments[segment_id]\n      segment.data = reaction.data\n      segment.reverse_flux = reaction.reverse_flux\n    }\n  })\n  return true\n}\n\n/**\n * Returns True if the scale has changed.\n * @param {Object} nodes -\n * @param {} data -\n * @param {} styles -\n * @param {String} compare_style -\n * @param {Array} keys - (Optional) The keys in nodes to apply data to.\n */\nfunction apply_metabolite_data_to_nodes (nodes, data, styles, compareStyle, keys) {\n  if (_.isUndefined(keys)) keys = Object.keys(nodes)\n\n  if (data === null) {\n    keys.map(nodeId => {\n      nodes[nodeId].data = null\n      nodes[nodeId].data_string = ''\n    })\n    return false\n  }\n\n  // grab the data\n  keys.map(nodeId => {\n    var node = nodes[nodeId]\n    // check bigg_id and name\n    const d = data[node.bigg_id] || data[node.name] || null\n    const f = floatForData(d, styles, compareStyle)\n    const s = text_for_data(d, f)\n    node.data = f\n    node.data_string = s\n  })\n  return true\n}\n\n/**\n * Returns true if data is present\n * reactions: The reactions to update.\n * gene_data_obj: The gene data object, with the following style:\n *   { reaction_id: { gene_id: value } }\n * styles:  Gene styles array.\n * identifiers_on_map:\n * compare_style:\n * and_method_in_gene_reaction_rule:\n * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n */\nfunction apply_gene_data_to_reactions (\n  reactions,\n  gene_data_obj,\n  styles,\n  identifiers_on_map,\n  compare_style,\n  and_method_in_gene_reaction_rule,\n  keys\n) {\n  if (_.isUndefined(keys)) keys = Object.keys(reactions)\n\n  if (gene_data_obj === null) {\n    keys.map(function (reaction_id) {\n      var reaction = reactions[reaction_id]\n      reaction.data = null\n      reaction.data_string = ''\n      reaction.reverse_flux = false\n      for (var segment_id in reaction.segments) {\n        var segment = reaction.segments[segment_id]\n        segment.data = null\n      }\n      reaction.gene_string = null\n    })\n    return false\n  }\n\n  // Get the null val\n  var null_val = [ null ]\n  // Make an array of nulls as the default\n  for (var reaction_id in gene_data_obj) {\n    for (var gene_id in gene_data_obj[reaction_id]) {\n      null_val = gene_data_obj[reaction_id][gene_id]\n        .map(function () { return null })\n      break\n    }\n    break\n  }\n\n  // Apply the datasets to the reactions\n  keys.map(function (reaction_id) {\n    var reaction = reactions[reaction_id]\n    var rule = reaction.gene_reaction_rule\n    // find the data\n    var d, gene_values\n    var r_data = gene_data_obj[reaction.bigg_id]\n    if (!_.isUndefined(r_data)) {\n      gene_values = r_data\n      d = evaluate_gene_reaction_rule(rule, gene_values,\n                                      and_method_in_gene_reaction_rule)\n    } else {\n      gene_values = {}\n      d = utils.clone(null_val)\n    }\n    var f = floatForData(d, styles, compare_style)\n    var r = reverse_flux_for_data(d)\n    var s = text_for_data(d, f)\n    reaction.data = f\n    reaction.data_string = s\n    reaction.reverse_flux = r\n    // apply to the segments\n    for (var segment_id in reaction.segments) {\n      var segment = reaction.segments[segment_id]\n      segment.data = reaction.data\n      segment.reverse_flux = reaction.reverse_flux\n    }\n    // always update the gene string\n    reaction.gene_string = gene_string_for_data(rule,\n                                                gene_values,\n                                                reaction.genes,\n                                                styles,\n                                                identifiers_on_map,\n                                                compare_style)\n  })\n  return true\n}\n\nexport default {\n  importAndCheck,\n  floatForData,\n  reverse_flux_for_data,\n  gene_string_for_data,\n  text_for_data,\n  csv_converter,\n  genes_for_gene_reaction_rule,\n  evaluate_gene_reaction_rule,\n  replace_gene_in_rule,\n  apply_reaction_data_to_reactions,\n  apply_metabolite_data_to_nodes,\n  apply_gene_data_to_reactions\n}","import utils from './utils'\nimport { drag as d3Drag } from 'd3-drag'\nimport { pointer as d3Pointer } from 'd3-selection';\n\n/**\n * DirectionArrow. A constructor for an arrow that can be rotated and dragged,\n * and supplies its direction.\n * @param {D3 Selection} sel - The sel to render the arrow in.\n */\nexport default class DirectionArrow {\n  constructor (sel) {\n    this.arrowContainer = sel.append('g')\n      .attr('id', 'direction-arrow-container')\n      .attr('transform', 'translate(0,0)rotate(0)')\n\n    this.arrow = this.arrowContainer.append('path')\n      .classed('direction-arrow', true)\n      .attr('d', 'M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z')\n      .style('visibility', 'hidden')\n      .attr('transform', 'translate(30,0)scale(2.5)')\n\n    this.sel = sel\n    this.center = { x: 0, y: 0 }\n\n    this._setupDrag()\n    this.dragging = false\n\n    this.isVisible = false\n    this.show()\n  }\n\n  /**\n   * Move the arrow to coords.\n   */\n  setLocation (coords) {\n    this.center = coords\n    var transform = utils.d3_transform_catch(this.arrowContainer.attr('transform'))\n    this.arrowContainer.attr('transform',\n                             'translate(' + coords.x + ',' + coords.y +\n                             ')rotate(' + transform.rotate + ')')\n  }\n\n  /**\n   * Rotate the arrow to rotation.\n   */\n  setRotation (rotation) {\n    var transform = utils.d3_transform_catch(this.arrowContainer.attr('transform'))\n    this.arrowContainer.attr('transform',\n                              'translate(' + transform.translate + ')rotate(' + rotation + ')')\n  }\n\n  /**\n   * Displace the arrow rotation by a set amount.\n   */\n  displaceRotation (dRotation) {\n    var transform = utils.d3_transform_catch(this.arrowContainer.attr('transform'))\n    this.arrowContainer.attr('transform',\n                              'translate(' + transform.translate + ')' +\n                              'rotate(' + (transform.rotate + dRotation) + ')')\n  }\n\n  /**\n   * Returns the arrow rotation.\n   */\n  getRotation () {\n    return utils.d3_transform_catch(this.arrowContainer.attr('transform')).rotate\n  }\n\n  toggle (onOff) {\n    if (onOff === undefined) this.isVisible = !this.isVisible\n    else this.isVisible = onOff\n    this.arrow.style('visibility', this.isVisible ? 'visible' : 'hidden')\n  }\n\n  show () {\n    this.toggle(true)\n  }\n\n  hide () {\n    this.toggle(false)\n  }\n\n  right () {\n    this.setRotation(0)\n  }\n\n  down () {\n    this.setRotation(90)\n  }\n\n  left () {\n    this.setRotation(180)\n  }\n\n  up () {\n    this.setRotation(270)\n  }\n\n  _setupDrag () {\n    let lastX, lastY;\n    var drag = d3Drag()\n        .on('start', e => {\n          lastX = e.x\n          lastY = e.y\n          // silence other listeners\n          e.sourceEvent.stopPropagation()\n          this.dragging = true\n        })\n        .on('drag', e => {\n          const dx = e.x - lastX\n          lastX = e.x\n          const dy = e.y - lastY\n          lastY = e.y\n\n          const displacement = {\n            x: dx,\n            y: dy\n          }\n\n          const [x, y] = d3Pointer(e, this.sel.node());\n\n          const location = {\n            x,\n            y\n          }\n          const dAngle = utils.angle_for_event(displacement, location,\n                                               this.center)\n          this.displaceRotation(utils.to_degrees(dAngle))\n        })\n        .on('end', d => {\n          setTimeout(() => { this.dragging = false }, 200)\n        })\n    this.arrowContainer.call(drag)\n  }\n}\n","/**\n * CobraModel\n */\n\nimport utils from './utils'\nimport dataStyles from './dataStyles'\nvar CobraModel = utils.make_class()\n// class methods\nCobraModel.from_cobra_json = from_cobra_json\nCobraModel.build_reaction_string = build_reaction_string\n// instance methods\nCobraModel.prototype = {\n  init: init,\n  apply_reaction_data: apply_reaction_data,\n  apply_metabolite_data: apply_metabolite_data,\n  apply_gene_data: apply_gene_data\n}\n\n// class methods\n\n/**\n * Return a reaction string for the given stoichiometries. Adapted from\n * cobra.core.Reaction.build_reaction_string().\n * @param {Object} stoichiometries - An object with metabolites as keys and\n * stoichiometries as values.\n * @param {Boolean} is_reversible - Whether the reaction is reversible.\n */\nfunction build_reaction_string (stoichiometries, is_reversible) {\n  var format = function(number) {\n    if (number == 1) {\n      return ''\n    }\n    return String(number) + ' '\n  }\n  var reactant_dict = {}\n  var product_dict = {}\n  var reactant_bits = []\n  var product_bits = []\n  for (var the_metabolite in stoichiometries) {\n    var coefficient = stoichiometries[the_metabolite]\n    if (coefficient > 0)\n      product_bits.push(format(coefficient) + the_metabolite)\n    else\n      reactant_bits.push(format(Math.abs(coefficient)) + the_metabolite)\n  }\n  var reaction_string = reactant_bits.join(' + ')\n  if (is_reversible) {\n    reaction_string += ' ↔ '\n  } else {\n    reaction_string += ' → '\n  }\n  reaction_string += product_bits.join(' + ')\n  return reaction_string\n}\n\nfunction from_cobra_json (model_data) {\n  /** Use a JSON Cobra model exported by COBRApy to make a new CobraModel\n      object.\n\n      The COBRA \"id\" becomes a \"bigg_id\", and \"upper_bound\" and \"lower_bound\"\n      bounds become \"reversibility\".\n\n      Fills out a \"genes\" list.\n\n  */\n  // reactions and metabolites\n  if (!(model_data.reactions && model_data.metabolites)) {\n    throw new Error('Bad model data.')\n  }\n\n  // make a gene dictionary\n  var genes = {}\n  for (var i = 0, l = model_data.genes.length; i < l; i++) {\n    var r = model_data.genes[i],\n    the_id = r.id\n    genes[the_id] = r\n  }\n\n  var model = new CobraModel()\n\n  model.reactions = {}\n  for (var i = 0, l = model_data.reactions.length; i<l; i++) {\n    var r = model_data.reactions[i]\n    var the_id = r.id\n    var reaction = utils.clone(r)\n    delete reaction.id\n    reaction.bigg_id = the_id\n    reaction.data_string = ''\n    // add the appropriate genes\n    reaction.genes = []\n\n    // set reversibility\n    reaction.reversibility = (reaction.lower_bound < 0 && reaction.upper_bound > 0)\n    if (reaction.upper_bound <= 0 && reaction.lower_bound < 0) {\n      // reverse stoichiometries\n      for (var met_id in reaction.metabolites) {\n        reaction.metabolites[met_id] = -reaction.metabolites[met_id]\n      }\n    }\n    delete reaction.lower_bound\n    delete reaction.upper_bound\n\n    if ('gene_reaction_rule' in reaction) {\n      var gene_ids = dataStyles.genes_for_gene_reaction_rule(reaction.gene_reaction_rule)\n      gene_ids.forEach(function(gene_id) {\n        if (gene_id in genes) {\n          var gene = utils.clone(genes[gene_id])\n          // rename id to bigg_id\n          gene.bigg_id = gene.id\n          delete gene.id\n          reaction.genes.push(gene)\n        } else {\n          console.warn('Could not find gene for gene_id ' + gene_id)\n        }\n      })\n    }\n    model.reactions[the_id] = reaction\n  }\n  model.metabolites = {}\n  for (var i = 0, l = model_data.metabolites.length; i<l; i++) {\n    var r = model_data.metabolites[i]\n    var the_id = r.id\n    var met = utils.clone(r)\n    delete met.id\n    met.bigg_id = the_id\n    model.metabolites[the_id] = met\n  }\n  return model\n}\n\n// instance methods\nfunction init () {\n  this.reactions = {}\n  this.metabolites = {}\n}\n\n/**\n * Apply data to model. This is only used to display options in\n * BuildInput. apply_reaction_data overrides apply_gene_data.\n */\nfunction apply_reaction_data (reaction_data, styles, compare_style) {\n  dataStyles.apply_reaction_data_to_reactions(this.reactions, reaction_data,\n                                               styles, compare_style)\n}\n\n/**\n * Apply data to model. This is only used to display options in BuildInput.\n */\nfunction apply_metabolite_data (metabolite_data, styles, compare_style) {\n  dataStyles.apply_metabolite_data_to_nodes(this.metabolites, metabolite_data,\n                                             styles, compare_style)\n}\n\n/**\n * Apply data to model. This is only used to display options in\n * BuildInput. Overrides apply_reaction_data.\n */\nfunction apply_gene_data (gene_data_obj, styles, identifiers_on_map,\n                          compare_style, and_method_in_gene_reaction_rule) {\n  dataStyles.apply_gene_data_to_reactions(this.reactions, gene_data_obj,\n                                           styles, identifiers_on_map,\n                                           compare_style,\n                                           and_method_in_gene_reaction_rule)\n}\n\nexport default CobraModel","import utils from './utils'\nimport PlacedDiv from './PlacedDiv'\nimport completely from './completely'\nimport DirectionArrow from './DirectionArrow'\nimport CobraModel from './CobraModel'\nimport _ from 'underscore'\nimport { pointer as d3Pointer } from 'd3-selection'\n\n/**\n * BuildInput\n * @param selection - A d3 selection for the BuildInput.\n * @param map - A Map instance.\n * @param zoomContainer - A ZoomContainer instance.\n * @param settings - A Settings instance.\n */\nexport default class BuildInput {\n  constructor (selection, map, zoomContainer, settings) {\n    // set up container\n    const newSel = selection.append('div').attr('id', 'rxn-input')\n    this.placed_div = PlacedDiv(newSel, map, { x: 240, y: 0 })\n    this.placed_div.hide()\n\n    // set up complete.ly\n    this.completely = completely(newSel.node(), { backgroundColor: '#eee' })\n\n    // close button\n    newSel.append('button').attr('class', 'button input-close-button')\n      .text('×')\n      .on('mousedown', () => this.hideDropdown())\n\n    // map\n    this.map = map\n    // set up the reaction direction arrow\n    const defaultAngle = 90 // degrees\n    this.direction_arrow = new DirectionArrow(map.sel)\n    this.direction_arrow.setRotation(defaultAngle)\n    this.setUpMapCallbacks(map)\n\n    // zoom container\n    this.zoomContainer = zoomContainer\n    this.setUpZoomCallbacks(zoomContainer)\n\n    // settings\n    this.settings = settings\n\n    // toggle off\n    this.toggle(false)\n    this.target_coords = null\n  }\n\n  setUpMapCallbacks (map) {\n    // input\n    map.callback_manager.set('select_metabolite_with_id.input', (selectedNode, coords) => {\n      if (this.is_active) {\n        const hasModel = this.reload(selectedNode, coords, false)\n        if (hasModel) this.showDropdown(coords)\n      }\n      this.hideTarget()\n    })\n    map.callback_manager.set('select_selectable.input', (count, selectedNode, coords) => {\n      this.hideTarget()\n      if (count === 1 && this.is_active && coords) {\n        const hasModel = this.reload(selectedNode, coords, false)\n        if (hasModel) this.showDropdown(coords)\n      } else {\n        this.toggle(false)\n      }\n    })\n    map.callback_manager.set('deselect_nodes', () => {\n      this.direction_arrow.hide()\n      this.hideDropdown()\n    })\n\n    // svg export\n    map.callback_manager.set('before_svg_export', () => {\n      this.direction_arrow.hide()\n      this.hideTarget()\n    })\n  }\n\n  setUpZoomCallbacks (zoomContainer) {\n    // TODO this is broken.\n    // Should place either for selected or for location on zoom or pan.\n    // zoomContainer.callbackManager.set('zoom_change.input', () => {\n    //   if (this.is_active) {\n    //     this.place_at_selected()\n    //   }\n    // })\n  }\n\n  is_visible () { // eslint-disable-line camelcase\n    return this.placed_div.is_visible()\n  }\n\n  toggle (onOff) {\n    if (onOff === undefined) this.is_active = !this.is_active\n    else this.is_active = onOff\n    if (this.is_active) {\n      this.toggleStartReactionListener(true)\n      let hasModelAndSelection = true\n      if (_.isNull(this.target_coords)) {\n        hasModelAndSelection = this.reloadAtSelected()\n      } else {\n        this.placed_div.place(this.target_coords)\n      }\n      if (hasModelAndSelection) {\n        this.showDropdown()\n        this.map.set_status('Click on the canvas or an existing metabolite')\n      }\n      this.direction_arrow.show()\n    } else {\n      this.toggleStartReactionListener(false)\n      this.hideDropdown()\n      this.map.set_status(null)\n      this.direction_arrow.hide()\n    }\n  }\n\n  showDropdown (coords) {\n    // escape key\n    this.clear_escape = this.map.key_manager\n      .addEscapeListener(() => this.hideDropdown(), true)\n    // dropdown\n    this.completely.input.blur()\n    this.completely.repaint()\n    this.completely.setText('')\n    this.completely.input.focus()\n  }\n\n  hideDropdown () {\n    // escape key\n    if (this.clear_escape) this.clear_escape()\n    this.clear_escape = null\n    // dropdown\n    this.placed_div.hide()\n    this.completely.input.blur()\n    this.completely.hideDropDown()\n  }\n\n  place (coords) {\n    this.placed_div.place(coords)\n    this.direction_arrow.setLocation(coords)\n    this.direction_arrow.show()\n  }\n\n  /**\n   * Reload data for autocomplete box and redraw box at the first selected node.\n   * @return {Boolean} Returns true if a model is present and a node is selected.\n   */\n  reloadAtSelected () {\n    // get the selected node\n    this.map.deselect_text_labels()\n    var selectedNode = this.map.select_single_node()\n    if (selectedNode === null) return false\n    var coords = { x: selectedNode.x, y: selectedNode.y }\n    // reload the reaction input\n    return this.reload(selectedNode, coords, false)\n  }\n\n  alreadyDrawn (biggId, reactions) {\n    for (let drawnId in reactions) {\n      if (reactions[drawnId].bigg_id === biggId) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * Reload data for autocomplete box and redraw box at the new coordinates.\n   * @param {} selectedNode -\n   * @param {} coords -\n   * @param {Boolean} startingFromScratch -\n   * @return {Boolean} Returns true if a model is present.\n   */\n  reload (selectedNode, coords, startingFromScratch) {\n    // Try finding the selected node\n    if (!startingFromScratch && !selectedNode) {\n      console.error('No selected node and not starting from scratch')\n      return\n    }\n\n    this.place(coords)\n\n    if (this.map.cobra_model === null) {\n      this.completely.setText('Cannot add: No model.')\n      // this.completely.repaint()\n      return false\n    }\n\n    // settings\n    const showNames = this.settings.get('identifiers_on_map') === 'name'\n    const allowDuplicates = this.settings.get('allow_building_duplicate_reactions')\n\n    // Find selected\n    const options = []\n    const cobraReactions = this.map.cobra_model.reactions\n    const cobraMetabolites = this.map.cobra_model.metabolites\n    const reactions = this.map.reactions\n    const hasDataOnReactions = this.map.has_data_on_reactions\n    const selectedMetName = (selectedNode ? (showNames ? selectedNode.name : selectedNode.bigg_id) : '')\n    const boldMetsInStr = (str, mets) =>\n          str.replace(new RegExp('(^| )(' + mets.join('|') + ')($| )', 'g'), '$1<b>$2</b>$3')\n\n    // for reactions\n    const reactionSuggestions = {}\n    for (let biggId in cobraReactions) {\n      const reaction = cobraReactions[biggId]\n      const reactionName = reaction.name\n      const showReactionName = (showNames ? reactionName : biggId)\n\n      // ignore drawn reactions\n      if ((!allowDuplicates) && this.alreadyDrawn(biggId, reactions)) {\n        continue\n      }\n\n      // check segments for match to selected metabolite\n      for (let metBiggId in reaction.metabolites) {\n        // if starting with a selected metabolite, check for that id\n        if (startingFromScratch || metBiggId === selectedNode.bigg_id) {\n          // don't add suggestions twice\n          if (biggId in reactionSuggestions) continue\n\n          // get the metabolite names or IDs\n          let mets = {}\n          const showMetNames = []\n          let metId\n          if (showNames) {\n            for (metId in reaction.metabolites) {\n              var name = cobraMetabolites[metId].name\n              mets[name] = reaction.metabolites[metId]\n              showMetNames.push(name)\n            }\n          } else {\n            mets = utils.clone(reaction.metabolites)\n            for (metId in reaction.metabolites) {\n              showMetNames.push(metId)\n            }\n          }\n          const showGeneNames = _.flatten(\n            reaction.genes.map(g => [ g.name, g.biggId ])\n          )\n          // get the reaction string\n          const reactionString = CobraModel.build_reaction_string(mets,\n                                                                  reaction.reversibility,\n                                                                  reaction.lower_bound,\n                                                                  reaction.upper_bound)\n          // make the matches list and filter out any missing entries (e.g.\n          // missing gene names from model\n          const matches = [ showReactionName ].concat(showMetNames).concat(showGeneNames).filter(x => x)\n\n          if (hasDataOnReactions) {\n            options.push({\n              reaction_data: reaction.data,\n              html: '<b>' + showReactionName + '</b>' + ': ' + reaction.data_string,\n              matches,\n              id: biggId\n            })\n          } else {\n            options.push({\n              html: ('<b>' + showReactionName + '</b>' + '\\t' +\n                     boldMetsInStr(reactionString, [selectedMetName])),\n              matches,\n              id: biggId\n            })\n          }\n          reactionSuggestions[biggId] = true\n        }\n      }\n    }\n\n    // Generate the array of reactions to suggest and sort it\n    const sortFn = hasDataOnReactions\n          ? (x, y) => Math.abs(x.reaction_data) > Math.abs(y.reaction_data) ? -1 : 1\n          : (x, y) => x.html.toLowerCase() < y.html.toLowerCase() ? -1 : 1\n\n    // set up the box with data\n    this.completely.options = options.sort(sortFn)\n\n    // TODO test this behavior\n    // if (strings_to_display.length==1) this.completely.setText(strings_to_display[0])\n    // else this.completely.setText(\"\")\n    this.completely.setText('')\n\n    const checkAndBuild = id => {\n      if (id !== null) {\n        // make sure the selected node exists, in case changes were made in the meantime\n        if (startingFromScratch) {\n          this.map.new_reaction_from_scratch(id,\n                                             coords,\n                                             this.direction_arrow.getRotation())\n        } else {\n          if (!(selectedNode.node_id in this.map.nodes)) {\n            console.error('Selected node no longer exists')\n            this.hideDropdown()\n            return\n          }\n          this.map.new_reaction_for_metabolite(id,\n                                               selectedNode.node_id,\n                                               this.direction_arrow.getRotation())\n        }\n      }\n    }\n    this.completely.onEnter = function (id) {\n      this.setText('')\n      this.onChange('')\n      checkAndBuild(id)\n    }\n\n    return true\n  }\n\n  /**\n   * Toggle listening for a click to place a new reaction on the canvas.\n   */\n  toggleStartReactionListener (onOff) {\n    if (onOff === undefined) {\n      this.start_reaction_listener = !this.start_reaction_listener\n    } else if (this.start_reaction_listener === onOff) {\n      return\n    } else {\n      this.start_reaction_listener = onOff\n    }\n\n    if (this.start_reaction_listener) {\n      const node = this.map.sel.node()\n      this.map.sel.on('click.start_reaction', (e) => {\n        // TODO fix this hack\n        if (this.direction_arrow.dragging) return\n\n        const [x, y] = d3Pointer(e, node)\n        // reload the reaction input\n        var coords = {\n          x,\n          y\n        }\n        // unselect metabolites\n        this.map.deselect_nodes()\n        this.map.deselect_text_labels()\n        // reload the reaction input\n        const hasModel = this.reload(null, coords, true)\n        if (hasModel) {\n          // show the dropdown\n          this.showDropdown(coords)\n        }\n        // generate the target symbol\n        this.showTarget(this.map, coords)\n      })\n      this.map.sel.style('cursor', 'pointer')\n    } else {\n      this.map.sel.on('click.start_reaction', null)\n      this.map.sel.style('cursor', null)\n      this.hideTarget()\n    }\n  }\n\n  hideTarget () {\n    if (this.target_coords) {\n      this.map.sel.selectAll('.start-reaction-target').remove()\n    }\n    this.target_coords = null\n  }\n\n  showTarget (map, coords) {\n    var s = map.sel.selectAll('.start-reaction-target').data([12, 5])\n    s.enter()\n      .append('circle')\n      .classed('start-reaction-target', true)\n      .attr('r', function (d) { return d })\n      .style('stroke-width', 4)\n      .merge(s)\n      .style('visibility', 'visible')\n      .attr('transform', 'translate(' + coords.x + ',' + coords.y + ')')\n    this.target_coords = coords\n  }\n}\n","/** CallbackManager */\nexport default class CallbackManager {\n  /**\n   * As in d3 callbacks, you can namespace your callbacks after a period:\n   * select_metabolite.direction_arrow, select_metabolite.input. Both are called\n   * by select_metabolite.\n  */\n  set (name, fn) {\n    if (this.callbacks === undefined) this.callbacks = {}\n    if (this.callbacks[name] === undefined) this.callbacks[name] = []\n    this.callbacks[name].push(fn)\n  }\n\n  /** Remove a callback by name */\n  remove (name) {\n    if (this.callbacks === undefined || Object.keys(this.callbacks).length === 0) {\n      console.warn('No callbacks to remove')\n    } else {\n      delete this.callbacks[name]\n    }\n  }\n\n  /**\n   * Run all callbacks that match the portion of name before the period ('.').\n   * @param {String} name - The callback name, which can include a tag after a\n   * '.' to specificy a particular callback.\n   * @param {Any} thisArg = null - The object assigned to `this` in the\n   * callback.\n  */\n  run (name, thisArg = null, ...passArgs) {\n    if (this.callbacks === undefined) return\n    // look for matching callback names\n    for (let aName in this.callbacks) {\n      const splitName = aName.split('.')[0]\n      if (splitName === name) {\n        this.callbacks[aName].forEach(fn => {\n          fn.apply(thisArg, passArgs)\n        })\n      }\n    }\n  }\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import utils from './utils'\nimport CallbackManager from './CallbackManager'\n\nimport _ from 'underscore'\nimport {\n  zoom as d3Zoom,\n  zoomIdentity as d3ZoomIdentity\n} from 'd3-zoom'\n\n/**\n * ZoomContainer\n */\nexport default class ZoomContainer {\n  /**\n   * Make a container that will manage panning and zooming. Creates a new SVG\n   * element, with a parent div for CSS3 3D transforms.\n   * @param {D3 Selection} selection - A d3 selection of a HTML node to put the\n   * zoom container in. Should have a defined width and height.\n   * @param {String} scroll_behavior - Either 'zoom' or 'pan'.\n   * @param {Boolean} use3dTransform - If true, then use CSS3 3D transform to\n   * speed up pan and zoom.\n   */\n  constructor (selection, scrollBehavior, use3dTransform) {\n    // set the selection class\n    selection.classed('escher-container', true)\n\n    // Stop scrolling on mobile\n    // Only necessary for Safari because touch-action CSS is supported by all other browsers\n    // TODO Zak needs to figure out why this doesn't work on Safari\n    if (navigator && navigator.userAgent && navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Mozilla') === -1) {\n      selection.on('touchstart touchmove', function (e) {\n        e.sourceEvent.stopPropagation()\n      })\n    }\n\n    // make the svg\n    const container = selection.append('div')\n          .attr('class', 'escher-zoom-container')\n    const css3TransformContainer = container.append('div')\n          .attr('class', 'escher-3d-transform-container')\n\n    const svg = css3TransformContainer.append('svg')\n          .attr('class', 'escher-svg')\n          .attr('xmlns', 'http://www.w3.org/2000/svg')\n\n    // set up the zoom container\n    svg.select('.zoom-g').remove()\n    const zoomedSel = svg.append('g').attr('class', 'zoom-g')\n\n    // attributes\n    this.selection = selection\n    this.container = container\n    this.css3TransformContainer = css3TransformContainer\n    this.svg = svg\n    this.zoomedSel = zoomedSel\n    this.windowTranslate = { x: 0, y: 0 }\n    this.windowScale = 1.0\n\n    this._scrollBehavior = scrollBehavior\n    this._use3dTransform = use3dTransform\n    this._panDragOn = true\n    this._zoomBehavior = null\n    this._zoomTimeout = null\n    this._svgScale = this.windowScale\n    this._svgTranslate = this.windowTranslate\n    this._3dTransform = null\n    this._requestedFrame = false\n    // this._lastSvgMs = null\n\n    // set up the callbacks\n    this.callbackManager = new CallbackManager()\n\n    // update the scroll behavior\n    this._updateScroll()\n  }\n\n  /**\n   * Set up pan or zoom on scroll.\n   * @param {String} scroll_behavior - 'none', 'pan' or 'zoom'.\n   */\n  setScrollBehavior (scrollBehavior) {\n    this._scrollBehavior = scrollBehavior\n    this._updateScroll()\n  }\n\n  /**\n   * Set the option use3dTransform\n   */\n  setUse3dTransform (use3dTransform) {\n    this._use3dTransform = use3dTransform\n  }\n\n  /**\n   * Toggle the zoom drag and the cursor UI for it.\n   */\n  togglePanDrag (onOff) {\n    if (_.isUndefined(onOff)) {\n      this._panDragOn = !this._panDragOn\n    } else {\n      this._panDragOn = onOff\n    }\n\n    if (this._panDragOn) {\n      // turn on the hand. Performance note: In previous versions of Escher, we\n      // enabled the \"grabbing\" cursor during pan events. However, this causes a\n      // browser layout and costs about 400ms, so we turned it off.\n      this.zoomedSel.style('cursor', 'grab')\n    } else {\n      // turn off the hand\n      if (this.zoomedSel.style('cursor') === 'grab') {\n        this.zoomedSel.style('cursor', null)\n      }\n    }\n\n    // update the behaviors\n    this._updateScroll()\n  }\n\n  /**\n   * Update the pan and zoom behaviors. The behaviors are applied to the\n   * css3TransformContainer node.\n   */\n  _updateScroll () {\n    if (!_.contains([ 'zoom', 'pan', 'none' ], this._scrollBehavior)) {\n      throw Error('Bad value for scroll_behavior: ' + this._scrollBehavior)\n    }\n\n    // clear all behaviors\n    this.container.on('mousewheel.zoom', null) // zoom scroll behaviors\n      .on('DOMMouseScroll.zoom', null) // disables older versions of Firefox\n      .on('wheel.zoom', null) // disables newer versions of Firefox\n      .on('dblclick.zoom', null)\n      .on('mousewheel.escher', null) // pan scroll behaviors\n      .on('DOMMouseScroll.escher', null)\n      .on('wheel.escher', null)\n      .on('mousedown.zoom', null) // drag behaviors\n      .on('touchstart.zoom', null)\n      .on('touchmove.zoom', null)\n      .on('touchend.zoom', null)\n\n    // This handles dragging to pan, and touch events (in any scroll mode). It\n    // also handles scrolling to zoom (only 'zoom' mode). It also raises an\n    // exception in node, so catch that during testing. This may be a bug with\n    // d3 related to d3 using the global this.document. TODO look into this.\n    this._zoomBehavior = d3Zoom()\n      .on('start', (e) => {\n        // Prevent default zoom behavior, specifically for mobile pinch zoom\n        if (e.sourceEvent !== null) {\n          e.sourceEvent.stopPropagation()\n          e.sourceEvent.preventDefault()\n        }\n      })\n      .on('zoom', (e) => {\n        this._goToCallback(e.transform.k, {\n          x: e.transform.x,\n          y: e.transform.y\n        })\n      })\n\n    // Set it up\n    this.container.call(this._zoomBehavior)\n\n    // Always turn off double-clicking to zoom\n    this.container.on('dblclick.zoom', null)\n\n    // If panning is off, then turn off these listeners\n    if (!this._panDragOn) {\n      this.container.on('mousedown.zoom', null)\n        .on('touchstart.zoom', null)\n        .on('touchmove.zoom', null)\n        .on('touchend.zoom', null)\n    }\n\n    // If scroll to zoom is off, then turn off these listeners\n    if (this._scrollBehavior !== 'zoom') {\n      this.container\n        .on('mousewheel.zoom', null) // zoom scroll behaviors\n        .on('DOMMouseScroll.zoom', null) // disables older versions of Firefox\n        .on('wheel.zoom', null) // disables newer versions of Firefox\n    }\n\n    // add listeners for scrolling to pan\n    if (this._scrollBehavior === 'pan') {\n      // Add the wheel listener\n      const wheelFn = (e) => {\n        const ev = e.sourceEvent\n        const sensitivity = 0.5\n        // stop scroll in parent elements\n        ev.stopPropagation()\n        ev.preventDefault()\n        ev.returnValue = false\n        // change the location\n        const getDirectionalDisp = (wheelDelta, delta) => {\n          const theDelt = _.isUndefined(wheelDelta) ? delta : -wheelDelta / 1.5\n          return theDelt * sensitivity\n        }\n        const newTranslate = {\n          x: this.windowTranslate.x - getDirectionalDisp(ev.wheelDeltaX, ev.deltaX),\n          y: this.windowTranslate.y - getDirectionalDisp(ev.wheelDeltaY, ev.deltaY)\n        }\n        this.goTo(this.windowScale, newTranslate)\n      }\n\n      // apply it\n      this.container.on('mousewheel.escher', wheelFn)\n      this.container.on('DOMMouseScroll.escher', wheelFn)\n      this.container.on('wheel.escher', wheelFn)\n    }\n\n    // Set current location\n    this.goTo(this.windowScale, this.windowTranslate)\n  }\n\n  // ------------------------------------------------------------\n  // Functions to scale and translate\n  // ------------------------------------------------------------\n\n  /**\n   * Zoom the container to a specified location.\n   * @param {Number} scale - The scale, between 0 and 1.\n   * @param {Object} translate - The location, of the form {x: 2.0, y: 3.0}.\n   */\n  goTo (scale, translate) {\n    // Check inputs\n    if (!scale) {\n      console.error('Bad scale value')\n      return\n    }\n    if (!translate || !('x' in translate) || !('y' in translate) ||\n        _.isNaN(translate.x) || _.isNaN(translate.y)) {\n      console.error('Bad translate value')\n      return\n    }\n\n    // Save to zoom behavior, which will call _goTo_callback\n    const newZoom = d3ZoomIdentity\n          .translate(translate.x, translate.y)\n          .scale(scale)\n    this.container.call(this._zoomBehavior.transform, newZoom)\n  }\n\n  /**\n   * Execute the zoom called by the d3 zoom behavior.\n   * @param {Number} scale - The scale, between 0 and 1\n   * @param {Object} translate - The location, of the form { x: 2.0, y: 3.0 }\n   */\n  _goToCallback (scale, translate) {\n    // if the scale changes, run the zoom_change callback\n    if (this.windowScale !== scale) {\n      this.windowScale = scale\n      this.callbackManager.run('zoom_change')\n    }\n    this.windowTranslate = translate\n\n    if (this._use3dTransform) { // 3d transform\n      // cancel all timeouts\n      if (!_.isNull(this._zoomTimeout)) {\n        clearTimeout(this._zoomTimeout)\n      }\n\n      // set the 3d transform\n      this._goTo3d(scale, translate, this._svgScale, this._svgTranslate)\n\n      // if another goTo does not happen within the delay time, then\n      // redraw the svg\n      this._zoomTimeout = _.delay(() => {\n        // redraw the svg\n        this._requestedFrame = false\n        this._goToSvg(scale, translate)\n      }, 100) // between 100 and 600 seems to be usable\n    } else { // no 3d transform\n      this._goToSvg(scale, translate)\n    }\n\n    this.callbackManager.run('go_to')\n  }\n\n  _goTo3dFrame () {\n    if (!this._requestedFrame) {\n      this._requestedFrame = true\n      window.requestAnimationFrame(() => {\n        this._requestedFrame = false\n        const transform = this._3dTransform\n        if (transform) {\n          this.css3TransformContainer.style('transform', transform)\n          this.css3TransformContainer.style('-webkit-transform', transform)\n          this.css3TransformContainer.style('transform-origin', '0 0')\n          this.css3TransformContainer.style('-webkit-transform-origin', '0 0')\n        } else {\n          console.warn('No _3dTransform defined')\n        }\n      })\n    }\n  }\n\n  /**\n   * Zoom & pan the CSS 3D transform container\n   */\n  _goTo3d (scale, translate, svgScale, svgTranslate) {\n    const nScale = scale / svgScale\n    const nTranslate = utils.c_minus_c(translate,\n                                        utils.c_times_scalar(svgTranslate, nScale))\n    const transform = ('translate(' + nTranslate.x + 'px,' + nTranslate.y + 'px) ' +\n                       'scale(' + nScale + ')')\n    this._3dTransform = transform\n    this._goTo3dFrame()\n  }\n\n  _clear3d () {\n    if (this._3dTransform) {\n      this._3dTransform = null\n      this.css3TransformContainer.style('transform', null)\n      this.css3TransformContainer.style('-webkit-transform', null)\n      this.css3TransformContainer.style('transform-origin', null)\n      this.css3TransformContainer.style('-webkit-transform-origin', null)\n    }\n  }\n\n  _goToSvgFrame (callback = null) {\n    if (!this._requestedFrame || callback) {\n      this._requestedFrame = true\n      window.requestAnimationFrame(() => {\n        this._requestedFrame = false\n\n        // reset the 3d transform\n        this._clear3d()\n\n        const scale = this._svgScale\n        const translate = this._svgTranslate\n        this.zoomedSel\n          .attr('transform',\n                'translate(' + translate.x + ',' + translate.y + ') ' +\n                'scale(' + scale + ')')\n        if (callback) callback()\n      })\n    }\n  }\n\n  /**\n   * Zoom & pan the svg element. Also runs the svg_start and svg_finish callbacks.\n   * @param {Number} scale - The scale, between 0 and 1.\n   * @param {Object} translate - The location, of the form {x: 2.0, y: 3.0}.\n   * @param {Function} callback - (optional) A callback to run after scaling.\n   */\n  _goToSvg (scale, translate, callback = null) {\n    // redraw the svg\n    // save svg location\n    this._svgScale = scale\n    this._svgTranslate = translate\n    this._goToSvgFrame(callback)\n  }\n\n  /**\n   * Zoom by a specified multiplier.\n   * @param {Number} amount - A multiplier for the zoom. Greater than 1 zooms in\n   * and less than 1 zooms out.\n   */\n  zoomBy (amount) {\n    var size = this.get_size()\n    var shift = {\n      x: size.width / 2 - ((size.width / 2 - this.windowTranslate.x) * amount +\n                           this.windowTranslate.x),\n      y: size.height / 2 - ((size.height / 2 - this.windowTranslate.y) * amount +\n                            this.windowTranslate.y)\n    }\n    this.goTo(this.windowScale * amount,\n               utils.c_plus_c(this.windowTranslate, shift))\n  }\n\n  /**\n   * Zoom in by the default amount with the default options.\n   */\n  zoom_in () { // eslint-disable-line camelcase\n    this.zoomBy(1.5)\n  }\n\n  /**\n   * Zoom out by the default amount with the default options.\n   */\n  zoom_out () { // eslint-disable-line camelcase\n    this.zoomBy(0.667)\n  }\n\n  /**\n   * Return the size of the zoom container as coordinates. Throws an error if\n   * width or height is not defined.\n   * @returns {Object} The size coordinates, e.g. { x: 2, y: 3 }.\n   */\n  get_size () { // eslint-disable-line camelcase\n    const {width, height} = this.selection.node().getBoundingClientRect()\n    return { width, height }\n  }\n\n  /**\n   * Shift window if new reaction will draw off the screen.\n   */\n  translateOffScreen (coords) {\n    // TODO BUG not accounting for scale correctly\n\n    var margin = 120 // pixels\n    var size = this.get_size()\n    var current = {\n      x: {\n        min: -this.windowTranslate.x / this.windowScale +\n          margin / this.windowScale,\n        max: -this.windowTranslate.x / this.windowScale +\n          (size.width - margin) / this.windowScale\n      },\n      y: {\n        min: -this.windowTranslate.y / this.windowScale +\n          margin / this.windowScale,\n        max: -this.windowTranslate.y / this.windowScale +\n          (size.height - margin) / this.windowScale\n      }\n    }\n\n    if (coords.x < current.x.min) {\n      this.windowTranslate.x = this.windowTranslate.x -\n        (coords.x - current.x.min) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    } else if (coords.x > current.x.max) {\n      this.windowTranslate.x = this.windowTranslate.x -\n        (coords.x - current.x.max) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    }\n    if (coords.y < current.y.min) {\n      this.windowTranslate.y = this.windowTranslate.y -\n        (coords.y - current.y.min) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    } else if (coords.y > current.y.max) {\n      this.windowTranslate.y = this.windowTranslate.y -\n        (coords.y - current.y.max) * this.windowScale\n      this.goTo(this.windowScale, this.windowTranslate)\n    }\n  }\n}\n","/**\n * Draw. Manages creating, updating, and removing objects during d3 data\n * binding.\n *\n * Arguments\n * ---------\n *\n * behavior: An escher.Behavior object.\n * settings: An escher.Settings object.\n *\n * Callbacks\n * ---------\n *\n * draw.callback_manager.run('create_membrane', draw, enter_selection)\n * draw.callback_manager.run('update_membrane', draw, update_selection)\n * draw.callback_manager.run('create_reaction', draw, enter_selection)\n * draw.callback_manager.run('update_reaction', draw, update_selection)\n * draw.callback_manager.run('create_reaction_label', draw, enter_selection)\n * draw.callback_manager.run('update_reaction_label', draw, update_selection)\n * draw.callback_manager.run('create_segment', draw, enter_selection)\n * draw.callback_manager.run('update_segment', draw, update_selection)\n * draw.callback_manager.run('create_bezier', draw, enter_selection)\n * draw.callback_manager.run('update_bezier', draw, update_selection)\n * draw.callback_manager.run('create_node', draw, enter_selection)\n * draw.callback_manager.run('update_node', draw, update_selection)\n * draw.callback_manager.run('create_text_label', draw, enter_selection)\n * draw.callback_manager.run('update_text_label', draw, update_selection)\n *\n */\n\nimport utils from './utils'\nimport dataStyles from './dataStyles'\nimport CallbackManager from './CallbackManager'\nimport {format as d3_format} from 'd3-format'\n\nvar Draw = utils.make_class()\n// instance methods\nDraw.prototype = {\n  init: init,\n  create_reaction: create_reaction,\n  update_reaction: update_reaction,\n  create_bezier: create_bezier,\n  update_bezier: update_bezier,\n  create_node: create_node,\n  update_node: update_node,\n  create_text_label: create_text_label,\n  update_text_label: update_text_label,\n  create_membrane: create_membrane,\n  update_membrane: update_membrane,\n  create_reaction_label: create_reaction_label,\n  update_reaction_label: update_reaction_label,\n  create_segment: create_segment,\n  update_segment: update_segment\n}\n\nfunction init (behavior, settings, map) {\n  this.behavior = behavior\n  this.settings = settings\n  this.map = map\n  this.callback_manager = new CallbackManager()\n}\n\n/**\n * Create membranes in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_membrane (enter_selection) {\n  var rect = enter_selection\n    .append('rect')\n    .attr('class', 'membrane')\n\n  this.callback_manager.run('create_membrane', this, enter_selection)\n\n  return rect\n}\n\n/**\n * Update the membrane\n */\nfunction update_membrane (update_selection) {\n  update_selection\n    .attr('width', function(d){ return d.width; })\n    .attr('height', function(d){ return d.height; })\n    .attr('transform', function(d){return 'translate('+d.x+','+d.y+')';})\n    .style('stroke-width', function(d) { return 10; })\n    .attr('rx', function(d){ return 20; })\n    .attr('ry', function(d){ return 20; })\n\n  this.callback_manager.run('update_membrane', this, update_selection)\n}\n\n/**\n * Create reactions in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_reaction (enter_selection) {\n  // attributes for new reaction group\n  var group = enter_selection.append('g')\n    .attr('id', function (d) { return 'r' + d.reaction_id })\n    .attr('class', 'reaction')\n  this.create_reaction_label(group)\n\n  this.callback_manager.run('create_reaction', this, enter_selection)\n\n  return group\n}\n\n/**\n * Run on the update selection for reactions.\n * update_selection: The D3.js update selection.\n * scale: A Scale object.\n * cobra_model: A CobraModel object.\n * drawn_nodes: The nodes object (e.g. Map.nodes).\n * defs: The defs object generated by utils.setup_defs() (e.g. Map.defs).\n * has_data_on_reactions: Boolean to determine whether data needs to be drawn.\n */\nfunction update_reaction (update_selection, scale, cobra_model, drawn_nodes,\n                          defs, has_data_on_reactions) {\n  // Update reaction label\n  update_selection.select('.reaction-label-group')\n    .call(function(sel) {\n      return this.update_reaction_label(sel, has_data_on_reactions)\n    }.bind(this))\n\n  // draw segments\n  utils.draw_a_nested_object(update_selection, '.segment-group', 'segments', 'segment_id',\n                             this.create_segment.bind(this),\n                             function(sel) {\n                               return this.update_segment(sel, scale, cobra_model,\n                                                          drawn_nodes, defs,\n                                                          has_data_on_reactions)\n                             }.bind(this),\n                             function(sel) {\n                               sel.remove()\n                             })\n\n  // run the callback\n  this.callback_manager.run('update_reaction', this, update_selection)\n}\n\n/**\n * Draw reaction labels in the enter selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_reaction_label (enter_selection, tool) {\n  var group = enter_selection\n    .append('g')\n    .attr('class', 'reaction-label-group')\n  group.append('text').attr('class', 'reaction-label label')\n  group.append('g').attr('class', 'all-genes-label-group')\n\n  this.callback_manager.run('create_reaction_label', this, enter_selection)\n\n  return group\n}\n\n/**\n * Run on the update selection for reaction labels.\n * @param {D3 Selection} update_selection - The D3.js update selection.\n * @param {Boolean} has_data_on_reactions - Whether data needs to be drawn.\n */\nfunction update_reaction_label (update_selection, has_data_on_reactions) {\n  const decimal_format = d3_format('.4g')\n  const identifiers_on_map = this.settings.get('identifiers_on_map')\n  const reaction_data_styles = this.settings.get('reaction_styles')\n  const show_gene_reaction_rules = this.settings.get('show_gene_reaction_rules')\n  const hide_all_labels = this.settings.get('hide_all_labels')\n  const gene_font_size = this.settings.get('gene_font_size')\n  // hide_no_data_reaction should only work when there is data on reactions\n  const hide_no_data_reaction = has_data_on_reactions && this.settings.get('hide_no_data_reaction')\n  const reactionLabelMouseover = this.behavior.reactionLabelMouseover\n  const reactionLabelMouseout = this.behavior.reactionLabelMouseout\n  const reactionLabelTouch = this.behavior.reactionLabelTouch\n  const geneLabelMouseover = this.behavior.geneLabelMouseover\n  const geneLabelMouseout = this.behavior.geneLabelMouseout\n  const geneLabelTouch = this.behavior.geneLabelTouch\n\n  // label location\n  update_selection\n    .attr('transform', function(d) {\n      return 'translate(' + d.label_x + ',' + d.label_y + ')'\n    })\n    .call(this.behavior.turnOffDrag)\n    .call(this.behavior.reactionLabelDrag)\n\n  // update label visibility\n  var label = update_selection.select('.reaction-label')\n    .attr('visibility', (d) => {\n      // hide all labels or the reaction has no data when already loaded the reaction data\n      if (!d.data && hide_no_data_reaction || hide_all_labels) {\n        return 'hidden'\n      }\n      return null\n    })\n\n  if (!hide_all_labels) {\n    label\n      .text(function (d) {\n        var t = d[identifiers_on_map]\n        if (has_data_on_reactions &&\n            reaction_data_styles.indexOf('text') !== -1) {\n          t += ' ' + d.data_string\n        }\n        return t\n      })\n      .on('mouseover', reactionLabelMouseover)\n      .on('mouseout', reactionLabelMouseout)\n      .on('touchend', reactionLabelTouch)\n  }\n\n  var add_gene_height = function (y, i) {\n    return y + (gene_font_size * 1.5 * (i + 1))\n  }\n\n  // gene label\n  var all_genes_g = update_selection.select('.all-genes-label-group')\n    .selectAll('.gene-label-group')\n    .data(function (d) {\n      var show_gene_string = ('gene_string' in d &&\n                              d.gene_string !== null &&\n                              show_gene_reaction_rules &&\n                              (!hide_all_labels) &&\n                              reaction_data_styles.indexOf('text') !== -1)\n      var show_gene_reaction_rule = ('gene_reaction_rule' in d &&\n                                     d.gene_reaction_rule !== null &&\n                                     show_gene_reaction_rules &&\n                                     (!hide_all_labels))\n      if (show_gene_string) {\n        // TODO do we ever use gene_string?\n        console.warn('Showing gene_string. See TODO in source.')\n        return d.gene_string\n      } else if (show_gene_reaction_rule) {\n        // make the gene string with no data\n        var sd = dataStyles.gene_string_for_data(d.gene_reaction_rule, null,\n                                                  d.genes, null,\n                                                  identifiers_on_map, null)\n        // add coords for tooltip\n        sd.forEach(function (td, i) {\n          td.label_x = d.label_x\n          td.label_y = add_gene_height(d.label_y, i)\n        })\n        return sd\n      } else {\n        return []\n      }\n    })\n\n  // enter\n  var gene_g = all_genes_g.enter()\n    .append('g')\n    .attr('class', 'gene-label-group')\n  gene_g.append('text')\n    .attr('class', 'gene-label')\n    .style('font-size', gene_font_size + 'px')\n\n  // update\n  var gene_update = gene_g.merge(all_genes_g)\n  gene_update.attr('transform', function (d, i) {\n    return 'translate(0, ' + add_gene_height(0, i) + ')'\n  })\n  // update text\n  gene_update\n    .select('text')\n    .text(d => d.text)\n    .on('mouseover', geneLabelMouseover)\n    .on('mouseout', geneLabelMouseout)\n    .on('touchend', geneLabelTouch)\n\n  // exit\n  all_genes_g.exit().remove()\n\n  this.callback_manager.run('update_reaction_label', this, update_selection)\n}\n\n/**\n * Create segments in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_segment (enter_selection) {\n  // create segments\n  var g = enter_selection\n      .append('g')\n    .attr('class', 'segment-group')\n    .attr('id', function (d) { return 's' + d.segment_id })\n\n  // create reaction arrow\n  g.append('path')\n    .attr('class', 'segment')\n\n  g.append('g')\n    .attr('class', 'arrowheads')\n\n  g.append('g')\n    .attr('class', 'stoichiometry-labels')\n\n  this.callback_manager.run('create_segment', this, enter_selection)\n\n  return g\n}\n\n/**\n * Update segments in update selection.\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @param {} -\n * @return {}\n */\nfunction update_segment (update_selection, scale, cobra_model,\n                         drawn_nodes, defs, has_data_on_reactions) {\n  let observer = null\n  // define the observer for the intersection to stop the animation when the element is not in the viewport\n  if (typeof IntersectionObserver !== 'undefined') {\n    // check if the browser supports IntersectionObserver\n    observer = new IntersectionObserver((entries) => {\n      utils.handle_animation(\n        entries,\n        observer,\n        this.settings,\n        has_data_on_reactions,\n        scale\n      );\n    }, { threshold: 0.1 });\n  }\n\n  const reaction_data_styles = this.settings.get('reaction_styles')\n  const should_size = (has_data_on_reactions && reaction_data_styles.indexOf('size') !== -1)\n  const should_color = (has_data_on_reactions && reaction_data_styles.indexOf('color') !== -1)\n  const no_data_size = this.settings.get('reaction_no_data_size')\n  const no_data_color = this.settings.get('reaction_no_data_color')\n  // hide_no_data_reaction should only work when there is data on reactions\n  const hide_no_data_reaction = has_data_on_reactions && this.settings.get('hide_no_data_reaction')\n  const _settings = this.settings\n\n  // update segment attributes\n  const highlight_missing  = this.settings.get('highlight_missing')\n  const hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n  const primary_r = this.settings.get('primary_metabolite_radius')\n  const secondary_r = this.settings.get('secondary_metabolite_radius')\n\n  const objectMouseover = this.behavior.reactionObjectMouseover\n  const objectMouseout = this.behavior.reactionObjectMouseout\n\n  const get_arrow_size = function (data, should_size) {\n    let width = 20\n    let height = 13\n    if (should_size) {\n      height = (data === null ? no_data_size : scale.reaction_size(data))\n      // check for nan\n      if (isNaN(height)) {\n        height = no_data_size\n      }\n      width = height * 2\n    }\n    return { width: width, height: height }\n  }\n  const get_disp = function (arrow_size, reversibility, coefficient, node_is_primary) {\n    var arrow_height = ((reversibility || coefficient > 0) ?\n                        arrow_size.height : 0)\n    var r = node_is_primary ? primary_r : secondary_r\n    return r + arrow_height + 10\n  }\n\n  // update color legends\n  utils.update_color_legends(scale.reaction_color, has_data_on_reactions)\n  // update arrows\n  update_selection\n    .selectAll('.segment')\n    .datum(function () {\n      // Concatenate the segment data with the reaction data from its parent node\n      return Object.assign({}, this.parentNode.__data__, this.parentNode.parentNode.__data__)\n    })\n    .style('visibility', function(d) {\n      var start = drawn_nodes[d.from_node_id]\n      var end = drawn_nodes[d.to_node_id]\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return 'hidden'\n      }\n      \n      // When the reaction data is loaded and the hide_no_data_reaction option is enabled, the segment is hidden if there is no data.\n      if (!d.data && hide_no_data_reaction) {\n        return 'hidden'\n      }\n\n      return null\n    })\n    .attr('d', function(d) {\n      if (d.from_node_id === null || d.to_node_id === null) {\n        return null\n      }\n      var start = drawn_nodes[d.from_node_id]\n      var end = drawn_nodes[d.to_node_id]\n      var b1 = d.b1\n      var b2 = d.b2\n      // if metabolite, then displace the arrow\n      if (start['node_type'] === 'metabolite') {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                            d.from_node_coefficient,\n                            start.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        start = displacedCoords(disp, start, direction, 'start')\n      }\n      if (end['node_type'] == 'metabolite') {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                            d.to_node_coefficient,\n                            end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        end = displacedCoords(disp, direction, end, 'end')\n      }\n      var curve = ('M' + start.x + ',' + start.y + ' ')\n      if (b1 !== null && b2 !== null) {\n        curve += ('C' + b1.x + ',' + b1.y + ' ' +\n                  b2.x + ',' + b2.y + ' ')\n      }\n      curve += (end.x + ',' + end.y)\n      return curve\n    })\n    .style('stroke-linecap', 'round')\n    .style('stroke', function(d) {\n      var reaction_id = this.parentNode.parentNode.__data__.bigg_id\n      var show_missing = (highlight_missing &&\n                          cobra_model !== null &&\n                          !(reaction_id in cobra_model.reactions))\n      if (show_missing) {\n        return 'red'\n      }\n      if (should_color) {\n        var f = d.data\n        return f === null ? no_data_color : scale.reaction_color(f)\n      }\n      return null\n    })\n    .style('stroke-width', function(d) {\n      if (should_size) {\n        var f = d.data\n        return f === null ? no_data_size : scale.reaction_size(f)\n      } else {\n        return null\n      }\n    })\n    .each(function (d, i, nodes) {\n      const node = nodes[0]\n      if (typeof IntersectionObserver !== 'undefined' && observer !== null) {\n        // make the intersection observer callback can be triggered by the redraw\n        utils.handle_animation(\n          [{target: node}],\n          observer,\n          _settings,\n          has_data_on_reactions,\n          scale\n        );\n        // observe the node\n        observer.observe(node);\n      }\n    })\n    .attr('pointer-events', 'visibleStroke')\n    .on('mouseover', objectMouseover)\n    .on('mouseout', objectMouseout)\n\n  // new arrowheads\n  var arrowheads = update_selection.select('.arrowheads')\n    .selectAll('.arrowhead')\n    .data(function (d) {\n      var arrowheads = []\n      var start = drawn_nodes[d.from_node_id]\n      var b1 = d.b1\n      var end = drawn_nodes[d.to_node_id]\n      var b2 = d.b2\n      // hide_secondary_metabolites option\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return arrowheads\n      }\n\n      if (start.node_type === 'metabolite' &&\n          (d.reversibility || d.from_node_coefficient > 0)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                        d.from_node_coefficient,\n                        start.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        var rotation = utils.to_degrees(utils.get_angle([ start, direction ])) + 90\n        var loc = displacedCoords(disp, start, direction, 'start')\n        arrowheads.push({\n          data: d.data,\n          x: loc.x,\n          y: loc.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.from_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      if (end.node_type === 'metabolite' &&\n          (d.reversibility || d.to_node_coefficient > 0)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = get_disp(arrow_size, d.reversibility,\n                        d.to_node_coefficient,\n                        end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        var rotation = utils.to_degrees(utils.get_angle([ end, direction ])) + 90\n        var loc = displacedCoords(disp, direction, end, 'end')\n        arrowheads.push({\n          data: d.data,\n          x: loc.x,\n          y: loc.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.to_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      if (d.unconnected_segment_with_arrow) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var direction = end\n        var rotation = utils.to_degrees(utils.get_angle([ start, direction ])) + 90\n        arrowheads.push({\n          data: d.data,\n          x: start.x,\n          y: start.y,\n          size: arrow_size,\n          rotation: rotation,\n          show_arrowhead_flux: (((d.to_node_coefficient < 0) === d.reverse_flux) || d.data === 0)\n        })\n      }\n\n      return arrowheads\n    })\n  arrowheads.enter().append('path')\n    .classed('arrowhead', true)\n  // update arrowheads\n    .merge(arrowheads)\n    .attr('d', function(d) {\n      return ('M' + [-d.size.width / 2, 0] +\n              ' L' + [0, d.size.height] +\n              ' L' + [d.size.width / 2, 0] + ' Z')\n    }).attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')rotate(' + d.rotation + ')'\n    }).style('fill', function(d) {\n      if (should_color) {\n        if (d.show_arrowhead_flux) {\n          // show the flux\n          var f = d.data\n          return f === null ? no_data_color : scale.reaction_color(f)\n        } else {\n          // if the arrowhead is not filled because it is reversed\n          return '#FFFFFF'\n        }\n      }\n      // default fill color\n      return null\n    }).style('stroke', function(d) {\n      if (should_color) {\n        // show the flux color in the stroke whether the fill is present\n        var f = d.data\n        return f===null ? no_data_color : scale.reaction_color(f)\n      }\n      // default stroke color\n      return null\n    }).style('visibility', function(d) {\n      // When the reaction data is loaded and the hide_no_data_reaction option is enabled, the arrowhead is hidden if there is no data.\n      if (!d.data && hide_no_data_reaction) {\n        return 'hidden'\n      }\n\n      return null\n    })\n  // remove\n  arrowheads.exit().remove()\n\n  // new stoichiometry labels\n  var stoichiometry_labels = update_selection.select('.stoichiometry-labels')\n    .selectAll('.stoichiometry-label')\n    .data(function (d) {\n      var labels = []\n      var start = drawn_nodes[d.from_node_id]\n      var b1 = d.b1\n      var end = drawn_nodes[d.to_node_id]\n      var b2 = d.b2\n      var disp_factor = 1.5\n\n      // hide_secondary_metabolites option\n      if (hide_secondary_metabolites &&\n          ((end['node_type']=='metabolite' && !end.node_is_primary) ||\n           (start['node_type']=='metabolite' && !start.node_is_primary))) {\n        return labels\n      }\n\n      if (start.node_type === 'metabolite' && (Math.abs(d.from_node_coefficient) != 1)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = disp_factor * get_disp(arrow_size, false, 0, end.node_is_primary)\n        var direction = (b1 === null) ? end : b1\n        direction = utils.c_plus_c(direction, utils.rotate_coords(direction, 0.5, start))\n        var loc = displacedCoords(disp, start, direction, 'start')\n        loc = utils.c_plus_c(loc, { x: 0, y: 7 })\n        labels.push({\n          coefficient: Math.abs(d.from_node_coefficient),\n          x: loc.x,\n          y: loc.y,\n          data: d.data,\n        })\n      }\n\n      if (end.node_type === 'metabolite' && (Math.abs(d.to_node_coefficient) !== 1)) {\n        var arrow_size = get_arrow_size(d.data, should_size)\n        var disp = disp_factor * get_disp(arrow_size, false, 0, end.node_is_primary)\n        var direction = (b2 === null) ? start : b2\n        direction = utils.c_plus_c(direction,\n                                   utils.rotate_coords(direction, 0.5, end))\n        var loc = displacedCoords(disp, direction, end, 'end')\n        loc = utils.c_plus_c(loc, { x: 0, y: 7 })\n        labels.push({\n          coefficient: Math.abs(d.to_node_coefficient),\n          x: loc.x,\n          y: loc.y,\n          data: d.data,\n        })\n      }\n      return labels\n    })\n\n  // add labels\n  stoichiometry_labels.enter()\n    .append('text')\n    .attr('class', 'stoichiometry-label')\n    .attr('text-anchor', 'middle')\n  // update stoichiometry_labels\n    .merge(stoichiometry_labels)\n    .attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .text(function(d) {\n      return d.coefficient\n    })\n    .style('fill', function (d) {\n      if (should_color) {\n        // show the flux color\n        var f = d.data\n        return f === null ? no_data_color : scale.reaction_color(f)\n      }\n      // default segment color\n      return null\n    })\n\n  // remove\n  stoichiometry_labels.exit().remove()\n\n  this.callback_manager.run('update_segment', this, update_selection)\n}\n\n/**\n * Create beziers in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_bezier (enter_selection) {\n  var g = enter_selection.append('g')\n    .attr('id', function (d) { return d.bezier_id })\n    .attr('class', function (d) { return 'bezier' })\n  g.append('path')\n    .attr('class', 'connect-line')\n  g.append('circle')\n    .attr('class', function (d) { return 'bezier-circle ' + d.bezier })\n    .style('stroke-width', String(1) + 'px')\n    .attr('r', String(7) + 'px')\n\n  this.callback_manager.run('create_bezier', this, enter_selection)\n\n  return g\n}\n\n/**\n * Update beziers in update_selection.\n */\nfunction update_bezier(update_selection, show_beziers, drag_behavior,\n                       mouseover, mouseout, drawn_nodes, drawn_reactions) {\n  var hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n\n  if (!show_beziers) {\n    update_selection.attr('visibility', 'hidden')\n    return\n  } else {\n    update_selection.attr('visibility', 'visible')\n  }\n\n  // hide secondary\n  update_selection\n    .style('visibility', function (d) {\n      var seg_data = drawn_reactions[d.reaction_id].segments[d.segment_id]\n      var start = drawn_nodes[seg_data.from_node_id]\n      var end = drawn_nodes[seg_data.to_node_id]\n      if (hide_secondary_metabolites &&\n          ((end['node_type'] === 'metabolite' && !end.node_is_primary) ||\n           (start['node_type'] === 'metabolite' && !start.node_is_primary))) {\n        return 'hidden'\n      }\n      return null\n    })\n\n  // Draw bezier points\n  update_selection.select('.bezier-circle')\n    .call(this.behavior.turnOffDrag)\n    .call(drag_behavior)\n    .on('mouseover', mouseover)\n    .on('mouseout', mouseout)\n    .attr('transform', function (d) {\n      if (d.x === null || d.y === null) return ''\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n\n  // Update bezier line\n  update_selection\n    .select('.connect-line')\n    .attr('d', function (d) {\n      var segment_d = drawn_reactions[d.reaction_id].segments[d.segment_id]\n      var node = d.bezier === 'b1'\n        ? drawn_nodes[segment_d.from_node_id]\n        : drawn_nodes[segment_d.to_node_id]\n      if (d.x === null || d.y === null || node.x === null || node.y === null) {\n        return ''\n      }\n      return 'M' + d.x + ', ' + d.y + ' ' + node.x + ',' + node.y\n    })\n\n  this.callback_manager.run('update_bezier', this, update_selection)\n}\n\n/**\n * Create nodes in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @param {} drawn_nodes - The nodes object (e.g. Map.nodes).\n * @param {} drawn_reactions - The reactions object (e.g. Map.reactions).\n * @returns {} The selection of the new nodes.\n */\nfunction create_node (enter_selection, drawn_nodes, drawn_reactions) {\n  // create nodes\n  var g = enter_selection\n      .append('g')\n      .attr('class', 'node')\n      .attr('id', function (d) { return 'n' + d.node_id })\n\n  // create metabolite circle and label\n  g.append('circle')\n    .attr('class', function (d) {\n      var c = 'node-circle'\n      if (d.node_type !== null)\n        c += (' ' + d.node_type + '-circle')\n      return c\n    })\n\n  // labels\n  var metabolite_groups = g.filter(function (d) {\n    return d.node_type === 'metabolite'\n  })\n\n  metabolite_groups.append('text')\n    .attr('class', 'node-label label')\n\n  this.callback_manager.run('create_node', this, enter_selection)\n\n  return g\n}\n\n/**\n * Run on the update selection for nodes.\n * @param {D3 Selection} update_selection - The D3.js update selection.\n * @param {Scale} scale - A Scale object.\n * @param {Boolean} has_data_on_nodes - Boolean to determine whether data needs to be drawn.\n * @param {Function} mousedown_fn - A function to call on mousedown for a node.\n * @param {Function} click_fn - A function to call on click for a node.\n * @param {Function} mouseover_fn - A function to call on mouseover for a node.\n * @param {Function} mouseout_fn - A function to call on mouseout for a node.\n * @param {D3 Behavior} drag_behavior - The D3.js drag behavior object for the nodes.\n * @param {D3 Behavior} label_drag_behavior - The D3.js drag behavior object for the node labels.\n */\nfunction update_node (update_selection, scale, has_data_on_nodes,\n                      mousedown_fn, click_fn, mouseover_fn, mouseout_fn,\n                      drag_behavior, label_drag_behavior) {\n  // update circle and label location\n  var hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n  var primary_r = this.settings.get('primary_metabolite_radius')\n  var secondary_r = this.settings.get('secondary_metabolite_radius')\n  var marker_r = this.settings.get('marker_radius')\n  var hide_all_labels = this.settings.get('hide_all_labels')\n  var identifiers_on_map = this.settings.get('identifiers_on_map')\n  var metabolite_data_styles = this.settings.get('metabolite_styles')\n  var no_data_style = { color: this.settings.get('metabolite_no_data_color'),\n                        size: this.settings.get('metabolite_no_data_size') }\n  \n  // for the hide_no_data_reaction option\n  const hide_no_data_reaction = this.map.has_data_on_reactions && this.settings.get('hide_no_data_reaction')\n  const all_reactions_obj = this.map.reactions\n  \n  var labelMouseover = this.behavior.nodeLabelMouseover\n  var labelMouseout = this.behavior.nodeLabelMouseout\n  var labelTouch = this.behavior.nodeLabelTouch\n  var objectMouseover = this.behavior.nodeObjectMouseover\n  var objectMouseout = this.behavior.nodeObjectMouseout\n\n  var mg = update_selection\n      .select('.node-circle')\n    .attr('transform', function(d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .style('visibility', function(d) {\n      if (hideNode(d, hide_secondary_metabolites)) {\n        return 'hidden'\n      }\n      // When the reaction data is loaded and the hide_no_data_reaction option is enabled, the node is hidden if all the connected reactions have no data.\n      if (\n        hide_no_data_reaction\n        && IsAllRelatedReactionsNoData(d, all_reactions_obj)\n      ) {\n        return 'hidden'\n      }\n      return null\n    })\n    .attr('r', function(d) {\n      if (d.node_type === 'metabolite') {\n        var should_scale = (has_data_on_nodes &&\n                            metabolite_data_styles.indexOf('size') !== -1)\n        if (should_scale) {\n          var f = d.data\n          return f === null ? no_data_style['size'] : scale.metabolite_size(f)\n        } else {\n          return d.node_is_primary ? primary_r : secondary_r\n        }\n      }\n      // midmarkers and multimarkers\n      return marker_r\n    })\n    .style('fill', function(d) {\n      if (d.node_type === 'metabolite') {\n        var should_color_data = (has_data_on_nodes &&\n                                 metabolite_data_styles.indexOf('color') !== -1)\n        if (should_color_data) {\n          var f = d.data\n          return f === null ? no_data_style['color'] : scale.metabolite_color(f)\n        } else {\n          return null\n        }\n      }\n      // midmarkers and multimarkers\n      return null\n    })\n    .call(this.behavior.turnOffDrag)\n    .call(drag_behavior)\n    .on('mousedown', mousedown_fn)\n    .on('click', click_fn)\n    .on('mouseover', objectMouseover)\n    .on('mouseout', objectMouseout)\n\n  // update node label visibility\n  var node_label = update_selection\n      .select('.node-label')\n      .attr('visibility', hide_all_labels ? 'hidden' : 'visible')\n  if (!hide_all_labels) {\n    node_label\n      .style('visibility', function(d) {\n        if (hideNode(d, hide_secondary_metabolites)) {\n          return 'hidden'\n        }\n        // When the reaction data is loaded and the hide_no_data_reaction option is enabled, the node label is hidden if all the connected reactions have no data.\n        if (\n          hide_no_data_reaction\n          && IsAllRelatedReactionsNoData(d, all_reactions_obj)\n        ) {\n          return 'hidden'\n        }\n        return null\n      })\n      .attr('transform', function(d) {\n        return 'translate(' + d.label_x + ',' + d.label_y + ')'\n      })\n      .text(function(d) {\n        var t = d[identifiers_on_map]\n        if (has_data_on_nodes && metabolite_data_styles.indexOf('text') !== -1)\n          t += ' ' + d.data_string\n        return t\n      })\n      .call(this.behavior.turnOffDrag)\n      .call(label_drag_behavior)\n      .on('mouseover', labelMouseover)\n      .on('mouseout', labelMouseout)\n      .on('touchend', labelTouch)\n  }\n\n  this.callback_manager.run('update_node', this, update_selection)\n\n  function hideNode (d, hide_secondary_metabolites) {\n    return (d.node_type === 'metabolite' &&\n            hide_secondary_metabolites &&\n            !d.node_is_primary)\n  }\n\n  // Get if all the related reactions have no data\n  function IsAllRelatedReactionsNoData(d, all_reactions_obj) {\n    const all_reaction_ids = d.connected_segments.map(s => s.reaction_id)\n    let noData = true\n    all_reaction_ids.forEach(reaction_id => {\n      if (all_reactions_obj[reaction_id].data) {\n        noData = false\n      }\n    })\n    return noData\n  }\n}\n\n/**\n * Create text labels in the enter_selection.\n * @param {} enter_selection - The D3 enter selection.\n * @returns {} The selection of the new nodes.\n */\nfunction create_text_label (enter_selection) {\n  var g = enter_selection.append('g')\n      .attr('id', function (d) { return 'l' + d.text_label_id })\n      .attr('class', 'text-label')\n  g.append('text')\n    .attr('class', 'label')\n\n  this.callback_manager.run('create_text_label', this, enter_selection)\n\n  return g\n}\n\nfunction update_text_label (update_selection) {\n  const mousedown = this.behavior.textLabelMousedown\n  const click = this.behavior.textLabelClick\n  const turnOffDrag = this.behavior.turnOffDrag\n  const drag = this.behavior.selectableDrag\n\n  update_selection\n    .select('.label')\n    .text(function (d) { return d.text })\n    .attr('transform', function (d) {\n      return 'translate(' + d.x + ',' + d.y + ')'\n    })\n    .on('mousedown', mousedown)\n    .on('click', click)\n    .call(turnOffDrag)\n    .call(drag)\n\n  this.callback_manager.run('update_text_label', this, update_selection)\n}\n\nfunction displacedCoords (reactionArrowDisplacement, start, end, displace) {\n  const length = reactionArrowDisplacement\n  const hyp = utils.distance(start, end)\n  if (!length || !hyp) {\n    console.warn('No space for displacement')\n    return { x: start.x, y: start.y }\n  }\n  if (displace === 'start') {\n    return {\n      x: start.x + length * (end.x - start.x) / hyp,\n      y: start.y + length * (end.y - start.y) / hyp\n    }\n  } else if (displace === 'end') {\n    return {\n      x: end.x - length * (end.x - start.x) / hyp,\n      y: end.y - length * (end.y - start.y) / hyp\n    }\n  } else {\n    console.error('bad displace value: ' + displace)\n  }\n}\n\nexport default Draw","/**\n * Functions for building new reactions.\n */\n\nimport utils from './utils'\nimport _ from 'underscore'\n\nfunction getLabelLoc (angle) {\n  if (Math.abs(angle) > Math.PI) {\n    throw new Error('Angle must be between -PI and PI')\n  }\n  if (Math.abs(angle) < Math.PI / 7 || Math.abs(angle - Math.PI) < Math.PI / 7) {\n    // Close to 0 or PI\n    return { x: -50, y: -40 }\n  } else if (angle > 0) {\n    // Bottom quadrants\n    return {\n      x: 15 * (1 - (Math.abs(angle - Math.PI / 2)) / (Math.PI / 2)),\n      y: 10 + (angle - Math.PI / 2) * 50\n    }\n  } else {\n    // Top quadrants\n    return {\n      x: 15 * (1 - (Math.abs(angle + Math.PI / 2)) / (Math.PI / 2)),\n      y: 10 - (Math.abs(angle) - Math.PI / 2) * 50\n    }\n  }\n}\n\n/**\n * Get the location for a new metabolite label.\n * @param angleRaw - angle in radians\n * @param index\n * @param count\n * @param isPrimary\n * @param biggId\n * @param primaryIndex\n */\nexport function getMetLabelLoc (angleRaw, index, count, isPrimary, biggId,\n                                primaryIndex) {\n  const angle = utils.angleNorm(angleRaw)\n  const width = biggId.length * 18\n  const leftRight = (index - (index > primaryIndex) - (count / 2)) >= -1\n  if (Math.abs(angle) < Math.PI / 7) {\n    // Close to 0\n    if (isPrimary || leftRight) {\n      // Primary or bottom\n      return { x: -width * 0.3, y: 40 }\n    } else {\n      // Top\n      return { x: -width * 0.3, y: -20 }\n    }\n  } else if (Math.abs(angle - Math.PI) < Math.PI / 7) {\n    // Close to PI\n    if (isPrimary || !leftRight) {\n      // Primary or bottom\n      return { x: -width * 0.3, y: 40 }\n    } else {\n      // Top\n      return { x: -width * 0.3, y: -20 }\n    }\n  } else {\n    if (isPrimary) {\n      // Primary\n      return {\n        x: 25 - 38 * Math.abs(Math.abs(angle) - Math.PI / 2),\n        y: (Math.abs(angle) - Math.PI / 2) * ((angle > 0) * 2 - 1) * 50\n      }\n    } else if ((angle < 0 && leftRight) || (angle > 0 && !leftRight)) {\n      // Right\n      return { x: 15, y: 0 }\n    } else {\n      // Left\n      return { x: -width * 0.5, y: 30 }\n    }\n  }\n}\n\n/**\n * New reaction.\n * @param {Number} direction - clockwise from 'right', in degrees.\n */\nexport function newReaction (biggId, cobraReaction, cobraMetabolites,\n                             selectedNodeId, selectedNode, largestIds,\n                             cofactors, direction) {\n  // Convert to radians, and force to domain - PI/2 to PI/2\n  const angle = utils.to_radians_norm(direction)\n\n  // Generate a new integer id\n  const newReactionId = String(++largestIds.reactions)\n\n  // Calculate coordinates of reaction\n  const selectedNodeCoords = { x: selectedNode.x, y: selectedNode.y }\n\n  // Rotate main axis around angle with distance\n  const reactionLength = 350\n  const mainAxis = [\n    selectedNodeCoords,\n    utils.c_plus_c(selectedNodeCoords, { x: reactionLength, y: 0 })\n  ]\n  const center = {\n    x: (mainAxis[0].x + mainAxis[1].x) / 2,\n    y: (mainAxis[0].y + mainAxis[1].y) / 2\n  }\n\n  // Relative label location\n  const labelD = getLabelLoc(angle)\n\n  // Relative anchor node distance\n  const anchorDistance = 20\n\n  // New reaction structure\n  const newReaction = {\n    name: cobraReaction.name,\n    bigg_id: cobraReaction.bigg_id,\n    reversibility: cobraReaction.reversibility,\n    gene_reaction_rule: cobraReaction.gene_reaction_rule,\n    genes: utils.clone(cobraReaction.genes),\n    metabolites: utils.clone(cobraReaction.metabolites)\n  }\n  utils.extend(newReaction, {\n    label_x: center.x + labelD.x,\n    label_y: center.y + labelD.y,\n    segments: {}\n  })\n\n  // Set primary metabolites and count reactants/products\n\n  // Look for the selected metabolite, and record the indices\n  const reactantRanks = []\n  const productRanks = []\n  let reactantCount = 0\n  let productCount = 0\n  let reactionIsReversed = false\n  for (let metBiggId in newReaction.metabolites) {\n    // Make the metabolites into objects\n    const metabolite = cobraMetabolites[metBiggId]\n    const coefficient = newReaction.metabolites[metBiggId]\n    const formula = metabolite.formula\n    const newMetabolite = {\n      coefficient: coefficient,\n      bigg_id: metBiggId,\n      name: metabolite.name\n    }\n    if (coefficient < 0) {\n      newMetabolite.index = reactantCount\n      // score the metabolites. Infinity == selected, >= 1 == carbon containing\n      const carbons = /C([0-9]+)/.exec(formula)\n      if (selectedNode.bigg_id === newMetabolite.bigg_id) {\n        reactantRanks.push([ newMetabolite.index, Infinity ])\n      } else if (carbons && cofactors.indexOf(utils.decompartmentalize(newMetabolite.bigg_id)[0]) === -1) {\n        reactantRanks.push([ newMetabolite.index, parseInt(carbons[1]) ])\n      }\n      reactantCount++\n    } else {\n      newMetabolite.index = productCount\n      const carbons = /C([0-9]+)/.exec(formula)\n      if (selectedNode.bigg_id === newMetabolite.bigg_id) {\n        productRanks.push([ newMetabolite.index, Infinity ])\n        reactionIsReversed = true\n      } else if (carbons && cofactors.indexOf(utils.decompartmentalize(newMetabolite.bigg_id)[0]) === -1) {\n        productRanks.push([ newMetabolite.index, parseInt(carbons[1]) ])\n      }\n      productCount++\n    }\n    newReaction.metabolites[metBiggId] = newMetabolite\n  }\n\n  // get the rank with the highest score\n  const maxRank = (old, current) => current[1] > old[1] ? current : old\n  const primaryReactantIndex = reactantRanks.reduce(maxRank, [ 0, 0 ])[0]\n  const primaryProductIndex = productRanks.reduce(maxRank, [ 0, 0 ])[0]\n\n  // set primary metabolites, and keep track of the total counts\n  for (let metBiggId in newReaction.metabolites) {\n    const metabolite = newReaction.metabolites[metBiggId]\n    if (metabolite.coefficient < 0) {\n      metabolite.is_primary = metabolite.index === primaryReactantIndex\n      metabolite.count = reactantCount\n    } else {\n      metabolite.is_primary = metabolite.index === primaryProductIndex\n      metabolite.count = productCount\n    }\n  }\n\n  // generate anchor nodes\n  const newAnchors = {}\n  const anchors = [\n    {\n      node_type: 'anchor_reactants',\n      dis: { x: anchorDistance * (reactionIsReversed ? 1 : -1), y: 0 }\n    },\n    { node_type: 'center', dis: { x: 0, y: 0 } },\n    {\n      node_type: 'anchor_products',\n      dis: { x: anchorDistance * (reactionIsReversed ? -1 : 1), y: 0 }\n    }\n  ]\n  const anchorIds = {}\n  anchors.map(n => {\n    const newId = String(++largestIds.nodes)\n    const generalNodeType = n.node_type === 'center' ? 'midmarker' : 'multimarker'\n    newAnchors[newId] = {\n      node_type: generalNodeType,\n      x: center.x + n.dis.x,\n      y: center.y + n.dis.y,\n      connected_segments: [],\n      name: null,\n      bigg_id: null,\n      label_x: null,\n      label_y: null,\n      node_is_primary: null,\n      data: null\n    }\n    anchorIds[n.node_type] = newId\n  })\n\n  // add the segments, outside to inside\n  const newAnchorGroups = [\n    [ anchorIds['anchor_reactants'], anchorIds['center'], 'reactants' ],\n    [ anchorIds['anchor_products'], anchorIds['center'], 'products' ]\n  ]\n  newAnchorGroups.map(l => {\n    // The flux flow is from reactants to products\n    const fromId = l[2] === 'products' ? l[0] : l[1]\n    const toId = l[2] === 'products' ? l[1] : l[0]\n    const newSegmentId = String(++largestIds.segments)\n    const unconnectedSeg = (\n      (reactantCount === 0 && l[2] === 'reactants' && newReaction.reversibility) ||\n      (productCount === 0 && l[2] === 'products')\n    )\n    newReaction.segments[newSegmentId] = {\n      b1: null,\n      b2: null,\n      from_node_id: fromId,\n      to_node_id: toId,\n      from_node_coefficient: null,\n      to_node_coefficient: null,\n      reversibility: newReaction.reversibility,\n      data: newReaction.data,\n      reverse_flux: newReaction.reverse_flux,\n      unconnected_segment_with_arrow: unconnectedSeg\n    }\n    newAnchors[fromId].connected_segments.push({\n      segment_id: newSegmentId,\n      reaction_id: newReactionId\n    })\n    newAnchors[toId].connected_segments.push({\n      segment_id: newSegmentId,\n      reaction_id: newReactionId\n    })\n  })\n\n  // Add the metabolites, keeping track of total reactants and products.\n  const newNodes = newAnchors\n  for (let metBiggId in newReaction.metabolites) {\n    const metabolite = newReaction.metabolites[metBiggId]\n    let primaryIndex\n    let fromNodeId\n    if (metabolite.coefficient < 0) {\n      primaryIndex = primaryReactantIndex\n      fromNodeId = anchorIds['anchor_reactants']\n    } else {\n      primaryIndex = primaryProductIndex\n      fromNodeId = anchorIds['anchor_products']\n    }\n\n    // calculate coordinates of metabolite components\n    const metLoc = calculateNewMetaboliteCoordinates(\n      metabolite,\n      primaryIndex,\n      mainAxis,\n      center,\n      reactionLength,\n      reactionIsReversed\n    )\n\n    // if this is the existing metabolite\n    if (selectedNode.bigg_id === metabolite.bigg_id) {\n      const newSegmentId = String(++largestIds.segments)\n      // if the selected node is a reactant, then the selected node is the 'from' node, cause the flux flows reactants -> products, vice versa.\n      const [_fromNodeId, _toNodeId] = metabolite.coefficient > 0 ? [ fromNodeId, selectedNodeId ] : [ selectedNodeId, fromNodeId ]\n      const [from_node_coefficient, to_node_coefficient] = metabolite.coefficient > 0 ? [ null, metabolite.coefficient ] : [ metabolite.coefficient, null ]\n      newReaction.segments[newSegmentId] = {\n        b1: metLoc.b1,\n        b2: metLoc.b2,\n        from_node_id: _fromNodeId,\n        to_node_id: _toNodeId,\n        from_node_coefficient,\n        to_node_coefficient,\n        reversibility: newReaction.reversibility\n      }\n      // Update the existing node\n      selectedNode.connected_segments.push({\n        segment_id: newSegmentId,\n        reaction_id: newReactionId\n      })\n      newNodes[fromNodeId].connected_segments.push({\n        segment_id: newSegmentId,\n        reaction_id: newReactionId\n      })\n    } else {\n      // save new metabolite\n      const newSegmentId = String(++largestIds.segments)\n      const newNodeId = String(++largestIds.nodes)\n      // if the selected node is a reactant, then the selected node is the 'from' node, cause the flux flows reactants -> products, vice versa.\n      const [_fromNodeId, _toNodeId] = metabolite.coefficient > 0 ? [ fromNodeId, newNodeId ] : [ newNodeId, fromNodeId ]\n      const [from_node_coefficient, to_node_coefficient] = metabolite.coefficient > 0 ? [ null, metabolite.coefficient ] : [ metabolite.coefficient, null ]\n      newReaction.segments[newSegmentId] = {\n        b1: metLoc.b1,\n        b2: metLoc.b2,\n        from_node_id: _fromNodeId,\n        to_node_id: _toNodeId,\n        from_node_coefficient,\n        to_node_coefficient,\n        reversibility: newReaction.reversibility\n      }\n      // save new node\n      const metLabelD = getMetLabelLoc(\n        angle,\n        metabolite.index,\n        metabolite.count,\n        metabolite.is_primary,\n        metabolite.bigg_id,\n        primaryIndex\n      )\n      newNodes[newNodeId] = {\n        connected_segments: [ {\n          segment_id: newSegmentId,\n          reaction_id: newReactionId\n        } ],\n        x: metLoc.circle.x,\n        y: metLoc.circle.y,\n        node_is_primary: metabolite.is_primary,\n        label_x: metLoc.circle.x + metLabelD.x,\n        label_y: metLoc.circle.y + metLabelD.y,\n        name: metabolite.name,\n        bigg_id: metabolite.bigg_id,\n        node_type: 'metabolite'\n      }\n      newNodes[fromNodeId].connected_segments.push({\n        segment_id: newSegmentId,\n        reaction_id: newReactionId\n      })\n    }\n  }\n\n  // now take out the extra reaction details\n  const metabolitesArray = []\n  for (let biggId in newReaction.metabolites) {\n    metabolitesArray.push({\n      bigg_id: biggId,\n      coefficient: newReaction.metabolites[biggId].coefficient\n    })\n  }\n  newReaction.metabolites = metabolitesArray\n\n  // newReactions object\n  const newReactions = {}\n  newReactions[newReactionId] = newReaction\n\n  // new_beziers object\n  const newBeziers = newBeziersForReactions(newReactions)\n\n  // add the selected node for rotation, and return it as a new (updated) node\n  newNodes[selectedNodeId] = selectedNode\n  rotateNodes(newNodes, newReactions, newBeziers, angle, selectedNodeCoords)\n\n  return {\n    new_reactions: newReactions,\n    new_beziers: newBeziers,\n    new_nodes: newNodes\n  }\n}\n\n/**\n * Rotate the nodes around center.\n * @param selected_nodes - Nodes to rotate.\n * @param reactions - Only updates beziers for these reactions.\n * @param beziers - Also update the bezier points.\n * @param angle - Angle to rotate in radians.\n * @param center - Point to rotate around.\n */\nexport function rotateNodes (selectedNodes, reactions, beziers, angle, center) {\n  const rotateAround = coord => {\n    if (coord === null) {\n      return null\n    }\n    return utils.rotate_coords(coord, angle, center)\n  }\n\n  // recalculate: node\n  const updatedNodeIds = []\n  let updatedReactionIds = []\n  for (let nodeId in selectedNodes) {\n    const node = selectedNodes[nodeId]\n    // rotation distance\n    const displacement = rotateAround({ x: node.x, y: node.y })\n    // move the node\n    const updated = moveNodeAndLabels(node, reactions, displacement)\n    // move the bezier points\n    node.connected_segments.map(segmentObj => {\n      const reaction = reactions[segmentObj.reaction_id]\n      // If the reaction was not passed in the reactions argument, then ignore\n      if (reaction === undefined) return\n\n      // rotate the beziers\n      const segmentId = segmentObj.segment_id\n      const segment = reaction.segments[segmentId]\n      if (segment.to_node_id === nodeId && segment.b2) {\n        const displacement = rotateAround(segment.b2)\n        const bezId = bezierIdForSegmentId(segmentId, 'b2')\n        segment.b2 = utils.c_plus_c(segment.b2, displacement)\n        beziers[bezId].x = segment.b2.x\n        beziers[bezId].y = segment.b2.y\n      } else if (segment.from_node_id === nodeId && segment.b1) {\n        const displacement = rotateAround(segment.b1)\n        const bezId = bezierIdForSegmentId(segmentId, 'b1')\n        segment.b1 = utils.c_plus_c(segment.b1, displacement)\n        beziers[bezId].x = segment.b1.x\n        beziers[bezId].y = segment.b1.y\n      }\n    })\n\n    updatedReactionIds = utils.uniqueConcat([updatedReactionIds, updated.reaction_ids])\n    updatedNodeIds.push(nodeId)\n  }\n\n  return {\n    node_ids: updatedNodeIds,\n    reaction_ids: updatedReactionIds\n  }\n}\n\n/**\n * Move the node and its labels and beziers.\n */\nexport function moveNodeAndDependents (node, nodeId, reactions, beziers,\n                                       displacement) {\n  const updated = moveNodeAndLabels(node, reactions, displacement)\n\n  // move beziers\n  node.connected_segments.map(segmentObj => {\n    const reaction = reactions[segmentObj.reaction_id]\n    // If the reaction was not passed in the reactions argument, then ignore\n    if (_.isUndefined(reaction)) return\n\n    // Update beziers\n    const segmentId = segmentObj.segment_id\n    const segment = reaction.segments[segmentId]\n    const cs = [ [ 'b1', 'from_node_id' ], [ 'b2', 'to_node_id' ] ]\n    cs.forEach(c => {\n      const bez = c[0]\n      const node = c[1]\n      if (segment[node] === nodeId && segment[bez]) {\n        segment[bez] = utils.c_plus_c(segment[bez], displacement)\n        const tbez = beziers[bezierIdForSegmentId(segmentId, bez)]\n        tbez.x = segment[bez].x\n        tbez.y = segment[bez].y\n      }\n    })\n\n    // add to list of updated reaction ids if it isn't already there\n    if (updated.reaction_ids.indexOf(segmentObj.reaction_id) < 0) {\n      updated.reaction_ids.push(segmentObj.reaction_id)\n    }\n  })\n  return updated\n}\n\nfunction moveNodeAndLabels (node, reactions, displacement) {\n  node.x = node.x + displacement.x\n  node.y = node.y + displacement.y\n\n  // recalculate: node label\n  node.label_x = node.label_x + displacement.x\n  node.label_y = node.label_y + displacement.y\n\n  // recalculate: reaction label\n  const updatedReactionIds = []\n  node.connected_segments.map(segmentObj => {\n    const reaction = reactions[segmentObj.reaction_id]\n    // add to list of updated reaction ids if it isn't already there\n    if (updatedReactionIds.indexOf(segmentObj.reaction_id) < 0) {\n      updatedReactionIds.push(segmentObj.reaction_id)\n\n      // update reaction label (but only once per reaction\n      if (node.node_type === 'midmarker') {\n        reaction.label_x = reaction.label_x + displacement.x\n        reaction.label_y = reaction.label_y + displacement.y\n      }\n    }\n  })\n  return { reaction_ids: updatedReactionIds }\n}\n\n/**\n * Calculate the distance of mets from main reaction axis.\n * @param {Number} w - Scaling factor\n * @param {Number} draw_at_index - Index of metabolite\n * @param {Number} num_slots - Number of metabolites\n */\nfunction metIndexDisp (w, drawAtIndex, numSlots) {\n  const half = Math.floor(numSlots / 2)\n  return w * (drawAtIndex - half + (drawAtIndex >= half))\n}\n\nfunction metSecondaryDisp (secondaryW, secondaryDis, drawAtIndex, numSlots) {\n  const half = Math.floor(numSlots / 2)\n  return secondaryDis + Math.abs(drawAtIndex - half + (drawAtIndex >= half)) * secondaryW\n}\n\n/**\n * Calculate metabolite coordinates for a new reaction metabolite.\n */\nfunction calculateNewMetaboliteCoordinates (met, primaryIndex, mainAxis, center,\n                                            dis, isReversed) {\n  // new local coordinate system\n  const displacement = mainAxis[0]\n  mainAxis = [\n    utils.c_minus_c(mainAxis[0], displacement),\n    utils.c_minus_c(mainAxis[1], displacement)\n  ]\n  center = utils.c_minus_c(center, displacement)\n\n  // Curve parameters\n  const w = 80 // distance between reactants and between products\n  const b1Strength = 0.4\n  const b2Strength = 0.25\n  const w2 = w * 0.3 // bezier target poin\n  const secondaryDis = 50 // y distance of first secondary mets\n  const secondaryW = 20 // y distance of each other secondary met\n\n  // Secondary mets\n  const numSlots = met.count - 1\n\n  // Size and spacing for primary and secondary metabolites\n  let ds\n  let drawAtIndex\n  if (met.is_primary) { // primary\n    ds = 20\n  } else { // secondary\n    ds = 10\n    // don't use center slot\n    if (met.index > primaryIndex) drawAtIndex = met.index - 1\n    else drawAtIndex = met.index\n  }\n\n  const de = dis - ds // distance between ends of line axis\n  const reactionAxis = [ { x: ds, y: 0 }, { x: de, y: 0 } ]\n\n  // Define line parameters and axis.\n  // Begin with unrotated coordinate system. +y = Down, +x = Right.\n  let end\n  let circle\n  let b1\n  let b2\n\n  // Reactants\n  if (((met.coefficient < 0) !== isReversed) && met.is_primary) { // Ali == BADASS\n    end = {\n      x: reactionAxis[0].x,\n      y: reactionAxis[0].y\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[0].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[0].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[0].x,\n      y: mainAxis[0].y\n    }\n  } else if ((met.coefficient < 0) !== isReversed) {\n    end = {\n      x: reactionAxis[0].x + metSecondaryDisp(secondaryW, secondaryDis,\n                                                  drawAtIndex, numSlots),\n      y: reactionAxis[0].y + metIndexDisp(w2, drawAtIndex, numSlots)\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[0].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[0].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[0].x + metSecondaryDisp(secondaryW, secondaryDis, drawAtIndex, numSlots),\n      y: mainAxis[0].y + metIndexDisp(w, drawAtIndex, numSlots)\n    }\n  } else if (((met.coefficient > 0) !== isReversed) && met.is_primary) {        // products\n    end = {\n      x: reactionAxis[1].x,\n      y: reactionAxis[1].y\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[1].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[1].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[1].x,\n      y: mainAxis[1].y\n    }\n  } else if ((met.coefficient > 0) !== isReversed) {\n    end = {\n      x: reactionAxis[1].x - metSecondaryDisp(secondaryW, secondaryDis, drawAtIndex, numSlots),\n      y: reactionAxis[1].y + metIndexDisp(w2, drawAtIndex, numSlots)\n    }\n    b1 = {\n      x: center.x * (1 - b1Strength) + reactionAxis[1].x * b1Strength,\n      y: center.y * (1 - b1Strength) + reactionAxis[1].y * b1Strength\n    }\n    b2 = {\n      x: center.x * b2Strength + end.x * (1 - b2Strength),\n      y: center.y * b2Strength + end.y * (1 - b2Strength)\n    }\n    circle = {\n      x: mainAxis[1].x - metSecondaryDisp(secondaryW, secondaryDis, drawAtIndex, numSlots),\n      y: mainAxis[1].y + metIndexDisp(w, drawAtIndex, numSlots)\n    }\n  }\n\n  return {\n    b1: utils.c_plus_c(displacement, b1),\n    b2: utils.c_plus_c(displacement, b2),\n    circle: utils.c_plus_c(displacement, circle)\n  }\n}\n\nexport function newTextLabel (largestIds, text, coords) {\n  const newId = String(++largestIds.text_labels)\n  const newLabel = { text: text, x: coords.x, y: coords.y }\n  return { id: newId, label: newLabel }\n}\n\nexport function bezierIdForSegmentId (segmentId, bez) {\n  return segmentId + '_' + bez\n}\n\n/**\n * Return an array of beziers ids for the array of reaction ids.\n * @param {Object} reactions - A reactions object, e.g. a subset of\n * *escher.Map.reactions*.\n */\nexport function bezierIdsForReactionIds (reactions) {\n  const bezierIds = []\n  for (let reactionId in reactions) {\n    const reaction = reactions[reactionId]\n\n    for (let segmentId in reaction.segments) {\n      const segment = reaction.segments[segmentId]\n\n      const bezs = [ 'b1', 'b2' ]\n      bezs.forEach(function (bez) {\n        const segBez = segment[bez]\n        if (segBez !== null) {\n          bezierIds.push(bezierIdForSegmentId(segmentId, bez))\n        }\n      })\n    }\n  }\n  return bezierIds\n}\n\n/**\n * Return an object containing beziers for the segments object.\n * segments: A segments object, e.g. *escher.Map.segments*.\n * reaction_id: The reaction id for the segments.\n */\nexport function newBeziersForSegments (segments, reactionId) {\n  const beziers = {}\n  for (let segmentId in segments) {\n    const segment = segments[segmentId]\n\n    ;[ 'b1', 'b2' ].forEach(function (bez) {\n      const segBez = segment[bez]\n      if (segBez !== null) {\n        const bezierId = bezierIdForSegmentId(segmentId, bez)\n        beziers[bezierId] = {\n          bezier: bez,\n          x: segBez.x,\n          y: segBez.y,\n          reaction_id: reactionId,\n          segment_id: segmentId\n        }\n      }\n    })\n  }\n  return beziers\n}\n\n/**\n * Return an object containing beziers for the reactions object.\n * @param {Object} reactions - A reactions object, e.g. *escher.Map.reactions*.\n */\nexport function newBeziersForReactions (reactions) {\n  const beziers = {}\n  for (let reactionId in reactions) {\n    const reaction = reactions[reactionId]\n    const these = newBeziersForSegments(reaction.segments, reactionId)\n    utils.extend(beziers, these)\n  }\n  return beziers\n}\n","import utils from './utils'\nimport * as build from './build'\nimport { drag as d3Drag } from 'd3-drag'\nimport { select as d3Select, pointer as d3Pointer } from 'd3-selection'\n\n/**\n * Behavior. Defines the set of click and drag behaviors for the map, and keeps\n * track of which behaviors are activated.\n * @param map {Map} -\n * @param undoStack {UndoStack} -\n */\nexport default class Behavior {\n  constructor (map, undoStack) {\n    this.map = map\n    this.undoStack = undoStack\n\n    // make an empty function that can be called as a behavior and does nothing\n    this.emptyBehavior = () => {}\n\n    // rotation mode operates separately from the rest\n    this.rotationModeEnabled = false\n    this.rotationDrag = d3Drag()\n\n    // behaviors to be applied\n    this.selectableMousedown = null\n    this.textLabelMousedown = null\n    this.textLabelClick = null\n    this.selectableDrag = this.emptyBehavior\n\n    this.nodeLabelMouseover = null\n    this.nodeLabelTouch = null\n    this.nodeLabelMouseout = null\n    this.reactionLabelMouseover = null\n    this.reactionLabelTouch = null\n    this.reactionLabelMouseout = null\n    this.geneLabelMouseover = null\n    this.geneLabelTouch = null\n    this.geneLabelMouseout = null\n\n    this.nodeObjectMouseover = null\n    this.nodeObjectMouseout = null\n    this.reactionObjectMouseover = null\n    this.reactionObjectMouseout = null\n\n    this.bezierDrag = this.emptyBehavior\n    this.bezierMouseover = null\n    this.bezierMouseout = null\n    this.reactionLabelDrag = this.emptyBehavior\n    this.nodeLabelDrag = this.emptyBehavior\n    this.dragging = false\n  }\n\n  averageLocation (nodes) {\n    const xs = []\n    const ys = []\n    for (const nodeId in nodes) {\n      const node = nodes[nodeId]\n      if (node.x !== undefined) xs.push(node.x)\n      if (node.y !== undefined) ys.push(node.y)\n    }\n    return {\n      x: utils.mean(xs),\n      y: utils.mean(ys)\n    }\n  }\n\n  showCenter () {\n    const sel = this.map.sel.selectAll('#rotation-center').data([ 0 ])\n    const enterSel = sel.enter().append('g').attr('id', 'rotation-center')\n\n    enterSel.append('path').attr('d', 'M-32 0 L32 0')\n      .attr('class', 'rotation-center-line')\n    enterSel.append('path').attr('d', 'M0 -32 L0 32')\n      .attr('class', 'rotation-center-line')\n\n    const updateSel = enterSel.merge(sel)\n    let lastX, lastY\n    updateSel.attr('transform',\n                   'translate(' + this.center.x + ',' + this.center.y + ')')\n      .attr('visibility', 'visible')\n      .on('mouseover', function () {\n        const current = parseFloat(updateSel.selectAll('path').style('stroke-width'))\n        updateSel.selectAll('path').style('stroke-width', current * 2 + 'px')\n      })\n      .on('mouseout', function () {\n        updateSel.selectAll('path').style('stroke-width', null)\n      })\n      .call(d3Drag().on('start', (e) => {\n        lastX = e.x\n        lastY = e.y\n      }).on('drag', (e) => {\n        const cur = utils.d3_transform_catch(updateSel.attr('transform'))\n        const dx = e.x - lastX\n        lastX = e.x\n        const dy = e.y - lastY\n        lastY = e.y\n\n        const newLoc = [\n          dx + cur.translate[0],\n          dy + cur.translate[1]\n        ]\n        updateSel.attr('transform', 'translate(' + newLoc + ')')\n        this.center = { x: newLoc[0], y: newLoc[1] }\n      }))\n  }\n\n  hideCenter () {\n    this.map.sel.select('#rotation-center')\n      .attr('visibility', 'hidden')\n  }\n\n  /**\n   * Listen for rotation, and rotate selected nodes.\n   */\n  toggleRotationMode (onOff) {\n    if (onOff === undefined) {\n      this.rotationModeEnabled = !this.rotationModeEnabled\n    } else {\n      this.rotationModeEnabled = onOff\n    }\n\n    const selectionNode = this.map.sel.selectAll('.node-circle')\n    const selectionBackground = this.map.sel.selectAll('#canvas')\n\n    if (this.rotationModeEnabled) {\n      const selectedNodes = this.map.getSelectedNodes()\n      if (Object.keys(selectedNodes).length === 0) {\n        console.warn('No selected nodes')\n        return\n      }\n\n      // show center\n      this.center = this.averageLocation(selectedNodes)\n      this.showCenter()\n\n      // this.setStatus('Drag to rotate.')\n      const map = this.map\n      const selectedNodeIds = Object.keys(selectedNodes)\n      const reactions = this.map.reactions\n      const nodes = this.map.nodes\n      const beziers = this.map.beziers\n\n      const startFn = (e, d) => {\n        // silence other listeners\n        e.sourceEvent.stopPropagation()\n      }\n      const dragFn = (e, d, angle, totalAngle, center) => {\n        const updated = build.rotateNodes(selectedNodes, reactions,\n                                          beziers, angle, center)\n        map.draw_these_nodes(updated.node_ids)\n        map.draw_these_reactions(updated.reaction_ids)\n      }\n      const endFn = () => {}\n      const undoFn = (e, d, totalAngle, center) => {\n        // undo\n        const theseNodes = {}\n        selectedNodeIds.forEach(function (id) {\n          theseNodes[id] = nodes[id]\n        })\n        const updated = build.rotateNodes(theseNodes, reactions,\n                                          beziers, -totalAngle,\n                                          center)\n        map.draw_these_nodes(updated.node_ids)\n        map.draw_these_reactions(updated.reaction_ids)\n      }\n      const redoFn = (e, d, totalAngle, center) => {\n        // redo\n        const theseNodes = {}\n        selectedNodeIds.forEach(id => {\n          theseNodes[id] = nodes[id]\n        })\n        const updated = build.rotateNodes(theseNodes, reactions,\n                                          beziers, totalAngle,\n                                          center)\n        map.draw_these_nodes(updated.node_ids)\n        map.draw_these_reactions(updated.reaction_ids)\n      }\n      const centerFn = () => this.center\n      this.rotationDrag = this.getGenericAngularDrag(startFn, dragFn,\n                                                     endFn, undoFn,\n                                                     redoFn, centerFn,\n                                                     this.map.sel)\n      selectionBackground.call(this.rotationDrag)\n      this.selectableDrag = this.rotationDrag\n    } else {\n      // turn off all listeners\n      this.hideCenter()\n      selectionNode.on('mousedown.center', null)\n      selectionBackground.on('mousedown.center', null)\n      selectionBackground.on('mousedown.drag', null)\n      selectionBackground.on('touchstart.drag', null)\n      this.rotationDrag = null\n      this.selectableDrag = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the node click on or off. Pass in a boolean argument\n   * to set the on/off state.\n   */\n  toggleSelectableClick (onOff) {\n    if (onOff === undefined) {\n      onOff = this.selectableMousedown === null\n    }\n    if (onOff) {\n      const map = this.map\n      this.selectableMousedown = e => {\n        // stop propogation for the buildinput to work right\n        e.stopPropagation()\n        // this.parentNode.__data__.wasSelected = d3Select(this.parentNode).classed('selected')\n        // d3Select(this.parentNode).classed('selected', true)\n      }\n      this.selectableClick = function (e, d) {\n        // stop propogation for the buildinput to work right\n        e.stopPropagation()\n        // click suppressed. This DOES have en effect.\n        if (e.defaultPrevented) return\n        // turn off the temporary selection so select_selectable\n        // works. This is a bit of a hack.\n        // if (!this.parentNode.__data__.wasSelected)\n        //     d3Select(this.parentNode).classed('selected', false)\n        map.select_selectable(this, d, e.shiftKey)\n        // this.parentNode.__data__.wasSelected = false\n      }\n      this.nodeMouseover = function (d) {\n        d3Select(this).style('stroke-width', null)\n        const current = parseFloat(d3Select(this).style('stroke-width'))\n        if (!d3Select(this.parentNode).classed('selected')) {\n          d3Select(this).style('stroke-width', current * 3 + 'px')\n        }\n      }\n      this.nodeMouseout = function (d) {\n        d3Select(this).style('stroke-width', null)\n      }\n    } else {\n      this.selectableMousedown = null\n      this.selectableClick = null\n      this.nodeMouseover = null\n      this.nodeMouseout = null\n      this.map.sel.select('#nodes')\n        .selectAll('.node-circle').style('stroke-width', null)\n    }\n  }\n\n  /**\n   * With no argument, toggle the text edit on mousedown on/off. Pass in a boolean\n   * argument to set the on/off state. The backup state is equal to\n   * selectableMousedown.\n   */\n  toggleTextLabelEdit (onOff) {\n    if (onOff === undefined) {\n      onOff = this.textEditMousedown == null\n    }\n    if (onOff) {\n      const map = this.map\n      this.textLabelMousedown = function (e) {\n        if (e.defaultPrevented) {\n          return // mousedown suppressed\n        }\n        // run the callback\n        const coordsA = utils.d3_transform_catch(d3Select(this).attr('transform')).translate\n        const coords = { x: coordsA[0], y: coordsA[1] }\n        map.callback_manager.run('edit_text_label', null, d3Select(this), coords)\n        e.stopPropagation()\n      }\n      this.textLabelClick = null\n      this.map.sel.select('#text-labels')\n        .selectAll('.label')\n        .style('cursor', 'text')\n      // add the new-label listener\n      this.map.sel.on('mousedown.new_text_label', function (node, e) {\n        // silence other listeners\n        e.preventDefault()\n\n        const [x, y] = d3Pointer(e, node)\n        const coords = {\n          x,\n          y\n        }\n        this.map.callback_manager.run('new_text_label', null, coords)\n      }.bind(this, this.map.sel.node()))\n    } else {\n      this.textLabelMousedown = this.selectableMousedown\n      this.textLabelClick = this.selectableClick\n      this.map.sel.select('#text-labels')\n        .selectAll('.label')\n        .style('cursor', null)\n      // remove the new-label listener\n      this.map.sel.on('mousedown.new_text_label', null)\n      this.map.callback_manager.run('hide_text_label_editor')\n    }\n  }\n\n  /**\n   * With no argument, toggle the node drag & bezier drag on or off. Pass in a\n   * boolean argument to set the on/off state.\n   */\n  toggleSelectableDrag (onOff) {\n    if (onOff === undefined) {\n      onOff = this.selectableDrag === this.emptyBehavior\n    }\n    if (onOff) {\n      this.selectableDrag = this.getSelectableDrag(this.map, this.undoStack)\n      this.bezierDrag = this.getBezierDrag(this.map, this.undoStack)\n    } else {\n      this.selectableDrag = this.emptyBehavior\n      this.bezierDrag = this.emptyBehavior\n    }\n  }\n\n  /**\n   * With no argument, toggle the label drag on or off. Pass in a boolean argument\n   * to set the on/off state.\n   * @param {Boolean} onOff - The new on/off state.\n   */\n  toggleLabelDrag (onOff) {\n    if (onOff === undefined) {\n      onOff = this.labelDrag === this.emptyBehavior\n    }\n    if (onOff) {\n      this.reactionLabelDrag = this.getReactionLabelDrag(this.map)\n      this.nodeLabelDrag = this.getNodeLabelDrag(this.map)\n    } else {\n      this.reactionLabelDrag = this.emptyBehavior\n      this.nodeLabelDrag = this.emptyBehavior\n    }\n  }\n\n  /**\n   * With no argument, toggle the tooltips on mouseover labels.\n   * @param {Boolean} onOff - The new on/off state.\n   */\n  toggleLabelMouseover (onOff) {\n    if (onOff === undefined) {\n      onOff = this.nodeLabelMouseover === null\n    }\n\n    if (onOff) {\n      // Show/hide tooltip.\n      // @param {String} type - 'reactionLabel' or 'nodeLabel'\n      // @param {Object} d - D3 data for DOM element\n      const getMouseover = type => (e, d) => {\n        if (!this.dragging) {\n          this.map.callback_manager.run('show_tooltip', null, type, d)\n        }\n      }\n      const mouseout = () => {\n        this.map.callback_manager.run('delay_hide_tooltip')\n      }\n      this.nodeLabelMouseover = getMouseover('node_label')\n      this.nodeLabelTouch = getMouseover('node_label')\n      this.nodeLabelMouseout = mouseout\n      this.reactionLabelMouseover = getMouseover('reaction_label')\n      this.reactionLabelTouch = getMouseover('reaction_label')\n      this.reactionLabelMouseout = mouseout\n      this.geneLabelMouseover = getMouseover('gene_label')\n      this.geneLabelTouch = getMouseover('gene_label')\n      this.geneLabelMouseout = mouseout\n    } else {\n      this.nodeLabelMouseover = null\n      this.nodeLabelTouch = null\n      this.nodeLabelMouseout = null\n      this.reactionLabelMouseover = null\n      this.reactionLabelTouch = null\n      this.reactionLabelMouseout = null\n      this.geneLabelMouseover = null\n      this.geneLabelTouch = null\n      this.geneLabelMouseout = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the tooltips on mouseover of nodes or arrows.\n   * @param {Boolean} onOff - The new on/off state.\n   */\n  toggleObjectMouseover (onOff) {\n    if (onOff === undefined) {\n      onOff = this.nodeObjectMouseover === null\n    }\n\n    if (onOff) {\n      // Show/hide tooltip.\n      // @param {String} type - 'reaction_object' or 'node_object'\n      // @param {Object} d - D3 data for DOM element\n      const getMouseover = type => {\n        const behavior = this\n        return function (e, d) {\n          if (!behavior.dragging) {\n            const [x, y] = d3Pointer(e, d)\n            if (type === 'reaction_object') {\n              // Add the current mouse position to the segment's datum\n              const newD = Object.assign(\n                {}, d, { xPos: x, yPos: y }\n              )\n              behavior.map.callback_manager.run('show_tooltip', null, type, newD)\n            } else {\n              behavior.map.callback_manager.run('show_tooltip', null, type, d)\n            }\n          }\n        }\n      }\n      const mouseout = () => {\n        this.map.callback_manager.run('delay_hide_tooltip')\n      }\n      this.nodeObjectMouseover = getMouseover('node_object')\n      this.nodeObjectMouseout = mouseout\n      this.reactionObjectMouseover = getMouseover('reaction_object')\n      this.reactionObjectMouseout = mouseout\n    } else {\n      this.nodeObjectMouseover = null\n      this.nodeObjectMouseout = null\n      this.reactionObjectMouseover = null\n      this.reactionObjectMouseout = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the tooltips upon touching of nodes or arrows.\n   * @param {Boolean} onOff - The new on/off state. If this argument is not provided, then toggle the state.\n   */\n  toggleObjectTouch (onOff) {\n    if (onOff === undefined) {\n      onOff = this.labelTouch === null\n    }\n\n    if (onOff) {\n      this.objectTouch = (type, d) => {\n        if (!this.dragging) {\n          this.map.callback_manager.run('show_tooltip', null, type, d)\n        }\n      }\n    } else {\n      this.objectTouch = null\n    }\n  }\n\n  /**\n   * With no argument, toggle the bezier drag on or off. Pass in a boolean\n   * argument to set the on/off state.\n   */\n  toggleBezierDrag (onOff) {\n    if (onOff === undefined) {\n      onOff = this.bezierDrag === this.emptyBehavior\n    }\n    if (onOff) {\n      this.bezierDrag = this.getBezierDrag(this.map)\n      this.bezierMouseover = function (d) {\n        d3Select(this).style('stroke-width', '3px')\n      }\n      this.bezierMouseout = function (d) {\n        d3Select(this).style('stroke-width', '1px')\n      }\n    } else {\n      this.bezierDrag = this.emptyBehavior\n      this.bezierMouseover = null\n      this.bezierMouseout = null\n    }\n  }\n\n  turnOffDrag (sel) {\n    sel.on('mousedown.drag', null)\n    sel.on('touchstart.drag', null)\n  }\n\n  combineNodesAndDraw (fixedNodeId, draggedNodeId) {\n    const map = this.map\n    const draggedNode = map.nodes[draggedNodeId]\n    const fixedNode = map.nodes[fixedNodeId]\n    const updatedSegmentObjs = []\n    draggedNode.connected_segments.forEach(segmentObj => {\n      // change the segments to reflect\n      let segment = null\n      try {\n        segment = map.reactions[segmentObj.reaction_id].segments[segmentObj.segment_id]\n        if (segment === undefined) throw new Error('undefined segment')\n      } catch (e) {\n        console.warn('Could not find connected segment ' + segmentObj.segment_id)\n        return\n      }\n      if (segment.from_node_id === draggedNodeId) segment.from_node_id = fixedNodeId\n      else if (segment.to_node_id === draggedNodeId) segment.to_node_id = fixedNodeId\n      else {\n        console.error('Segment does not connect to dragged node')\n        return\n      }\n      // moved segmentObj to fixedNode\n      fixedNode.connected_segments.push(segmentObj)\n      updatedSegmentObjs.push(utils.clone(segmentObj))\n    })\n    // delete the old node\n    map.delete_node_data([draggedNodeId])\n    // turn off the class\n    map.sel.selectAll('.node-to-combine').classed('node-to-combine', false)\n    // draw\n    map.draw_everything()\n    // return for undo\n    return updatedSegmentObjs\n  }\n\n  /**\n   * Drag the selected nodes and text labels.\n   * @param {} map -\n   * @param {} undo_stack -\n   */\n  getSelectableDrag (map, undoStack) {\n    // define some variables\n    const behavior = d3Drag()\n    let theTimeout = null\n    let totalDisplacement = null\n    // for nodes\n    let nodeIdsToDrag = null\n    let reactionIds = null\n    // for text labels\n    let textLabelIdsToDrag = null\n    const moveLabel = (textLabelId, displacement) => {\n      const textLabel = map.text_labels[textLabelId]\n      textLabel.x = textLabel.x + displacement.x\n      textLabel.y = textLabel.y + displacement.y\n    }\n    const setDragging = onOff => {\n      this.dragging = onOff\n    }\n\n    behavior.on('start', function (e) {\n      setDragging(true)\n\n      // silence other listeners (e.g. nodes BELOW this one)\n      e.sourceEvent.stopPropagation()\n      // remember the total displacement for later\n      totalDisplacement = { x: 0, y: 0 }\n\n      // If a text label is selected, the rest is not necessary\n      if (d3Select(this).attr('class').indexOf('label') === -1) {\n        // Note that drag start is called even for a click event\n        const data = this.parentNode.__data__\n        const biggId = data.bigg_id\n        const nodeGroup = this.parentNode\n        // Move element to back (for the next step to work). Wait 200ms\n        // before making the move, becuase otherwise the element will be\n        // deleted before the click event gets called, and selection\n        // will stop working.\n        theTimeout = setTimeout(() => {\n          nodeGroup.parentNode.insertBefore(nodeGroup, nodeGroup.parentNode.firstChild)\n        }, 200)\n        // prepare to combine metabolites\n        map.sel.selectAll('.metabolite-circle')\n          .on('mouseover.combine', function (e, d) {\n            if (d.bigg_id === biggId && d.node_id !== data.node_id) {\n              d3Select(this).classed('node-to-combine', true)\n            }\n          })\n          .on('mouseout.combine', (e, d) => {\n            if (d.bigg_id === biggId) {\n              map.sel.selectAll('.node-to-combine').classed('node-to-combine', false)\n            }\n          })\n      }\n    })\n\n    let lastX, lastY\n    behavior.on('start', (e) => {\n      lastX = e.x\n      lastY = e.y\n    }).on('drag', function (e, d) {\n      // if this node is not already selected, then select this one and\n      // deselect all other nodes. Otherwise, leave the selection alone.\n      if (!d3Select(this.parentNode).classed('selected')) {\n        map.select_selectable(this, d)\n      }\n\n      // get the grabbed id\n      const grabbed = {}\n      if (d3Select(this).attr('class').indexOf('label') === -1) {\n        // if it is a node\n        grabbed['type'] = 'node'\n        grabbed['id'] = this.parentNode.__data__.node_id\n      } else {\n        // if it is a text label\n        grabbed['type'] = 'label'\n        grabbed['id'] = this.__data__.text_label_id\n      }\n\n      const selectedNodeIds = map.get_selected_node_ids()\n      const selectedTextLabelIds = map.get_selected_text_label_ids()\n      nodeIdsToDrag = []\n      textLabelIdsToDrag = []\n      // choose the nodes and text labels to drag\n      if (grabbed['type'] === 'node' &&\n          selectedNodeIds.indexOf(grabbed['id']) === -1) {\n        nodeIdsToDrag.push(grabbed['id'])\n      } else if (grabbed['type'] === 'label' &&\n                 selectedTextLabelIds.indexOf(grabbed['id']) === -1) {\n        textLabelIdsToDrag.push(grabbed['id'])\n      } else {\n        nodeIdsToDrag = selectedNodeIds\n        textLabelIdsToDrag = selectedTextLabelIds\n      }\n      reactionIds = []\n      const dx = e.x - lastX\n      lastX = e.x\n      const dy = e.y - lastY\n      lastY = e.y\n\n      const displacement = {\n        x: dx,\n        y: dy\n      }\n      totalDisplacement = utils.c_plus_c(totalDisplacement, displacement)\n      nodeIdsToDrag.forEach(nodeId => {\n        // update data\n        const node = map.nodes[nodeId]\n        const updated = build.moveNodeAndDependents(node, nodeId, map.reactions,\n                                                    map.beziers, displacement)\n        reactionIds = utils.uniqueConcat([ reactionIds, updated.reaction_ids ])\n        // remember the displacements\n        // if (!(nodeId in totalDisplacement))  totalDisplacement[nodeId] = { x: 0, y: 0 }\n        // totalDisplacement[nodeId] = utils.c_plus_c(totalDisplacement[nodeId], displacement)\n      })\n      textLabelIdsToDrag.forEach(textLabelId => {\n        moveLabel(textLabelId, displacement)\n        // remember the displacements\n        // if (!(nodeId in totalDisplacement))  totalDisplacement[nodeId] = { x: 0, y: 0 }\n        // totalDisplacement[nodeId] = utils.c_plus_c(totalDisplacement[nodeId], displacement)\n      })\n      // draw\n      map.draw_these_nodes(nodeIdsToDrag)\n      map.draw_these_reactions(reactionIds)\n      map.draw_these_text_labels(textLabelIdsToDrag)\n    })\n\n    const combineNodesAndDraw = this.combineNodesAndDraw.bind(this)\n    behavior.on('end', function () {\n      setDragging(false)\n\n      if (nodeIdsToDrag === null) {\n        // Drag end can be called when drag has not been called. In this, case, do\n        // nothing.\n        totalDisplacement = null\n        nodeIdsToDrag = null\n        textLabelIdsToDrag = null\n        reactionIds = null\n        theTimeout = null\n        return\n      }\n\n      // look for mets to combine\n      const nodeToCombineArray = []\n      map.sel.selectAll('.node-to-combine').each(d => {\n        nodeToCombineArray.push(d.node_id)\n      })\n\n      if (nodeToCombineArray.length === 1) {\n        // If a node is ready for it, combine nodes\n        const fixedNodeId = nodeToCombineArray[0]\n        const draggedNodeId = this.parentNode.__data__.node_id\n        const savedDraggedNode = utils.clone(map.nodes[draggedNodeId])\n        const segmentObjsMovedToCombine = combineNodesAndDraw(fixedNodeId,\n                                                              draggedNodeId)\n        const savedDisplacement = utils.clone(totalDisplacement)\n        undoStack.push(() => {\n          // undo\n          // put the old node back\n          map.nodes[draggedNodeId] = savedDraggedNode\n          const fixedNode = map.nodes[fixedNodeId]\n          const updatedReactions = []\n          segmentObjsMovedToCombine.forEach(segmentObj => {\n            const segment = map.reactions[segmentObj.reaction_id].segments[segmentObj.segment_id]\n            if (segment.from_node_id === fixedNodeId) {\n              segment.from_node_id = draggedNodeId\n            } else if (segment.to_node_id === fixedNodeId) {\n              segment.to_node_id = draggedNodeId\n            } else {\n              console.error('Segment does not connect to fixed node')\n            }\n            // removed this segmentObj from the fixed node\n            fixedNode.connected_segments = fixedNode.connected_segments.filter(x => {\n              return !(x.reaction_id === segmentObj.reaction_id && x.segment_id === segmentObj.segment_id)\n            })\n            if (updatedReactions.indexOf(segmentObj.reaction_id) === -1) {\n              updatedReactions.push(segmentObj.reaction_id)\n            }\n          })\n          // move the node back\n          build.moveNodeAndDependents(\n            savedDraggedNode,\n            draggedNodeId,\n            map.reactions,\n            map.beziers,\n            utils.c_times_scalar(savedDisplacement, -1)\n          )\n          map.draw_these_nodes([draggedNodeId])\n          map.draw_these_reactions(updatedReactions)\n        }, () => {\n          // redo\n          // move node before combining for reliable undo/redo looping\n          build.moveNodeAndDependents(\n            savedDraggedNode,\n            draggedNodeId,\n            map.reactions,\n            map.beziers,\n            utils.c_times_scalar(savedDisplacement, 1)\n          )\n          combineNodesAndDraw(fixedNodeId, draggedNodeId)\n        })\n      } else {\n        // otherwise, drag node\n\n        // add to undo/redo stack\n        // remember the displacement, dragged nodes, and reactions\n        const savedDisplacement = utils.clone(totalDisplacement)\n            // BUG TODO this variable disappears!\n            // Happens sometimes when you drag a node, then delete it, then undo twice\n        const savedNodeIds = utils.clone(nodeIdsToDrag)\n        const savedTextLabelIds = utils.clone(textLabelIdsToDrag)\n        const savedReactionIds = utils.clone(reactionIds)\n        undoStack.push(() => {\n          // undo\n          savedNodeIds.forEach(nodeId => {\n            const node = map.nodes[nodeId]\n            build.moveNodeAndDependents(\n              node,\n              nodeId,\n              map.reactions,\n              map.beziers,\n              utils.c_times_scalar(savedDisplacement, -1)\n            )\n          })\n          savedTextLabelIds.forEach(textLabelId => {\n            moveLabel(textLabelId,\n                       utils.c_times_scalar(savedDisplacement, -1))\n          })\n          map.draw_these_nodes(savedNodeIds)\n          map.draw_these_reactions(savedReactionIds)\n          map.draw_these_text_labels(savedTextLabelIds)\n        }, () => {\n          // redo\n          savedNodeIds.forEach(nodeId => {\n            const node = map.nodes[nodeId]\n            build.moveNodeAndDependents(node, nodeId, map.reactions,\n                                        map.beziers,\n                                        savedDisplacement)\n          })\n          savedTextLabelIds.forEach(textLabelId => {\n            moveLabel(textLabelId, savedDisplacement)\n          })\n          map.draw_these_nodes(savedNodeIds)\n          map.draw_these_reactions(savedReactionIds)\n          map.draw_these_text_labels(savedTextLabelIds)\n        })\n      }\n\n      // stop combining metabolites\n      map.sel.selectAll('.metabolite-circle')\n        .on('mouseover.combine', null)\n        .on('mouseout.combine', null)\n\n      // clear the timeout\n      clearTimeout(theTimeout)\n\n      // clear the shared variables\n      totalDisplacement = null\n      nodeIdsToDrag = null\n      textLabelIdsToDrag = null\n      reactionIds = null\n      theTimeout = null\n    })\n\n    return behavior\n  }\n\n  getBezierDrag (map) {\n    const moveBezier = (reactionId, segmentId, bez, bezierId, displacement) => {\n      const segment = map.reactions[reactionId].segments[segmentId]\n      segment[bez] = utils.c_plus_c(segment[bez], displacement)\n      map.beziers[bezierId].x = segment[bez].x\n      map.beziers[bezierId].y = segment[bez].y\n    }\n    const startFn = d => {\n      d.dragging = true\n    }\n    const dragFn = (d, displacement, totalDisplacement) => {\n      // draw\n      moveBezier(d.reaction_id, d.segment_id, d.bezier, d.bezier_id,\n                  displacement)\n      map.draw_these_reactions([d.reaction_id], false)\n      map.draw_these_beziers([d.bezier_id])\n    }\n    const endFn = d => {\n      d.dragging = false\n    }\n    const undoFn = (d, displacement) => {\n      moveBezier(d.reaction_id, d.segment_id, d.bezier, d.bezier_id,\n                 utils.c_times_scalar(displacement, -1))\n      map.draw_these_reactions([d.reaction_id], false)\n      map.draw_these_beziers([d.bezier_id])\n    }\n    const redoFn = (d, displacement) => {\n      moveBezier(d.reaction_id, d.segment_id, d.bezier, d.bezier_id,\n                  displacement)\n      map.draw_these_reactions([d.reaction_id], false)\n      map.draw_these_beziers([d.bezier_id])\n    }\n    return this.getGenericDrag(startFn, dragFn, endFn, undoFn, redoFn,\n                               this.map.sel)\n  }\n\n  getReactionLabelDrag (map) {\n    const moveLabel = (reactionId, displacement) => {\n      const reaction = map.reactions[reactionId]\n      reaction.label_x = reaction.label_x + displacement.x\n      reaction.label_y = reaction.label_y + displacement.y\n    }\n    const startFn = d => {\n      // hide tooltips when drag starts\n      map.callback_manager.run('hide_tooltip')\n    }\n    const dragFn = (d, displacement, totalDisplacement) => {\n      // draw\n      moveLabel(d.reaction_id, displacement)\n      map.draw_these_reactions([ d.reaction_id ])\n    }\n    const endFn = () => {}\n    const undoFn = (d, displacement) => {\n      moveLabel(d.reaction_id, utils.c_times_scalar(displacement, -1))\n      map.draw_these_reactions([ d.reaction_id ])\n    }\n    const redoFn = (d, displacement) => {\n      moveLabel(d.reaction_id, displacement)\n      map.draw_these_reactions([ d.reaction_id ])\n    }\n    return this.getGenericDrag(startFn, dragFn, endFn, undoFn, redoFn,\n                               this.map.sel)\n  }\n\n  getNodeLabelDrag (map) {\n    const moveLabel = (nodeId, displacement) => {\n      const node = map.nodes[nodeId]\n      node.label_x = node.label_x + displacement.x\n      node.label_y = node.label_y + displacement.y\n    }\n    const startFn = d => {\n      // hide tooltips when drag starts\n      map.callback_manager.run('hide_tooltip')\n    }\n    const dragFn = (d, displacement, totalDisplacement) => {\n      // draw\n      moveLabel(d.node_id, displacement)\n      map.draw_these_nodes([ d.node_id ])\n    }\n    const endFn = () => {}\n    const undoFn = (d, displacement) => {\n      moveLabel(d.node_id, utils.c_times_scalar(displacement, -1))\n      map.draw_these_nodes([ d.node_id ])\n    }\n    const redoFn = (d, displacement) => {\n      moveLabel(d.node_id, displacement)\n      map.draw_these_nodes([ d.node_id ])\n    }\n    return this.getGenericDrag(startFn, dragFn, endFn, undoFn, redoFn,\n                               this.map.sel)\n  }\n\n  /**\n   * Make a generic drag behavior, with undo/redo.\n   *\n   * startFn: function (d) Called at drag start.\n   *\n   * dragFn: function (d, displacement, totalDisplacement) Called during drag.\n   *\n   * endFn\n   *\n   * undoFn\n   *\n   * redoFn\n   *\n   * relativeToSelection: a d3 selection that the locations are calculated\n   * against.\n   *\n   */\n  getGenericDrag (startFn, dragFn, endFn, undoFn, redoFn,\n                              relativeToSelection) {\n    // define some variables\n    const behavior = d3Drag()\n    const undoStack = this.undoStack\n    const rel = relativeToSelection.node()\n    let totalDisplacement\n    let lastX, lastY\n\n    behavior.on('start', (e, d) => {\n      this.dragging = true\n\n      // silence other listeners\n      e.sourceEvent.stopPropagation()\n      totalDisplacement = { x: 0, y: 0 }\n      startFn(d)\n      lastX = e.x\n      lastY = e.y\n    })\n\n    behavior.on('drag', (e,d) => {\n      const dx = e.x - lastX\n      lastX = e.x\n      const dy = e.y - lastY\n      lastY = e.y\n\n      // update data\n      const displacement = {\n        x: dx,\n        y: dy\n      }\n      const [x, y] = d3Pointer(e, d)\n      const location = {\n        x,\n        y\n      }\n\n      // remember the displacement\n      totalDisplacement = utils.c_plus_c(totalDisplacement, displacement)\n      dragFn(d, displacement, totalDisplacement, location)\n    })\n\n    behavior.on('end', (e, d) => {\n      this.dragging = false\n      const [x, y] = d3Pointer(e, d)\n\n      // add to undo/redo stack\n      // remember the displacement, dragged nodes, and reactions\n      const savedD = utils.clone(d)\n      const savedDisplacement = utils.clone(totalDisplacement) // BUG TODO this variable disappears!\n      const savedLocation = {\n        x,\n        y\n      }\n\n      undoStack.push(function () {\n        // undo\n        undoFn(savedD, savedDisplacement, savedLocation)\n      }, function () {\n        // redo\n        redoFn(savedD, savedDisplacement, savedLocation)\n      })\n      endFn()\n    })\n\n    return behavior\n  }\n\n  /** Make a generic drag behavior, with undo/redo. Supplies angles in place of\n   * displacements.\n   *\n   * startFn: function (d) Called at drag start.\n   *\n   * dragFn: function (d, displacement, totalDisplacement) Called during drag.\n   *\n   * endFn:\n   *\n   * undoFn:\n   *\n   * redoFn:\n   *\n   * getCenter:\n   *\n   * relativeToSelection: a d3 selection that the locations are calculated\n   * against.\n   *\n   */\n  getGenericAngularDrag (startFn, dragFn, endFn, undoFn, redoFn,\n                         getCenter, relativeToSelection) {\n    // define some variables\n    const behavior = d3Drag()\n    const undoStack = this.undoStack\n    const rel = relativeToSelection.node()\n    let totalAngle\n    let lastX, lastY\n\n    behavior.on('start', (e, d) => {\n      this.dragging = true\n\n      // silence other listeners\n      e.sourceEvent.stopPropagation()\n      totalAngle = 0\n      startFn(e, d)\n      lastX = e.x\n      lastY = e.y\n    })\n\n    behavior.on('drag', (e, d) => {\n      const dx = e.x - lastX\n      lastX = e.x\n      const dy = e.y - lastY\n      lastY = e.y\n\n      // update data\n      const displacement = {\n        x: dx,\n        y: dy\n      }\n      const [x, y] = d3Pointer(e, rel)\n      const location = {\n        x,\n        y\n      }\n      const center = getCenter()\n      const angle = utils.angle_for_event(displacement, location, center)\n      // remember the displacement\n      totalAngle = totalAngle + angle\n\n      dragFn(e, d, angle, totalAngle, center)\n    })\n\n    behavior.on('end', (e, d) => {\n      this.dragging = false\n\n      // add to undo/redo stack\n      // remember the displacement, dragged nodes, and reactions\n      const savedD = utils.clone(d)\n      const savedAngle = totalAngle\n      const savedCenter = utils.clone(getCenter())\n\n      undoStack.push(\n        () => undoFn(e, savedD, savedAngle, savedCenter),\n        () => redoFn(e, savedD, savedAngle, savedCenter)\n      )\n\n      endFn()\n    })\n\n    return behavior\n  }\n}\n","const scalePresets = {\n  GaBuGeRd: [\n    { type: 'min', color: '#c8c8c8', size: 12, duration: 4 },\n    { type: 'value', value: 0.01, color: '#9696ff', size: 16, duration: 3 },\n    { type: 'value', value: 20, color: '#209123', size: 20, duration: 2 },\n    { type: 'max', color: '#ff0000', size: 25, duration: 1 }\n  ],\n  GaBuRd: [\n    { type: 'min', color: '#c8c8c8', size: 12, duration: 3 },\n    { type: 'median', color: '#9696ff', size: 20, duration: 2 },\n    { type: 'max', color: '#ff0000', size: 25, duration: 1 }\n  ],\n  RdYlBu: [\n    { type: 'min', color: '#d7191c', size: 12, duration: 3 },\n    { type: 'median', color: '#ffffbf', size: 20, duration: 2 },\n    { type: 'max', color: '#2c7bb6', size: 25, duration: 1 }\n  ],\n  GeGaRd: [\n    { type: 'min', color: '#209123', size: 25, duration: 1 },\n    { type: 'value', value: 0, color: '#c8c8c8', size: 12, duration: 3 },\n    { type: 'max', color: '#ff0000', size: 25, duration: 1 }\n  ],\n  WhYlRd: [\n    { type: 'min', color: '#fffaf0', size: 20, duration: 4 },\n    { type: 'median', color: '#f1c470', size: 30, duration: 3 },\n    { type: 'max', color: '#800000', size: 40, duration: 2 }\n  ]\n}\n\nexport default scalePresets\n","import scalePresets from './scalePresets'\nimport { scaleLinear } from 'd3-scale'\n\nexport default class Scale {\n  constructor () {\n    this.x = scaleLinear()\n    this.y = scaleLinear()\n    this.x_size = scaleLinear()\n    this.y_size = scaleLinear()\n    this.size = scaleLinear()\n    this.reaction_color = scaleLinear().clamp(true)\n    this.reaction_size = scaleLinear().clamp(true)\n    this.reaction_animation_duration = scaleLinear().clamp(true)\n    this.metabolite_color = scaleLinear().clamp(true)\n    this.metabolite_size = scaleLinear().clamp(true)\n  }\n\n  connectToSettings (settings, map, getDataStatistics) {\n    // Wire up default scales. First warn if preset and scale are set. Use\n    // presets to set scales, avoiding loops.\n    const types = [ 'reaction', 'metabolite' ]\n    types.forEach(type => {\n      const scale = `${type}_scale`\n      const preset = `${type}_scale_preset`\n\n      // initial\n      const presetVal = settings.get(preset)\n      const scaleVal = settings.get(scale)\n      if (presetVal && scaleVal && scaleVal !== scalePresets[presetVal]) {\n        console.warn(`Both ${scale} and ${preset} are defined. Ignoring ${preset}. Set ${preset} to \"false\" to hide this warning.`)\n        settings.set(preset, null)\n      } else if (presetVal) {\n        settings.set(scale, scalePresets[presetVal])\n      } else if (!scaleVal) {\n        console.error(`Must provide a ${scale} or ${preset}`)\n      }\n\n      // Warn if scales are too short\n      if (settings.get(scale) && settings.get(scale).length < 2) {\n        console.error(`Bad value for option ${scale}. Scales must have at least 2 points.`)\n      } else {\n        this.setScale(type, scale, getDataStatistics)\n      }\n\n      // reactive\n      settings.streams[scale].onValue(val => {\n        // if the scale did not come from the preset, then reset the preset setting\n        if (val && val !== scalePresets[settings.get(preset)]) {\n          settings.set(preset, null)\n        }\n        this.setScale(type, val, getDataStatistics)\n      })\n      settings.streams[preset].onValue(val => {\n        // if there is a new preset, then set the scale\n        if (val) {\n          settings.set(scale, scalePresets[val])\n        }\n      })\n\n      // stats changes\n      map.callback_manager.set(`calc_data_stats__${type}`, changed => {\n        if (changed) {\n          this.setScale(type, settings.get(`${type}_scale`), getDataStatistics)\n        }\n      })\n    })\n  }\n\n  sortScale (scale, stats) {\n    var sorted = scale.map(x => {\n      let v\n      if (x.type in stats) {\n        v = stats[x.type]\n      } else if (x.type === 'value') {\n        v = x.value\n      } else {\n        throw new Error('Bad domain type ' + x.type)\n      }\n      return { v, color: x.color, size: x.size, duration: x.duration}\n    }).sort((a, b) => {\n      return a.v - b.v\n    })\n    return {\n      domain: sorted.map(x => { return x.v }),\n      color_range: sorted.map(x => { return x.color }),\n      size_range: sorted.map(x => { return x.size }),\n      duration_range: sorted.map(x => { return x.duration })\n    }\n  }\n\n  setScale (type, scale, getDataStatistics) {\n    if (type === 'reaction') {\n      this.setReactionScale(scale, getDataStatistics)\n    } else {\n      this.setMetaboliteScale(scale, getDataStatistics)\n    }\n  }\n\n  setReactionScale (scale, getDataStatistics) {\n    const stats = getDataStatistics().reaction\n    // If stats are null, then no data, so don't worry about it.\n    if (stats !== null) {\n      const out = this.sortScale(scale, stats)\n      this.reaction_color.domain(out.domain)\n      this.reaction_size.domain(out.domain)\n      this.reaction_animation_duration.domain(out.domain)\n      this.reaction_color.range(out.color_range)\n      this.reaction_size.range(out.size_range)\n      this.reaction_animation_duration.range(out.duration_range)\n    }\n  }\n\n  setMetaboliteScale (scale, getDataStatistics) {\n    const stats = getDataStatistics().metabolite\n    // If stats are null, then no data, so don't worry about it.\n    if (stats !== null) {\n      const out = this.sortScale(scale, stats)\n      this.metabolite_color.domain(out.domain)\n      this.metabolite_size.domain(out.domain)\n      this.metabolite_color.range(out.color_range)\n      this.metabolite_size.range(out.size_range)\n    }\n  }\n}\n","function incr (a, l) {\n  return a + 1 > l - 1 ? 0 : a + 1\n}\n\nfunction decr (a, l) {\n  return a - 1 < 0 ? l - 1 : a - 1\n}\n\n/** UndoStack. A constructor that can be used to store undo info. */\nexport default class UndoStack {\n  constructor () {\n    const stackSize = 40\n    this.stack = Array(stackSize)\n    this.current = -1\n    this.oldest = -1\n    this.newest = -1\n    this.endOfStack = true\n    this.topOfStack = true\n  }\n\n  push (undo, redo) {\n    this.current = incr(this.current, this.stack.length)\n    // change the oldest\n    if (this.endOfStack) {\n      this.oldest = this.current\n    } else if (this.oldest === this.current) {\n      this.oldest = incr(this.oldest, this.stack.length)\n    }\n    this.stack[this.current] = { undo, redo }\n    this.newest = this.current\n\n    // top of the stack\n    this.topOfStack = true\n    this.endOfStack = false\n\n    return { do: () => redo() }\n  }\n\n  undo () {\n    // check that we haven't reached the end\n    if (this.endOfStack) return console.warn('End of stack.')\n    // run the lastest stack function\n    this.stack[this.current].undo()\n    if (this.current === this.oldest) {\n      // if the next index is less than the oldest, then the stack is dead\n      this.endOfStack = true\n    } else {\n      // reference the next fn\n      this.current = decr(this.current, this.stack.length)\n    }\n\n    // not at the top of the stack\n    this.topOfStack = false\n  }\n\n  redo () {\n    // check that we haven't reached the end\n    if (this.topOfStack) return console.warn('Top of stack.')\n\n    if (!this.endOfStack) {\n      this.current = incr(this.current, this.stack.length)\n    }\n    this.stack[this.current].redo()\n\n    // if at top of stack\n    if (this.current === this.newest) {\n      this.topOfStack = true\n    }\n\n    // not at the end of the stack\n    this.endOfStack = false\n  }\n}\n","import Mousetrap from 'mousetrap'\nimport _ from 'underscore'\n\n/**\n * If ctrlEqualsCmd is true and key has ctrl+ in it, return an array with ctrl+\n * and meta+ variations.\n */\nfunction addCmd (key, ctrlEqualsCmd) {\n  if (!ctrlEqualsCmd) return key\n  const keyAr = _.isArray(key) ? key : [key]\n  const newAr = keyAr.reduce((c, k) => {\n    var n = k.replace('ctrl+', 'meta+')\n    if (n !== k) c.push(n)\n    return c\n  }, keyAr.slice())\n  return newAr.length === keyAr.length ? key : newAr\n}\n\n/**\n * KeyManager - Manage key listeners and events.\n * @param assignedKeys (default: {}): An object defining keys to bind.\n * @param inputList (default: []): A list of inputs that will override keyboard shortcuts when in focus.\n * @param selection (default: global): A node to bind the events to.\n * @param ctrlEqualsCmd (default: false): If true, then control and command have the same effect.\n */\nexport default class KeyManager {\n  constructor (\n    assignedKeys = {},\n    inputList = [],\n    selection = null,\n    ctrlEqualsCmd = false,\n    settings = null\n  ) {\n    // default Arguments\n    this.assignedKeys = assignedKeys\n    this.inputList = inputList\n    this.mousetrap = selection ? new Mousetrap(selection) : new Mousetrap()\n    this.ctrlEqualsCmd = ctrlEqualsCmd\n\n    // Fix mousetrap behavior; by default, it ignore shortcuts when inputs are\n    // in focus.\n    // TODO NOT WORKING https://craig.is/killing/mice\n    // consider swithching to https://github.com/PolicyStat/combokeys\n    this.mousetrap.stopCallback = () => false\n\n    this.escapeQueue = []\n    this.removeEscapeListener = null\n\n    // to check settings when running a key\n    this.settings = settings\n\n    this.enabled = true\n    this.update()\n  }\n\n  /**\n   * Updated key bindings if attributes have changed.\n   */\n  update () {\n    this.mousetrap.reset()\n    if (!this.enabled) return\n\n    // loop through keys\n    for (let keyId in this.assignedKeys) {\n      const assignedKey = this.assignedKeys[keyId]\n\n      // OK if this is missing\n      if (!assignedKey.key) continue\n\n      const keyToBind = addCmd(assignedKey.key, this.ctrlEqualsCmd)\n      // remember the inputList\n      assignedKey.inputList = this.inputList\n      this.mousetrap.bind(keyToBind, e => {\n        // check requires\n        if (assignedKey.requires && !this.settings.get(assignedKey.requires)) {\n          return\n        }\n\n        // check inputs\n        let inputBlocking = false\n        if (assignedKey.ignoreWithInput) {\n          for (var i = 0, l = assignedKey.inputList.length; i < l; i++) {\n            const thisInputVal = assignedKey.inputList[i]\n            const thisInput = _.isFunction(thisInputVal)\n                  ? thisInputVal()\n                  : thisInputVal\n            if (thisInput !== null && thisInput.is_visible()) {\n              inputBlocking = true\n              break\n            }\n          }\n        }\n\n        if (!inputBlocking) {\n          if (assignedKey.fn) assignedKey.fn.call(assignedKey.target)\n          else console.warn('No function for key: ' + assignedKey.key)\n          e.preventDefault()\n        }\n      }, 'keydown')\n    }\n  }\n\n  /**\n   * Turn the key manager on or off.\n   */\n  toggle (onOff) {\n    if (_.isUndefined(onOff)) onOff = !this.enabled\n    this.enabled = onOff\n    this.update()\n  }\n\n  /**\n   * Call the callback when the enter key is pressed, then unregisters the\n   * listener.\n   */\n  addEnterListener (callback, oneTime) {\n    return this.addKeyListener('enter', callback, oneTime)\n  }\n\n  /**\n   * If the list is empty, drop the listener. could get called after the\n   * listener is already removed\n   */\n  _tryDropEscapeListener () {\n    if (this.escapeQueue.length === 0 && this.removeEscapeListener) {\n      this.removeEscapeListener()\n      this.removeEscapeListener = null\n    }\n  }\n  /**\n   * Call the callback when the escape key is pressed, then unregisters the\n   * listener.\n   *\n   * Unlike the other listeners, addEscapeListener keeps a queue of listeners\n   * that are called in order then popped off the list.\n   *\n   * Escape listeners also only work one time.\n   */\n  addEscapeListener (callback) {\n    // if the listener is not set, then add it\n    if (this.removeEscapeListener === null) {\n      this.removeEscapeListener = this.addKeyListener('escape', () => {\n        // pop and run the top callback\n        if (this.escapeQueue.length > 0) {\n          const top = this.escapeQueue.pop()\n          top()\n        }\n        this._tryDropEscapeListener()\n      })\n    }\n\n    // push the new callback onto the queue\n    this.escapeQueue.push(callback)\n\n    // return a function to pop the callback out of the list\n    return () => {\n      // find it if it's in the queue\n      const index = this.escapeQueue.indexOf(callback)\n      // if it's the last one, then pop and activate next\n      if (index > -1) {\n        // remove it\n        this.escapeQueue.splice(index, 1)\n      }\n      this._tryDropEscapeListener()\n    }\n  }\n\n  /**\n   * Call the callback when the key is pressed, then unregisters the listener.\n   * Returns a function that will unbind the event.\n   * @param callback: The callback function with no arguments.\n   * @param key_name: A key name, or list of key names, as defined by the\n   *                  mousetrap library: https://craig.is/killing/mice\n   * @param one_time: If True, then cancel the listener after the first execution.\n   */\n  addKeyListener (keyName, callback, oneTime = false) {\n    // unbind function ready to go\n    const unbind = this.mousetrap.unbind.bind(this.mousetrap, keyName)\n\n    this.mousetrap.bind(addCmd(keyName, this.ctrlEqualsCmd), e => {\n      e.preventDefault()\n      callback()\n      if (oneTime) unbind()\n    })\n\n    return unbind\n  }\n}\n","import utils from './utils'\nimport CallbackManager from './CallbackManager'\n\nimport { drag as d3Drag } from 'd3-drag'\nimport _ from 'underscore'\n\n/**\n * Canvas. Defines a canvas that accepts drag/zoom events and can be resized.\n * Canvas(selection, x, y, width, height)\n * Adapted from http://bl.ocks.org/mccannf/1629464.\n */\nexport default class Canvas {\n  constructor (selection, sizeAndLocation) {\n    this.selection = selection\n    this.x = sizeAndLocation.x\n    this.y = sizeAndLocation.y\n    this.width = sizeAndLocation.width\n    this.height = sizeAndLocation.height\n\n    // enable by default\n    this.resizeEnabled = true\n\n    // set up the callbacks\n    this.callbackManager = new CallbackManager()\n\n    this.setup()\n  }\n\n  /**\n   * Turn the resize on or off\n   */\n  toggleResize (onOff) {\n    if (_.isUndefined(onOff)) onOff = !this.resizeEnabled\n\n    if (onOff) {\n      this.selection.selectAll('.drag-rect')\n        .style('pointer-events', 'auto')\n    } else {\n      this.selection.selectAll('.drag-rect')\n        .style('pointer-events', 'none')\n    }\n  }\n\n  setup () {\n    const dragbarWidth = 100\n    const mouseNodeMult = 10\n    const newSel = this.selection.append('g')\n          .classed('canvas-group', true)\n          .data([ { x: this.x, y: this.y } ])\n\n    const stopPropagation = (event) => {\n      event.sourceEvent.stopPropagation()\n    }\n\n    const transformString = (x, y, currentTransform) => {\n      const tr = utils.d3_transform_catch(currentTransform)\n      const translate = tr.translate\n      if (x !== null) translate[0] = x\n      if (y !== null) translate[1] = y\n      return 'translate(' + translate + ')'\n    }\n\n    const mouseNode = newSel.append('rect')\n        .attr('id', 'mouse-node')\n        .attr('width', this.width * mouseNodeMult)\n        .attr('height', this.height * mouseNodeMult)\n        .attr('transform', 'translate(' + [ this.x - this.width * mouseNodeMult / 2, this.y - this.height * mouseNodeMult / 2 ] + ')')\n        .attr('pointer-events', 'all')\n    this.mouseNode = mouseNode\n\n    const rect = newSel.append('rect')\n        .attr('id', 'canvas')\n        .attr('width', this.width)\n        .attr('height', this.height)\n        .attr('transform', 'translate(' + [ this.x, this.y ] + ')')\n\n    // Set the background of the canvas using an uploaded image, allowing users to simulate different compartments.\n    const background = newSel.append('image')\n      .attr('id', 'canvas-background')\n      .attr(\n      'xlink:href', ''\n    ).attr('width', this.width).attr('height', this.height).attr('transform', 'translate(' + [ this.x, this.y ] + ')')\n\n\n    const dragLeft = d3Drag()\n          .on('start', stopPropagation)\n          .on('drag', (event, d) => {\n            const oldX = d.x\n            d.x = Math.min(d.x + this.width - (dragbarWidth / 2), event.x)\n            this.x = d.x\n            this.width = this.width + (oldX - d.x)\n            left.attr('transform', d => {\n              return transformString(d.x - (dragbarWidth / 2), null, left.attr('transform'))\n            })\n            mouseNode.attr('transform', d => {\n              return transformString(d.x, null, mouseNode.attr('transform'))\n            }).attr('width', this.width * mouseNodeMult)\n            rect.attr('transform', d => {\n              return transformString(d.x, null, rect.attr('transform'))\n            }).attr('width', this.width)\n            top.attr('transform', d => transformString(d.x + (dragbarWidth / 2), null, top.attr('transform')))\n              .attr('width', this.width - dragbarWidth)\n            bottom.attr('transform', d => transformString(d.x + (dragbarWidth / 2), null, bottom.attr('transform')))\n              .attr('width', this.width - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const left = newSel.append('rect')\n          .classed('drag-rect', true)\n          .attr('transform', d => 'translate(' + [ d.x - (dragbarWidth / 2), d.y + (dragbarWidth / 2) ] + ')')\n          .attr('height', this.height - dragbarWidth)\n          .attr('id', 'dragleft')\n          .attr('width', dragbarWidth)\n          .attr('cursor', 'ew-resize')\n          .classed('resize-rect', true)\n          .call(dragLeft)\n\n    let lastRightX\n    const dragRight = d3Drag()\n          .on('start', (event) => {\n            lastRightX = event.x\n            stopPropagation(event)\n          })\n          .on('drag', (event, d) => {\n            event.sourceEvent.stopPropagation()\n            const dx = event.x - lastRightX\n            lastRightX = event.x\n            const dragX = Math.max(d.x + (dragbarWidth / 2),\n                                   d.x + this.width + dx)\n            // recalculate width\n            this.width = dragX - d.x\n            // move the right drag handle\n            right.attr('transform', d =>\n              transformString(dragX - (dragbarWidth / 2), null, right.attr('transform'))\n            )\n            // resize the drag rectangle. as we are only resizing from the\n            // right, the x coordinate does not need to change\n            mouseNode.attr('width', this.width * mouseNodeMult)\n            rect.attr('width', this.width)\n            top.attr('width', this.width - dragbarWidth)\n            bottom.attr('width', this.width - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const right = newSel.append('rect')\n        .classed('drag-rect', true)\n        .attr('transform', d => {\n          return 'translate(' +\n            [ d.x + this.width - (dragbarWidth / 2), d.y + (dragbarWidth / 2) ] +\n            ')'\n        })\n        .attr('id', 'dragright')\n        .attr('height', this.height - dragbarWidth)\n        .attr('width', dragbarWidth)\n        .attr('cursor', 'ew-resize')\n        .classed('resize-rect', true)\n        .call(dragRight)\n\n    const dragTop = d3Drag()\n          .on('start', stopPropagation)\n          .on('drag', (event, d) => {\n            event.sourceEvent.stopPropagation()\n            const oldY = d.y\n            d.y = Math.min(d.y + this.height - (dragbarWidth / 2), event.y)\n            this.y = d.y\n            this.height = this.height + (oldY - d.y)\n            top.attr('transform', d => {\n              return transformString(null, d.y - (dragbarWidth / 2), top.attr('transform'))\n            })\n            mouseNode.attr('transform', d => {\n              return transformString(null, d.y, mouseNode.attr('transform'))\n            }).attr('width', this.height * mouseNodeMult)\n            rect.attr('transform', d => {\n              return transformString(null, d.y, rect.attr('transform'))\n            }).attr('height', this.height)\n            left.attr('transform', d => {\n              return transformString(null, d.y + (dragbarWidth / 2), left.attr('transform'))\n            }).attr('height', this.height - dragbarWidth)\n            right.attr('transform', d => {\n              return transformString(null, d.y + (dragbarWidth / 2), right.attr('transform'))\n            }).attr('height', this.height - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const top = newSel.append('rect')\n        .classed('drag-rect', true)\n        .attr('transform', d => {\n          return 'translate(' +\n            [ d.x + (dragbarWidth / 2), d.y - (dragbarWidth / 2) ] +\n            ')'\n        })\n        .attr('height', dragbarWidth)\n        .attr('width', this.width - dragbarWidth)\n        .attr('cursor', 'ns-resize')\n        .classed('resize-rect', true)\n        .call(dragTop)\n\n    let lastBottomY\n    const dragBottom = d3Drag()\n          .on('start', (event) => {\n            lastBottomY = event.y\n            stopPropagation(event)\n          })\n          .on('drag', (event, d) => {\n            event.sourceEvent.stopPropagation()\n            const dy = event.y - lastBottomY\n            lastBottomY = event.y\n            const dragY = Math.max(d.y + (dragbarWidth / 2),\n                                   d.y + this.height + dy)\n            // recalculate width\n            this.height = dragY - d.y\n            // move the right drag handle\n            bottom.attr('transform', d => transformString(null,\n                                                          dragY - (dragbarWidth / 2),\n                                                          bottom.attr('transform')))\n            // resize the drag rectangle. as we are only resizing from the\n            // right, the x coordinate does not need to change\n            mouseNode.attr('height', this.height * mouseNodeMult)\n            rect.attr('height', this.height)\n            left.attr('height', this.height - dragbarWidth)\n            right.attr('height', this.height - dragbarWidth)\n\n            this.callbackManager.run('resize')\n          })\n\n    const bottom = newSel.append('rect')\n          .classed('drag-rect', true)\n          .attr('transform', d => 'translate(' + [ d.x + (dragbarWidth / 2), d.y + this.height - (dragbarWidth / 2) ] + ')')\n          .attr('height', dragbarWidth)\n          .attr('width', this.width - dragbarWidth)\n          .attr('cursor', 'ns-resize')\n          .classed('resize-rect', true)\n          .call(dragBottom)\n  }\n\n  sizeAndLocation () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    }\n  }\n}\n","/**\n * SearchIndex. Define an index for searching for reaction and metabolites in\n * the map. The index is stored in SearchIndex.index, an object of id/record\n * pairs.\n */\nexport default class SearchIndex {\n  constructor () {\n    this.index = {}\n  }\n\n  /**\n   * Insert a record into the index.\n   * @param id - A unique string id.\n   * @param record - Records have the form: { 'name': '', 'data': {} }\n   * Search is performed on substrings of the name.\n   * @param overwrite - (Default false) For faster performance, make overwrite true,\n   * and records will be inserted without checking for an existing record.\n   * @param check_record - (Default false) For faster performance, make\n   * check_record * false. If true, records will be checked to make sure they\n   * have name and * data attributes.\n   */\n  insert (id, record, overwrite, checkRecord) {\n    if (!overwrite && (id in this.index)) {\n      throw new Error('id is already in the index')\n    }\n    if (checkRecord && !(('name' in record) && ('data' in record))) {\n      throw new Error('malformed record')\n    }\n    this.index[id] = record\n  }\n\n  /**\n   * Remove the matching record. Returns true is a record is found, or false if\n   * no match is found.\n   */\n  remove (recordId) {\n    if (recordId in this.index) {\n      delete this.index[recordId]\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Find a record that matches the substring. Returns an array of data from\n   * matching records.\n   */\n  find (substring) {\n    const re = RegExp(substring, 'i') // ignore case\n    const matches = []\n    for (let id in this.index) {\n      const record = this.index[id]\n      if (re.exec(record.name)) {\n        matches.push(record.data)\n      }\n    }\n    return matches\n  }\n}\n","import utils from './utils'\nimport Draw from './Draw'\nimport Behavior from './Behavior'\nimport Scale from './Scale'\nimport * as build from './build'\nimport UndoStack from './UndoStack'\nimport CallbackManager from './CallbackManager'\nimport KeyManager from './KeyManager'\nimport Canvas from './Canvas'\nimport dataStyles from './dataStyles'\nimport SearchIndex from './SearchIndex'\n\nimport bacon from 'baconjs'\nimport _ from 'underscore'\nimport { select as d3Select } from 'd3-selection'\n\nfunction _on_array (fn) {\n  return function (array) { return fn.apply(null, array) }\n}\n\n/**\n * Map - Defines the metabolic map data, and manages drawing and building.\n * @param svg: The parent SVG container for the map.\n * @param css:\n * @param selection: A d3 selection for a node to place the map inside.\n * @param selection:\n * @param zoomContainer:\n * @param settings:\n * @param cobra_model:\n * @param canvas_size_and_loc:\n * @param enable_search:\n * @param map_name: (Optional, Default: 'new map')\n * @param map_id: (Optional, Default: A string of random characters.)\n * @param map_description: (Optional, Default: '')\n *\n * Callbacks\n * ---------\n *\n * map.callback_manager.run('set_status', null, status)\n * map.callback_manager.run('toggle_beziers', null, beziers_enabled)\n * map.callback_manager.run('select_metabolite_with_id', null, selected_node, coords)\n * map.callback_manager.run('select_selectable', null, node_count, selected_node, coords)\n * map.callback_manager.run('deselect_nodes')\n * map.callback_manager.run('select_text_label')\n * map.callback_manager.run('before_svg_export')\n * map.callback_manager.run('after_svg_export')\n * map.callback_manager.run('before_png_export')\n * map.callback_manager.run('after_png_export')\n * map.callback_manager.run('before_gif_export')\n * map.callback_manager.run('after_gif_export')\n * map.callback_manager.run('before_import_background')\n * map.callback_manager.run('after_import_background')\n * map.callback_manager.run('before_clear_background')\n * map.callback_manager.run('after_clear_background')\n * map.callback_manager.run('before_convert_map')\n * map.callback_manager.run('after_convert_map')\n * this.callback_manager.run('calc_data_stats__reaction', null, changed)\n * this.callback_manager.run('calc_data_stats__metabolite', null, changed)\n *\n */\nexport default class Map {\n  constructor (svg, css, selection, zoomContainer, settings, cobra_model,\n               canvas_size_and_loc, enable_search, map_name, map_id,\n               map_description) {\n    if (canvas_size_and_loc === null) {\n      var size = zoomContainer.get_size()\n      canvas_size_and_loc = {\n        x: -size.width,\n        y: -size.height,\n        width: size.width*3,\n        height: size.height*3\n      }\n    }\n\n    if (_.isUndefined(map_name) || map_name === null || map_name === '') {\n      map_name = 'new_map'\n    } else {\n      map_name = String(map_name)\n    }\n\n    if (_.isUndefined(map_id) || map_id === null || map_id === '') {\n      map_id = utils.generate_map_id()\n    } else {\n      map_id = String(map_id)\n    }\n\n    if (_.isUndefined(map_description) || map_description === null) {\n      map_description = ''\n    } else {\n      map_description = String(map_description)\n    }\n\n    // set up the callbacks\n    this.callback_manager = new CallbackManager()\n\n    // set up the defs\n    this.svg = svg\n    this.defs = utils.setup_defs(svg, css)\n\n    // make the canvas\n    this.canvas = new Canvas(selection, canvas_size_and_loc)\n\n    this.setup_containers(selection)\n    this.sel = selection\n    this.zoomContainer = zoomContainer\n\n    this.settings = settings\n\n    // set the model AFTER loading the datasets\n    this.cobra_model = cobra_model\n\n    this.largest_ids = {\n      reactions: -1,\n      nodes: -1,\n      segments: -1,\n      text_labels: -1\n    }\n\n    // make the undo/redo stack\n    this.undo_stack = new UndoStack()\n\n    // make a behavior object\n    this.behavior = new Behavior(this, this.undo_stack)\n\n    // draw manager\n    this.draw = new Draw(this.behavior, this.settings, this)\n\n    // make a key manager\n    this.key_manager = new KeyManager()\n    this.key_manager.settings = settings\n    this.key_manager.ctrlEqualsCmd = true\n\n    // make the search index\n    this.enable_search = enable_search\n    this.search_index = new SearchIndex()\n\n    // map properties\n    this.map_name = map_name\n    this.map_id = map_id\n    this.map_description = map_description\n\n    // deal with the window\n    var window_translate = { x: 0, y: 0 }\n    var window_scale = 1\n\n    // hide beziers\n    this.beziers_enabled = false\n\n    // data\n    this.has_data_on_reactions = false\n    this.has_data_on_nodes = false\n    this.imported_reaction_data = null\n    this.imported_metabolite_data = null\n    this.imported_gene_data = null\n\n    this.nodes = {}\n    this.reactions = {}\n    this.beziers = {}\n    this.text_labels = {}\n\n    // Update data with null to populate data-specific attributes. Also calculates\n    // data stats for the first time.\n    this.apply_reaction_data_to_map(null)\n    this.apply_metabolite_data_to_map(null)\n    this.apply_gene_data_to_map(null)\n\n    // make the scales\n    this.scale = new Scale()\n    // initialize stats\n    this.scale.connectToSettings(this.settings, this, this.get_data_statistics.bind(this))\n\n    // rotation mode off\n    this.rotation_on = false\n  }\n\n  /**\n   * Load a json map and add necessary fields for rendering.\n   */\n  static from_data (map_data, svg, css, selection, zoomContainer, settings,\n                    cobra_model, enable_search) {\n    var canvas = map_data[1].canvas\n    var map_name = map_data[0].map_name\n    var map_id = map_data[0].map_id\n    var map_description = (map_data[0].map_description.replace(/(\\nLast Modified.*)+$/g, '')\n                           + '\\nLast Modified ' + Date(Date.now()).toString())\n    var map = new Map(svg, css, selection, zoomContainer, settings, cobra_model,\n                      canvas, enable_search, map_name, map_id, map_description)\n\n    map.reactions = map_data[1].reactions\n    map.nodes = map_data[1].nodes\n    map.text_labels = map_data[1].text_labels\n\n    for (var n_id in map.nodes) {\n      var node = map.nodes[n_id]\n\n      // clear all the connected segments\n      node.connected_segments = []\n\n      //  populate the nodes search index.\n      if (enable_search) {\n        if (node.node_type !== 'metabolite') continue\n        map.search_index.insert('n' + n_id, { name: node.bigg_id,\n                                              data: { type: 'metabolite',\n                                                      node_id: n_id }})\n        map.search_index.insert('n_name' + n_id, { name: node.name,\n                                                   data: { type: 'metabolite',\n                                                           node_id: n_id }})\n      }\n    }\n\n    // Propagate coefficients and reversibility, build the connected\n    // segments, add bezier points, and populate the reaction search index.\n    for (var r_id in map.reactions) {\n      var reaction = map.reactions[r_id]\n\n      // reaction search index\n      if (enable_search) {\n        map.search_index.insert('r' + r_id,\n                                { 'name': reaction.bigg_id,\n                                  'data': { type: 'reaction',\n                                            reaction_id: r_id }})\n        map.search_index.insert('r_name' + r_id,\n                                { 'name': reaction.name,\n                                  'data': { type: 'reaction',\n                                            reaction_id: r_id }})\n        for (var g_id in reaction.genes) {\n          var gene = reaction.genes[g_id]\n          map.search_index.insert('r' + r_id + '_g' + g_id,\n                                  { 'name': gene.bigg_id,\n                                    'data': { type: 'reaction',\n                                              reaction_id: r_id }})\n          map.search_index.insert('r' + r_id + '_g_name' + g_id,\n                                  { 'name': gene.name,\n                                    'data': { type: 'reaction',\n                                              reaction_id: r_id }})\n        }\n      }\n\n      // keep track of any bad segments\n      var segments_to_delete = []\n      for (var s_id in reaction.segments) {\n        var segment = reaction.segments[s_id]\n\n        // propagate reversibility\n        segment.reversibility = reaction.reversibility\n\n        // if there is an error with to_ or from_ nodes, remove this segment\n        if (!(segment.from_node_id in map.nodes) || !(segment.to_node_id in map.nodes)) {\n          console.warn('Bad node references in segment ' + s_id + '. Deleting segment.')\n          segments_to_delete.push(s_id)\n          continue\n        }\n\n        const from_node = map.nodes[segment.from_node_id]\n        const to_node = map.nodes[segment.to_node_id]\n\n        // propagate coefficients\n        reaction.metabolites.forEach(function(met) {\n          if (met.bigg_id === from_node.bigg_id) {\n            segment.from_node_coefficient = met.coefficient\n          } else if (met.bigg_id === to_node.bigg_id) {\n            segment.to_node_coefficient = met.coefficient\n          }\n        })\n\n        // build connected segments\n        ;[from_node, to_node].forEach(function(node) {\n          node.connected_segments.push({ segment_id: s_id,\n                                         reaction_id: r_id })\n        })\n\n        // If the metabolite has no bezier points, then add them.\n        var start = map.nodes[segment.from_node_id],\n            end = map.nodes[segment.to_node_id]\n        if (start['node_type']=='metabolite' || end['node_type']=='metabolite') {\n          var midpoint = utils.c_plus_c(start, utils.c_times_scalar(utils.c_minus_c(end, start), 0.5))\n          if (segment.b1 === null) segment.b1 = midpoint\n          if (segment.b2 === null) segment.b2 = midpoint\n        }\n\n      }\n      // delete the bad segments\n      segments_to_delete.forEach(function(s_id) {\n        delete reaction.segments[s_id]\n      })\n    }\n\n    // add text_labels to the search index\n    if (enable_search) {\n      for (var label_id in map.text_labels) {\n        var label = map.text_labels[label_id]\n        map.search_index.insert('l'+label_id, { 'name': label.text,\n                                                'data': { type: 'text_label',\n                                                          text_label_id: label_id }})\n      }\n    }\n\n    // populate the beziers\n    map.beziers = build.newBeziersForReactions(map.reactions)\n\n    // get largest ids for adding new reactions, nodes, text labels, and\n    // segments\n    map.largest_ids.reactions = get_largest_id(map.reactions)\n    map.largest_ids.nodes = get_largest_id(map.nodes)\n    map.largest_ids.text_labels = get_largest_id(map.text_labels)\n\n    var largest_segment_id = 0\n    for (var id in map.reactions) {\n      largest_segment_id = get_largest_id(map.reactions[id].segments,\n                                          largest_segment_id)\n    }\n    map.largest_ids.segments = largest_segment_id\n\n    // update data with null to populate data-specific attributes\n    map.apply_reaction_data_to_map(null)\n    map.apply_metabolite_data_to_map(null)\n    map.apply_gene_data_to_map(null)\n\n    return map\n\n    /**\n     * Return the largest integer key in obj, or current_largest, whichever is\n     * bigger.\n     */\n    function get_largest_id (obj, current_largest) {\n      if (_.isUndefined(current_largest)) current_largest = 0\n      if (_.isUndefined(obj)) return current_largest\n      return Math.max.apply(null, Object.keys(obj).map(function(x) {\n        return parseInt(x)\n      }).concat([current_largest]))\n    }\n  }\n\n  // ---------------------------------------------------------------------\n  // more setup\n  // ---------------------------------------------------------------------\n\n  setup_containers (sel) {\n    sel.append('g')\n      .attr('id', 'reactions')\n    sel.append('g')\n      .attr('id', 'nodes')\n    sel.append('g')\n      .attr('id', 'beziers')\n    sel.append('g')\n      .attr('id', 'text-labels')\n  }\n\n  reset_containers () {\n    this.sel.select('#reactions')\n      .selectAll('.reaction')\n      .remove()\n    this.sel.select('#nodes')\n      .selectAll('.node')\n      .remove()\n    this.sel.select('#beziers')\n      .selectAll('.bezier')\n      .remove()\n    this.sel.select('#text-labels')\n      .selectAll('.text-label')\n      .remove()\n  }\n\n  // -------------------------------------------------------------------------\n  // Appearance\n  // -------------------------------------------------------------------------\n\n  /** Set the status of the map, with an optional expiration\n      time. Rendering the status is taken care of by the Builder.\n\n      Arguments\n      ---------\n\n      status: The status string.\n\n      time: An optional time, in ms, after which the status is set to ''.\n\n  */\n\n  set_status (status, time) {\n    this.callback_manager.run('set_status', null, status)\n    // clear any other timers on the status bar\n    clearTimeout(this._status_timer)\n    this._status_timer = null\n\n    if (time!==undefined) {\n      this._status_timer = setTimeout(function() {\n        this.callback_manager.run('set_status', null, '')\n      }.bind(this), time)\n    }\n  }\n\n  /**\n   * Clear the map data\n   */\n  clearMapData () {\n    this.reactions = {}\n    this.beziers = {}\n    this.nodes = {}\n    this.text_labels = {}\n    this.map_name = 'new_map'\n    this.map_id = utils.generate_map_id()\n    this.map_description = ''\n  }\n\n  has_cobra_model () {\n    return (this.cobra_model !== null)\n  }\n\n  /**\n   * Draw the all reactions, nodes, & text labels.\n   */\n  draw_everything () {\n    this.draw_all_reactions(true, true); // also draw beziers\n    this.draw_all_nodes(true)\n    this.draw_all_text_labels()\n  }\n\n  /** Draw all reactions, and clear deleted reactions.\n\n      Arguments\n      ---------\n\n      draw_beziers: (Boolean, default True) Whether to also draw the bezier\n      control points.\n\n      clear_deleted: (Optional, Default: true) Boolean, if true, then also\n      clear deleted nodes.\n\n  */\n  draw_all_reactions (draw_beziers, clear_deleted) {\n    if (_.isUndefined(draw_beziers)) draw_beziers = true\n    if (_.isUndefined(clear_deleted)) clear_deleted = true\n\n    // Draw all reactions.\n    var reaction_ids = []\n    for (var reaction_id in this.reactions) {\n      reaction_ids.push(reaction_id)\n    }\n    // If draw_beziers is true, just draw them all, rather than deciding\n    // which ones to draw.\n    this.draw_these_reactions(reaction_ids, false)\n    if (draw_beziers && this.beziers_enabled)\n      this.draw_all_beziers()\n\n    // Clear all deleted reactions.\n    if (clear_deleted)\n      this.clear_deleted_reactions(draw_beziers)\n  }\n\n  /**\n   * Draw specific reactions. Does nothing with exit selection. Use\n   * clear_deleted_reactions to remove reactions from the DOM.\n   * reactions_ids: An array of reaction_ids to update.\n   * draw_beziers: (Boolean, default True) Whether to also draw the bezier control\n   * points.\n   */\n  draw_these_reactions (reaction_ids, draw_beziers) {\n    if (_.isUndefined(draw_beziers)) draw_beziers = true\n\n    // find reactions for reaction_ids\n    var reaction_subset = utils.object_slice_for_ids_ref(this.reactions,\n                                                         reaction_ids)\n\n    // function to update reactions\n    var update_fn = function(sel) {\n      return this.draw.update_reaction(sel, this.scale, this.cobra_model,\n                                       this.nodes, this.defs,\n                                       this.has_data_on_reactions)\n    }.bind(this)\n\n    // draw the reactions\n    utils.draw_an_object(this.sel, '#reactions', '.reaction', reaction_subset,\n                         'reaction_id', this.draw.create_reaction.bind(this.draw),\n                         update_fn)\n\n    if (draw_beziers) {\n      // particular beziers to draw\n      var bezier_ids = build.bezierIdsForReactionIds(reaction_subset)\n      this.draw_these_beziers(bezier_ids)\n    }\n  }\n\n  /**\n   * Remove any reactions that are not in *this.reactions*.\n   * draw_beziers: (Boolean, default True) Whether to also clear deleted bezier\n   * control points.\n   */\n  clear_deleted_reactions (draw_beziers) {\n    if (_.isUndefined(draw_beziers)) draw_beziers = true\n\n    // Remove deleted reactions and segments\n    utils.draw_an_object(\n      this.sel, '#reactions', '.reaction', this.reactions, 'reaction_id', null,\n      function (update_selection) {\n        // Draw segments\n        utils.draw_a_nested_object(\n          update_selection, '.segment-group', 'segments', 'segment_id', null,\n          null, function(sel) { sel.remove() }\n        )\n      },\n      function (sel) {\n        sel.remove()\n      }\n    )\n\n    if (draw_beziers === true) {\n      this.clear_deleted_beziers()\n    }\n  }\n\n  /**\n   * Draw all nodes, and clear deleted nodes.\n   * @param clear_deleted: (Optional, Default: true) Boolean, if true, then also\n   * @param clear deleted nodes.\n   */\n  draw_all_nodes (clear_deleted) {\n    if (clear_deleted === undefined) clear_deleted = true\n\n    var node_ids = []\n    for (var node_id in this.nodes) {\n      node_ids.push(node_id)\n    }\n    this.draw_these_nodes(node_ids)\n\n    // clear the deleted nodes\n    if (clear_deleted)\n      this.clear_deleted_nodes()\n  }\n\n  /** Draw specific nodes.\n\n      Does nothing with exit selection. Use clear_deleted_nodes to remove\n      nodes from the DOM.\n\n      Arguments\n      ---------\n\n      nodes_ids: An array of node_ids to update.\n\n  */\n  draw_these_nodes (node_ids) {\n    // find reactions for reaction_ids\n    var node_subset = utils.object_slice_for_ids_ref(this.nodes, node_ids)\n\n    // functions to create and update nodes\n    var create_fn = function(sel) {\n      return this.draw.create_node(sel,\n                                   this.nodes,\n                                   this.reactions)\n    }.bind(this)\n    var update_fn = function (sel) {\n      return this.draw.update_node(sel,\n                                   this.scale,\n                                   this.has_data_on_nodes,\n                                   this.behavior.selectableMousedown,\n                                   this.behavior.selectableClick,\n                                   this.behavior.nodeMouseover,\n                                   this.behavior.nodeMouseout,\n                                   this.behavior.selectableDrag,\n                                   this.behavior.nodeLabelDrag)\n    }.bind(this)\n\n    // draw the nodes\n    utils.draw_an_object(this.sel, '#nodes', '.node', node_subset, 'node_id',\n                         create_fn, update_fn)\n  }\n\n  /**\n   * Remove any nodes that are not in *this.nodes*.\n   */\n  clear_deleted_nodes() {\n    // Run remove for exit selection\n    utils.draw_an_object(this.sel, '#nodes', '.node', this.nodes, 'node_id',\n                         null, null, function (sel) { sel.remove() })\n  }\n\n  /**\n   * Draw all text_labels.\n   */\n  draw_all_text_labels () {\n    this.draw_these_text_labels(Object.keys(this.text_labels))\n\n    // Clear all deleted text_labels\n    this.clear_deleted_text_labels()\n  }\n\n  /**\n   * Draw specific text_labels. Does nothing with exit selection. Use\n   * clear_deleted_text_labels to remove text_labels from the DOM.\n   * @param {Array} text_labels_ids - An array of text_label_ids to update.\n   */\n  draw_these_text_labels (text_label_ids) {\n    // Find reactions for reaction_ids\n    var text_label_subset = utils.object_slice_for_ids_ref(this.text_labels, text_label_ids)\n\n    // Draw the text_labels\n    utils.draw_an_object(this.sel, '#text-labels', '.text-label',\n                         text_label_subset, 'text_label_id',\n                         this.draw.create_text_label.bind(this.draw),\n                         this.draw.update_text_label.bind(this.draw))\n  }\n\n  /**\n   * Remove any text_labels that are not in *this.text_labels*.\n   */\n  clear_deleted_text_labels () {\n    utils.draw_an_object(this.sel, '#text-labels', '.text-label',\n                         this.text_labels, 'text_label_id', null, null,\n                         function (sel) { sel.remove() })\n  }\n\n  /**\n   * Draw all beziers, and clear deleted reactions.\n   */\n  draw_all_beziers () {\n    var bezier_ids = []\n    for (var bezier_id in this.beziers) {\n      bezier_ids.push(bezier_id)\n    }\n    this.draw_these_beziers(bezier_ids)\n\n    // clear delete beziers\n    this.clear_deleted_beziers()\n  }\n\n  draw_these_beziers(bezier_ids) {\n    /** Draw specific beziers.\n\n        Does nothing with exit selection. Use clear_deleted_beziers to remove\n        beziers from the DOM.\n\n        Arguments\n        ---------\n\n        beziers_ids: An array of bezier_ids to update.\n\n    */\n    // find reactions for reaction_ids\n    var bezier_subset = utils.object_slice_for_ids_ref(this.beziers, bezier_ids)\n\n    // function to update beziers\n    var update_fn = function(sel) {\n      return this.draw.update_bezier(sel,\n                                     this.beziers_enabled,\n                                     this.behavior.bezierDrag,\n                                     this.behavior.bezierMouseover,\n                                     this.behavior.bezierMouseout,\n                                     this.nodes,\n                                     this.reactions)\n    }.bind(this)\n\n    // draw the beziers\n    utils.draw_an_object(this.sel, '#beziers', '.bezier', bezier_subset,\n                         'bezier_id', this.draw.create_bezier.bind(this.draw),\n                         update_fn)\n  }\n\n  clear_deleted_beziers() {\n    /** Remove any beziers that are not in *this.beziers*.\n\n     */\n    // remove deleted\n    utils.draw_an_object(this.sel, '#beziers', '.bezier', this.beziers,\n                         'bezier_id', null, null,\n                         function(sel) { sel.remove(); })\n  }\n\n  show_beziers () {\n    this.toggle_beziers(true)\n  }\n\n  hide_beziers () {\n    this.toggle_beziers(false)\n  }\n\n  toggle_beziers (on_off) {\n    if (_.isUndefined(on_off)) this.beziers_enabled = !this.beziers_enabled\n    else this.beziers_enabled = on_off\n    this.draw_all_beziers()\n    this.callback_manager.run('toggle_beziers', null, this.beziers_enabled)\n  }\n\n  /**\n   * Returns True if the scale has changed.\n   * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n   */\n  apply_reaction_data_to_map (data, keys) {\n    const styles = this.settings.get('reaction_styles')\n    const compareStyle = this.settings.get('reaction_compare_style')\n    const hasData = dataStyles.apply_reaction_data_to_reactions(\n      this.reactions,\n      data,\n      styles,\n      compareStyle,\n      keys\n    )\n    this.has_data_on_reactions = hasData\n    this.imported_reaction_data = hasData ? data : null\n\n    return this.calc_data_stats('reaction')\n  }\n\n  /**\n   * Returns True if the scale has changed.\n   * @param {Array} keys - (Optional) The keys in nodes to apply data to.\n   */\n  apply_metabolite_data_to_map (data, keys) {\n    const styles = this.settings.get('metabolite_styles')\n    const compare_style = this.settings.get('metabolite_compare_style')\n\n    const has_data = dataStyles.apply_metabolite_data_to_nodes(this.nodes,\n                                                               data, styles,\n                                                               compare_style,\n                                                               keys)\n    this.has_data_on_nodes = has_data\n    this.imported_metabolite_data = has_data ? data : null\n\n    return this.calc_data_stats('metabolite')\n  }\n\n  /**\n   * Returns True if the scale has changed.\n   * gene_data_obj: The gene data object, with the following style:\n   * { reaction_id: { rule: 'rule_string', genes: { gene_id: value } } }\n   * @param {Array} keys - (Optional) The keys in reactions to apply data to.\n   */\n  apply_gene_data_to_map (gene_data_obj, keys) {\n    var styles = this.settings.get('reaction_styles'),\n        compare_style = this.settings.get('reaction_compare_style'),\n        identifiers_on_map = this.settings.get('identifiers_on_map'),\n        and_method_in_gene_reaction_rule = this.settings.get('and_method_in_gene_reaction_rule')\n\n    var has_data = dataStyles.apply_gene_data_to_reactions(this.reactions, gene_data_obj,\n                                                            styles, identifiers_on_map,\n                                                            compare_style,\n                                                            and_method_in_gene_reaction_rule,\n                                                            keys)\n    this.has_data_on_reactions = has_data\n    this.imported_gene_data = has_data ? gene_data_obj : null\n\n    return this.calc_data_stats('reaction')\n  }\n\n  // ------------------------------------------------\n  // Data domains\n  // ------------------------------------------------\n\n  get_data_statistics () {\n    return this.data_statistics\n  }\n\n  /**\n   * Returns True if the stats have changed.\n   * @param {String} type - Either 'metabolite' or 'reaction'\n   */\n  calc_data_stats (type) {\n    if ([ 'reaction', 'metabolite' ].indexOf(type) === -1) {\n      throw new Error('Bad type ' + type)\n    }\n\n    // make the data structure\n    if (!('data_statistics' in this)) {\n      this.data_statistics = {}\n      this.data_statistics[type] = null\n    } else if (!(type in this.data_statistics)) {\n      this.data_statistics[type] = null\n    }\n\n    // default min and max\n    const vals = []\n    if (type === 'metabolite') {\n      for (let node_id in this.nodes) {\n        var node = this.nodes[node_id]\n        // check number\n        if (_.isUndefined(node.data)) {\n          console.error('metabolite missing ')\n        } else if (node.data !== null) {\n          vals.push(node.data)\n        }\n      }\n    } else if (type == 'reaction') {\n      for (let reaction_id in this.reactions) {\n        var reaction = this.reactions[reaction_id]\n        // check number\n        if (_.isUndefined(reaction.data)) {\n          console.error('reaction data missing ')\n        } else if (reaction.data !== null) {\n          vals.push(reaction.data)\n        }\n      }\n    }\n\n    // If no vals, then set to null\n    if (vals.length === 0) {\n      const wasNull = this.data_statistics[type] === null\n      this.data_statistics[type] = null\n      if (type === 'reaction') {\n        this.callback_manager.run('calc_data_stats__reaction', null, !wasNull)\n      } else {\n        this.callback_manager.run('calc_data_stats__metabolite', null, !wasNull)\n      }\n      return !wasNull // true means did change which means was not null\n    }\n\n    // If there are vals and it was previously null, then create an object\n    if (this.data_statistics[type] === null) {\n      this.data_statistics[type] = {}\n    }\n\n    let same = true\n\n    // calculate these statistics\n    var quartiles = utils.quartiles(vals)\n    var funcs = [\n      [ 'min',    _on_array(Math.min) ],\n      [ 'max',    _on_array(Math.max) ],\n      [ 'mean',   utils.mean ],\n      [ 'Q1',     function () { return quartiles[0] } ],\n      [ 'median', function () { return quartiles[1] } ],\n      [ 'Q3',     function () { return quartiles[2] } ],\n    ]\n    funcs.forEach(function (ar) {\n      var new_val\n      var name = ar[0]\n      if (vals.length === 0) {\n        new_val = null\n      } else {\n        var fn = ar[1]\n        new_val = fn(vals)\n      }\n      if (new_val != this.data_statistics[type][name]) {\n        same = false\n      }\n      this.data_statistics[type][name] = new_val\n    }.bind(this))\n\n    // Deal with max === min\n    if (this.data_statistics[type]['min'] === this.data_statistics[type]['max'] &&\n        this.data_statistics[type]['min'] !== null) {\n      var min = this.data_statistics[type]['min']\n      var max = this.data_statistics[type]['max']\n      this.data_statistics[type]['min'] = min - 1 - (Math.abs(min) * 0.1)\n      this.data_statistics[type]['max'] = max + 1 + (Math.abs(max) * 0.1)\n    }\n\n    if (type === 'reaction') {\n      this.callback_manager.run('calc_data_stats__reaction', null, !same)\n    } else {\n      this.callback_manager.run('calc_data_stats__metabolite', null, !same)\n    }\n    return !same\n  }\n\n  // ---------------------------------------------------------------------\n  // Node interaction\n  // ---------------------------------------------------------------------\n\n  get_coords_for_node (node_id) {\n    var node = this.nodes[node_id],\n        coords = { x: node.x, y: node.y }\n    return coords\n  }\n\n  get_selected_node_ids () {\n    var selected_node_ids = []\n    this.sel.select('#nodes')\n      .selectAll('.selected')\n      .each(function (d) { selected_node_ids.push(d.node_id) })\n    return selected_node_ids\n  }\n\n  getSelectedNodes () {\n    var selected_nodes = {}\n    this.sel.select('#nodes')\n      .selectAll('.selected')\n      .each(function(d) {\n        selected_nodes[d.node_id] = this.nodes[d.node_id]\n      }.bind(this))\n    return selected_nodes\n  }\n\n  get_selected_text_label_ids () {\n    var selected_text_label_ids = []\n    this.sel.select('#text-labels')\n      .selectAll('.selected')\n      .each(function (d) { selected_text_label_ids.push(d.text_label_id) })\n    return selected_text_label_ids\n  }\n\n  get_selected_text_labels () {\n    var selected_text_labels = {}\n    this.sel.select('#text-labels')\n      .selectAll('.selected')\n      .each(function(d) {\n        selected_text_labels[d.text_label_id] = this.text_labels[d.text_label_id]\n      }.bind(this))\n    return selected_text_labels\n  }\n\n  select_all () {\n    /** Select all nodes and text labels.\n\n     */\n    this.sel.selectAll('#nodes,#text-labels')\n      .selectAll('.node,.text-label')\n      .classed('selected', true)\n  }\n\n  select_none () {\n    /** Deselect all nodes and text labels.\n\n     */\n    this.sel.selectAll('.selected')\n      .classed('selected', false)\n  }\n\n  invert_selection () {\n    /** Invert selection of nodes and text labels.\n\n     */\n    var selection = this.sel.selectAll('#nodes,#text-labels')\n        .selectAll('.node,.text-label')\n    selection.classed('selected', function() {\n      return !d3Select(this).classed('selected')\n    })\n  }\n\n  select_metabolite_with_id (node_id) {\n    /** Select a metabolite with the given id, and turn off the reaction\n        target.\n\n    */\n    // deselect all text labels\n    this.deselect_text_labels()\n\n    var node_selection = this.sel.select('#nodes').selectAll('.node'),\n        coords,\n        selected_node\n    node_selection.classed('selected', function(d) {\n      var selected = String(d.node_id) == String(node_id)\n      if (selected) {\n        selected_node = d\n        coords = { x: d.x, y: d.y }\n      }\n      return selected\n    })\n    this.sel.selectAll('.start-reaction-target').style('visibility', 'hidden')\n    this.callback_manager.run('select_metabolite_with_id', null, selected_node, coords)\n  }\n\n  select_selectable(node, d, shift_key_on) {\n    /** Select a metabolite or text label, and manage the shift key. */\n    shift_key_on = _.isUndefined(shift_key_on) ? false : shift_key_on\n    var classable_selection = this.sel.selectAll('#nodes,#text-labels')\n        .selectAll('.node,.text-label'),\n        classable_node\n    if (d3Select(node).attr('class').indexOf('text-label') == -1) {\n      // node\n      classable_node = node.parentNode\n    } else {\n      // text-label\n      classable_node = node\n    }\n    // toggle selection\n    if (shift_key_on) {\n      // toggle this node\n      d3Select(classable_node)\n        .classed('selected', !d3Select(classable_node).classed('selected'))\n    } else {\n      // unselect all other nodes, and select this one\n      classable_selection.classed('selected', false)\n      d3Select(classable_node).classed('selected', true)\n    }\n    // run the select_metabolite callback\n    var selected_nodes = this.sel.select('#nodes').selectAll('.selected'),\n        node_count = 0,\n        coords,\n        selected_node\n    selected_nodes.each(function(d) {\n      selected_node = d\n      coords = { x: d.x, y: d.y }\n      node_count++\n    })\n    this.callback_manager.run('select_selectable', null, node_count, selected_node, coords)\n  }\n\n  /**\n   * Unselect all but one selected node, and return the node. If no nodes are\n   * selected, return null.\n   */\n  select_single_node () {\n    var out = null\n    var node_selection = this.sel.select('#nodes').selectAll('.selected')\n    node_selection.classed('selected', function (d, i) {\n      if (i === 0) {\n        out = d\n        return true\n      } else {\n        return false\n      }\n    })\n    return out\n  }\n\n  deselect_nodes () {\n    var node_selection = this.sel.select('#nodes').selectAll('.node')\n    node_selection.classed('selected', false)\n    this.callback_manager.run('deselect_nodes')\n  }\n\n  select_text_label (sel, d) {\n    // deselect all nodes\n    this.deselect_nodes()\n    // Find the new selection. Ignore shift key and only allow single selection\n    // for now.\n    var text_label_selection = this.sel.select('#text-labels').selectAll('.text-label')\n    text_label_selection.classed('selected', function(p) { return d === p; })\n    var selected_text_labels = this.sel.select('#text-labels').selectAll('.selected'),\n        coords\n    selected_text_labels.each(function(d) {\n      coords = { x: d.x, y: d.y }\n    })\n    this.callback_manager.run('select_text_label')\n  }\n\n  deselect_text_labels () {\n    var text_label_selection = this.sel.select('#text-labels').selectAll('.text-label')\n    text_label_selection.classed('selected', false)\n  }\n\n\n  /**\n   * Align selected nodes and/or reactions vertically. Undoable.\n   */\n  align_vertical () {\n    return this._align(false)\n  }\n\n  /**\n   * Align selected nodes and/or reactions horizontally. Undoable\n   */\n  align_horizontal () {\n    return this._align(true)\n  }\n\n  /**\n   * Generic function for aligning nodes.\n   * @param {Boolean} isHorizontal - If true, align horizontal; else vertical.\n   */\n  _align (isHorizontal) {\n    const selected = this.getSelectedNodes()\n    // Get markers and primary nodes\n    const markersAndPrimary = _.pick(\n      selected,\n      node => node.node_type !== 'metabolite' || node.node_is_primary\n    )\n\n    // 1. generally operates on markers and primary nodes, bringing along\n    // unconnected secondary nodes and beziers\n    // 2. if only selected secondary nodes, then align those\n    const alignByPrimary = Object.keys(markersAndPrimary).length > 0\n    const toAlign = alignByPrimary ? markersAndPrimary : selected\n    const keysToAlign = Object.keys(toAlign)\n\n    // Get new x location\n    const mean = keysToAlign.reduce((accum, val) => {\n      return accum + (isHorizontal ? toAlign[val].y : toAlign[val].x)\n    }, 0) / keysToAlign.length\n\n    // Align. Remember displacements for undo/redo.\n    const displacements = _.pairs(toAlign).map(([ nodeId, node ]) => ({\n      nodeId,\n      displacement: isHorizontal ? { x: 0, y: mean - node.y } : { x: mean - node.x, y: 0 }\n    }))\n    const bezierDisplacements = []\n    const movedSecondaryNodes = {}\n\n    // Align unconnected secondary metabolites\n    if (alignByPrimary) {\n      _.mapObject(toAlign, (node, nodeId) => {\n        node.connected_segments.map(segmentLink => {\n          // get each connected node\n          const segmentId = segmentLink.segment_id\n          const reactionId = segmentLink.reaction_id\n          const segment = this.reactions[reactionId].segments[segmentId]\n          const isToNode = segment.to_node_id === node.node_id\n          const otherNodeId = isToNode ? segment.from_node_id : segment.to_node_id\n          const otherNode = this.nodes[otherNodeId]\n          const bez = isToNode ? 'b2' : 'b1'\n\n          // align this side bezier if the other node is selected (and that node\n          // will handle its bezier)\n          if (otherNode.node_id in selected && segment[bez]) {\n            const bezierId = build.bezierIdForSegmentId(segmentId, bez)\n            bezierDisplacements.push({\n              reactionId,\n              segmentId,\n              bez,\n              bezierId,\n              displacement: (isHorizontal ?\n                             { x: 0, y: node.y - segment[bez].y } :\n                             { x: node.x - segment[bez].x, y: 0 })\n            })\n\n            // If the node is secondary and unconnected, then move it along with\n            // the current node.\n            if (otherNode.node_type === 'metabolite' &&\n                !otherNode.node_is_primary &&\n                !(otherNodeId in movedSecondaryNodes)) {\n              // If all the connected segments are connected to selected nodes, then move it\n              const connected = otherNode.connected_segments.filter(segmentLink => {\n                const segment = this.reactions[reactionId].segments[segmentId]\n                const isToNode = segment.to_node_id === otherNode.node_id\n                return isToNode ? segment.from_node_id in selected : segment.to_node_id in selected\n              })\n              if (otherNode.connected_segments.length <= connected.length) {\n                // then move it with the same displacement as the parent\n                displacements.push({\n                  nodeId: otherNodeId,\n                  displacement: isHorizontal ? { x: 0, y: mean - node.y } : { x: mean - node.x, y: 0 }\n                })\n                // remember not to move this again\n                movedSecondaryNodes[otherNodeId] = true\n              }\n            }\n          }\n        })\n      })\n    }\n\n    // reusable movement function for aligning and undo/redo\n    const _moveNodes = (disps, bezDisps) => {\n      let reactionIds = []\n      disps.map(d => {\n        // TODO abstract this approach in a function because the alternative\n        // (saving the node itself) causes bugs)\n        const node = this.nodes[d.nodeId]\n        const updated = build.moveNodeAndDependents(\n          node,\n          d.nodeId,\n          this.reactions,\n          this.beziers,\n          d.displacement\n        )\n        reactionIds = utils.uniqueConcat([ reactionIds, updated.reaction_ids ])\n      })\n      // move beziers\n      bezDisps.map(d => {\n        const segment = this.reactions[d.reactionId].segments[d.segmentId]\n        segment[d.bez] = utils.c_plus_c(segment[d.bez], d.displacement)\n        this.beziers[d.bezierId].x = segment[d.bez].x\n        this.beziers[d.bezierId].y = segment[d.bez].y\n      })\n\n      this.draw_these_nodes(disps.map(d => d.nodeId))\n      this.draw_these_reactions(reactionIds, true) // and beziers\n    }\n\n    // undo /redo\n    this.undo_stack.push(\n      // undo\n      () => {\n        const reverse = disps => disps.map(d => ({\n          ...d,\n          displacement: { x: -d.displacement.x, y: -d.displacement.y }\n        }))\n        _moveNodes(reverse(displacements), reverse(bezierDisplacements))\n      },\n      // redo\n      () => {\n        _moveNodes(displacements, bezierDisplacements)\n      }\n    ).do() // do the first time\n\n    // finish\n    this.set_status(alignByPrimary ? 'Aligned reactions' : 'Aligned nodes', 3000)\n  }\n\n\n  // ---------------------------------------------------------------------\n  // Delete\n  // ---------------------------------------------------------------------\n\n  /**\n   * Delete the selected nodes and associated segments and reactions, and selected\n   * labels. Undoable.\n   */\n  delete_selected () {\n    var selected_nodes = this.getSelectedNodes(),\n        selected_text_labels = this.get_selected_text_labels()\n    if (Object.keys(selected_nodes).length >= 1 ||\n        Object.keys(selected_text_labels).length >= 1)\n      this.delete_selectable(selected_nodes, selected_text_labels, true)\n  }\n\n  /**\n   * Delete the nodes and associated segments and reactions. Undoable.\n   * selected_nodes: An object that is a subset of map.nodes.\n   * selected_text_labels: An object that is a subset of map.text_labels.\n   * should_draw: A boolean argument to determine whether to draw the changes to\n   * the map.\n   */\n  delete_selectable (selected_nodes, selected_text_labels, should_draw) {\n    var out = this.segments_and_reactions_for_nodes(selected_nodes)\n    var segment_objs_w_segments = out.segment_objs_w_segments // TODO repeated values here\n    var reactions = out.reactions\n\n    // copy nodes to undelete\n    var saved_nodes = utils.clone(selected_nodes)\n    var saved_segment_objs_w_segments = utils.clone(segment_objs_w_segments)\n    var saved_reactions = utils.clone(reactions)\n    var saved_text_labels = utils.clone(selected_text_labels)\n    var delete_and_draw = function (nodes, reactions, segment_objs,\n                                    selected_text_labels) {\n      // delete nodes, segments, and reactions with no segments\n      this.delete_node_data(Object.keys(selected_nodes))\n      this.delete_segment_data(segment_objs); // also deletes beziers\n      this.delete_reaction_data(Object.keys(reactions))\n      this.delete_text_label_data(Object.keys(selected_text_labels))\n\n      // apply the reaction and node data\n      var changed_r_scale = false\n      var changed_m_scale = false\n      if (this.has_data_on_reactions) {\n        changed_r_scale = this.calc_data_stats('reaction')\n      }\n      if (this.has_data_on_nodes) {\n        changed_m_scale = this.calc_data_stats('metabolite')\n      }\n\n      // redraw\n      if (should_draw) {\n        if (changed_r_scale)\n          this.draw_all_reactions(true, true)\n        else\n          this.clear_deleted_reactions(); // also clears segments and beziers\n        if (changed_m_scale)\n          this.draw_all_nodes(true)\n        else\n          this.clear_deleted_nodes()\n        this.clear_deleted_text_labels()\n      }\n    }.bind(this)\n\n    // delete\n    delete_and_draw(selected_nodes, reactions, segment_objs_w_segments,\n                    selected_text_labels)\n\n    // add to undo/redo stack\n    this.undo_stack.push(function () {\n      // undo\n      // redraw the saved nodes, reactions, and segments\n\n      this.extend_nodes(saved_nodes)\n      this.extend_reactions(saved_reactions)\n      var reaction_ids_to_draw = Object.keys(saved_reactions)\n      for (var segment_id in saved_segment_objs_w_segments) {\n        var segment_obj = saved_segment_objs_w_segments[segment_id]\n\n        var segment = segment_obj.segment\n        this.reactions[segment_obj.reaction_id]\n          .segments[segment_obj.segment_id] = segment\n\n        // updated connected nodes\n        var to_from = [ segment.from_node_id, segment.to_node_id ]\n        to_from.forEach(function(node_id) {\n          // not necessary for the deleted nodes\n          if (node_id in saved_nodes) return\n          var node = this.nodes[node_id]\n          node.connected_segments.push({ reaction_id: segment_obj.reaction_id,\n                                         segment_id: segment_obj.segment_id })\n        }.bind(this))\n\n        // extend the beziers\n        var seg_id = segment_obj.segment_id,\n            r_id = segment_obj.reaction_id,\n            seg_o = {}\n        seg_o[seg_id] = segment_obj.segment\n        utils.extend(this.beziers, build.newBeziersForSegments(seg_o, r_id))\n\n        if (reaction_ids_to_draw.indexOf(segment_obj.reaction_id) === -1) {\n          reaction_ids_to_draw.push(segment_obj.reaction_id)\n        }\n      }\n\n      // Apply the reaction and node data. If the scale changes, redraw\n      // everything.\n      if (this.has_data_on_reactions) {\n        const scale_changed = this.calc_data_stats('reaction')\n        if (scale_changed) this.draw_all_reactions(true, false)\n        else this.draw_these_reactions(reaction_ids_to_draw)\n      } else {\n        if (should_draw) this.draw_these_reactions(reaction_ids_to_draw)\n      }\n      if (this.has_data_on_nodes) {\n        const scale_changed = this.calc_data_stats('metabolite')\n        if (should_draw) {\n          if (scale_changed) this.draw_all_nodes(false)\n          else this.draw_these_nodes(Object.keys(saved_nodes))\n        }\n      } else {\n        if (should_draw) this.draw_these_nodes(Object.keys(saved_nodes))\n      }\n\n      // redraw the saved text_labels\n      utils.extend(this.text_labels, saved_text_labels)\n      if (should_draw) this.draw_these_text_labels(Object.keys(saved_text_labels))\n      // copy text_labels to re-delete\n      selected_text_labels = utils.clone(saved_text_labels)\n\n      // copy nodes to re-delete\n      selected_nodes = utils.clone(saved_nodes)\n      segment_objs_w_segments = utils.clone(saved_segment_objs_w_segments)\n      reactions = utils.clone(saved_reactions)\n    }.bind(this), function () {\n      // redo\n      // clone the nodes and reactions, to redo this action later\n      delete_and_draw(selected_nodes, reactions, segment_objs_w_segments,\n                      selected_text_labels)\n    }.bind(this))\n  }\n\n  /**\n   * Delete nodes, and remove from search index.\n   */\n  delete_node_data (nodeIds) {\n    nodeIds.forEach(nodeId => {\n      if (this.enable_search && this.nodes[nodeId].node_type === 'metabolite') {\n        const found = (this.search_index.remove('n' + nodeId)\n                     && this.search_index.remove('n_name' + nodeId))\n        if (!found) {\n          console.warn('Could not find deleted metabolite in search index')\n        }\n      }\n      delete this.nodes[nodeId]\n    })\n  }\n\n  /**\n   * Delete segments, update connected_segments in nodes, and delete bezier\n   * points.\n   * @param {Object} segment_objs - Object with values like\n   *                                { reaction_id: '123', segment_id: '456' }\n   */\n  delete_segment_data (segment_objs) {\n    for (var segment_id in segment_objs) {\n      var segment_obj = segment_objs[segment_id]\n      var reaction = this.reactions[segment_obj.reaction_id]\n\n      // segment already deleted\n      if (!(segment_obj.segment_id in reaction.segments)) return\n\n      var segment = reaction.segments[segment_obj.segment_id]\n      // updated connected nodes\n      ;[segment.from_node_id, segment.to_node_id].forEach(function(node_id) {\n        if (!(node_id in this.nodes)) return\n        var node = this.nodes[node_id]\n        node.connected_segments = node.connected_segments.filter(function(so) {\n          return so.segment_id != segment_obj.segment_id\n        })\n      }.bind(this))\n\n      // remove beziers\n      ;['b1', 'b2'].forEach(function(bez) {\n        var bez_id = build.bezierIdForSegmentId(segment_obj.segment_id, bez)\n        delete this.beziers[bez_id]\n      }.bind(this))\n\n      delete reaction.segments[segment_obj.segment_id]\n    }\n  }\n\n  /**\n   * Delete reactions, segments, and beziers, and remove reaction from search\n   * index.\n   */\n  delete_reaction_data (reaction_ids) {\n    reaction_ids.forEach(function(reaction_id) {\n      // remove beziers\n      var reaction = this.reactions[reaction_id]\n      for (var segment_id in reaction.segments) {\n        ;['b1', 'b2'].forEach(function(bez) {\n          var bez_id = build.bezierIdForSegmentId(segment_id, bez)\n          delete this.beziers[bez_id]\n        }.bind(this))\n      }\n      // delete reaction\n      delete this.reactions[reaction_id]\n      // remove from search index\n      var found = (this.search_index.remove('r' + reaction_id)\n                   && this.search_index.remove('r_name' + reaction_id))\n      if (!found)\n        console.warn('Could not find deleted reaction ' +\n                     reaction_id + ' in search index')\n      for (var g_id in reaction.genes) {\n        var found = (this.search_index.remove('r' + reaction_id + '_g' + g_id)\n                     && this.search_index.remove('r' + reaction_id + '_g_name' + g_id))\n        if (!found)\n          console.warn('Could not find deleted gene ' +\n                       g_id + ' in search index')\n      }\n    }.bind(this))\n  }\n\n  /**\n   * Delete text labels for an array of IDs\n   */\n  delete_text_label_data (text_label_ids) {\n    text_label_ids.forEach(function (text_label_id) {\n      // delete label\n      delete this.text_labels[text_label_id]\n      // remove from search index\n      var found = this.search_index.remove('l' + text_label_id)\n      if (!found) {\n        console.warn('Could not find deleted text label in search index')\n      }\n    }.bind(this))\n  }\n\n  // ---------------------------------------------------------------------\n  // Building\n  // ---------------------------------------------------------------------\n\n  _extend_and_draw_metabolite (new_nodes, selected_node_id) {\n    this.extend_nodes(new_nodes)\n    const keys = [ selected_node_id ]\n    if (this.has_data_on_nodes) {\n      if (this.imported_metabolite_data === null) {\n        throw new Error('imported_metabolite_data should not be null')\n      }\n      var scale_changed = this.apply_metabolite_data_to_map(this.imported_metabolite_data,\n                                                            keys)\n      if (scale_changed) {\n        this.draw_all_nodes(false)\n      } else {\n        this.draw_these_nodes(keys)\n      }\n    } else {\n      this.draw_these_nodes(keys)\n    }\n  }\n\n  /**\n   * Draw a reaction on a blank canvas.\n   * @param {String} starting_reaction - bigg_id for a reaction to draw.\n   * @param {Coords} coords - coordinates to start drawing\n   */\n  new_reaction_from_scratch (starting_reaction, coords, direction) {\n    // If there is no cobra model, error\n    if (!this.cobra_model) {\n      console.error('No CobraModel. Cannot build new reaction')\n      return\n    }\n\n    // Set reaction coordinates and angle. Be sure to clone the reaction.\n    var cobra_reaction = utils.clone(this.cobra_model.reactions[starting_reaction])\n\n    // check for empty reactions\n    if (_.size(cobra_reaction.metabolites) === 0) {\n      throw Error('No metabolites in reaction ' + cobra_reaction.bigg_id)\n    }\n\n    // create the first node\n    const reactant_ids = _.map(cobra_reaction.metabolites,\n                               (coeff, met_id) => [ coeff, met_id ])\n          .filter(x => x[0] < 0) // coeff < 0\n          .map(x => x[1]) // metabolite id\n    // get the first reactant or else the first product\n    const metaboliteId = reactant_ids.length > 0\n          ? reactant_ids[0]\n          : Object.keys(cobra_reaction.metabolites)[0]\n    const metabolite = this.cobra_model.metabolites[metaboliteId]\n    const selected_node_id = String(++this.largest_ids.nodes)\n    const label_d = build.getMetLabelLoc(utils.to_radians(direction), 0, 1,\n                                         true, metaboliteId, true)\n    var selected_node = {\n      connected_segments: [],\n      x: coords.x,\n      y: coords.y,\n      node_is_primary: true,\n      label_x: coords.x + label_d.x,\n      label_y: coords.y + label_d.y,\n      name: metabolite.name,\n      bigg_id: metaboliteId,\n      node_type: 'metabolite'\n    }\n    var new_nodes = {}\n    new_nodes[selected_node_id] = selected_node\n\n    // draw\n    this._extend_and_draw_metabolite(new_nodes, selected_node_id)\n\n    // clone the nodes and reactions, to redo this action later\n    var saved_nodes = utils.clone(new_nodes)\n\n    // draw the reaction\n    var out = this.new_reaction_for_metabolite(starting_reaction,\n                                               selected_node_id,\n                                               direction, false)\n    var reaction_redo = out.redo\n    var reaction_undo = out.undo\n\n    // add to undo/redo stack\n    this.undo_stack.push(() => {\n      // Undo. First undo the reaction.\n      reaction_undo()\n      // Get the nodes to delete\n      this.delete_node_data(Object.keys(new_nodes))\n      // Save the nodes and reactions again, for redo\n      new_nodes = utils.clone(saved_nodes)\n      // Draw\n      this.clear_deleted_nodes()\n      // Deselect\n      this.deselect_nodes()\n    }, () => {\n      // Redo. Clone the nodes and reactions, to redo this action later.\n      this._extend_and_draw_metabolite(new_nodes, selected_node_id)\n      // Now redo the reaction\n      reaction_redo()\n    })\n\n    return\n  }\n\n  /**\n   * Add new nodes to data and search index.\n   */\n  extend_nodes (new_nodes) {\n    if (this.enable_search) {\n      for (var node_id in new_nodes) {\n        var node = new_nodes[node_id]\n        if (node.node_type != 'metabolite')\n          continue\n        this.search_index.insert('n' + node_id,\n                                 { 'name': node.bigg_id,\n                                   'data': { type: 'metabolite',\n                                             node_id: node_id }})\n        this.search_index.insert('n_name' + node_id,\n                                 { 'name': node.name,\n                                   'data': { type: 'metabolite',\n                                             node_id: node_id }})\n      }\n    }\n    utils.extend(this.nodes, new_nodes)\n  }\n\n  /**\n   * Add new reactions to data and search index.\n   */\n  extend_reactions (new_reactions) {\n    if (this.enable_search) {\n      for (var r_id in new_reactions) {\n        var reaction = new_reactions[r_id]\n        this.search_index.insert('r' + r_id, { 'name': reaction.bigg_id,\n                                               'data': { type: 'reaction',\n                                                         reaction_id: r_id }})\n        this.search_index.insert('r_name' + r_id, { 'name': reaction.name,\n                                                    'data': { type: 'reaction',\n                                                              reaction_id: r_id }})\n        for (var g_id in reaction.genes) {\n          var gene = reaction.genes[g_id]\n          this.search_index.insert('r' + r_id + '_g' + g_id,\n                                   { 'name': gene.bigg_id,\n                                     'data': { type: 'reaction',\n                                               reaction_id: r_id }})\n          this.search_index.insert('r' + r_id + '_g_name' + g_id,\n                                   { 'name': gene.name,\n                                     'data': { type: 'reaction',\n                                               reaction_id: r_id }})\n        }\n      }\n    }\n    utils.extend(this.reactions, new_reactions)\n  }\n\n\n  _extend_and_draw_reaction (new_nodes, new_reactions, new_beziers,\n                             selected_node_id) {\n    this.extend_reactions(new_reactions)\n    utils.extend(this.beziers, new_beziers)\n    // Remove the selected node so it can be updated\n    this.delete_node_data([ selected_node_id ]) // TODO this is a hack. fix\n    this.extend_nodes(new_nodes)\n\n    // Apply the reaction and node data to the scales. If the scale changes,\n    // redraw everything.\n    var keys = Object.keys(new_reactions)\n    if (this.has_data_on_reactions) {\n      var scale_changed = false\n      if (this.imported_reaction_data) {\n        scale_changed = this.apply_reaction_data_to_map(this.imported_reaction_data,\n                                                        keys)\n      } else if (this.imported_gene_data) {\n        scale_changed = this.apply_gene_data_to_map(this.imported_gene_data, keys)\n      } else {\n        throw new Error('imported_gene_data or imported_reaction_data should ' +\n                        'not be null')\n      }\n      if (scale_changed) {\n        this.draw_all_reactions(true, false)\n      } else {\n        this.draw_these_reactions(keys)\n      }\n    } else {\n      this.draw_these_reactions(keys)\n    }\n\n    var node_keys = Object.keys(new_nodes)\n    if (this.has_data_on_nodes) {\n      if (this.imported_metabolite_data === null) {\n        throw new Error('imported_metabolite_data should not be null')\n      }\n      var scale_changed = this.apply_metabolite_data_to_map(this.imported_metabolite_data,\n                                                            node_keys)\n      if (scale_changed) {\n        this.draw_all_nodes(false)\n      } else {\n        this.draw_these_nodes(node_keys)\n      }\n    } else {\n      this.draw_these_nodes(node_keys)\n    }\n\n    // select new primary metabolite\n    for (var node_id in new_nodes) {\n      var node = new_nodes[node_id]\n      if (node.node_is_primary && node_id!=selected_node_id) {\n        this.select_metabolite_with_id(node_id)\n        var new_coords = { x: node.x, y: node.y }\n        if (this.zoomContainer) {\n          this.zoomContainer.translateOffScreen(new_coords)\n        }\n      }\n    }\n  }\n\n  /**\n   * Build a new reaction starting with selected_met. Undoable.\n   * @param {String} reaction_bigg_id - The BiGG ID of the reaction to draw.\n   * @param {String} selected_node_id - The ID of the node to begin drawing with.\n   * @param {Number} direction - The direction to draw in.\n   * @param {Boolean} [apply_undo_redo=true] - If true, then add to the undo\n   * stack. Otherwise, just return the undo and redo functions.\n   * @return An object of undo and redo functions:\n   *   { undo: undo_function, redo: redo_function }\n   */\n  new_reaction_for_metabolite (reaction_bigg_id, selected_node_id,\n                               direction, apply_undo_redo) {\n    // default args\n    if (apply_undo_redo === undefined) apply_undo_redo = true\n\n    // get the metabolite node\n    var selected_node = this.nodes[selected_node_id]\n\n    // Set reaction coordinates and angle. Be sure to copy the reaction\n    // recursively.\n    var cobra_reaction = this.cobra_model.reactions[reaction_bigg_id]\n\n    // build the new reaction\n    var out = build.newReaction(\n      reaction_bigg_id,\n      cobra_reaction,\n      this.cobra_model.metabolites,\n      selected_node_id,\n      utils.clone(selected_node),\n      this.largest_ids,\n      this.settings.get('cofactors'),\n      direction\n    )\n    var new_nodes = out.new_nodes\n    var new_reactions = out.new_reactions\n    var new_beziers = out.new_beziers\n\n    // Draw\n    this._extend_and_draw_reaction(new_nodes, new_reactions,\n                                   new_beziers, selected_node_id)\n\n    // Clone the nodes and reactions, to redo this action later\n    var saved_nodes = utils.clone(new_nodes)\n    var saved_reactions = utils.clone(new_reactions)\n    var saved_beziers = utils.clone(new_beziers)\n\n    // Add to undo/redo stack\n    var undo_fn = () => {\n      // Undo. Get the nodes to delete.\n      delete new_nodes[selected_node_id]\n      this.delete_node_data(Object.keys(new_nodes))\n      this.delete_reaction_data(Object.keys(new_reactions)) // also deletes beziers\n      this.select_metabolite_with_id(selected_node_id)\n      // Save the nodes and reactions again, for redo\n      new_nodes = utils.clone(saved_nodes)\n      new_reactions = utils.clone(saved_reactions)\n      new_beziers = utils.clone(saved_beziers)\n      // Draw\n      if (this.has_data_on_reactions) {\n        var scale_changed = this.calc_data_stats('reaction')\n        if (scale_changed) {\n          this.draw_all_reactions(true, true)\n        } else {\n          // Also clears segments and beziers\n          this.clear_deleted_reactions(true)\n        }\n      } else {\n        // Also clears segments and beziers\n        this.clear_deleted_reactions(true)\n      }\n      if (this.has_data_on_nodes) {\n        const scaleChanged = this.calc_data_stats('metabolite')\n        if (scaleChanged) {\n          this.draw_all_nodes(true)\n        } else {\n          this.clear_deleted_nodes()\n        }\n      } else {\n        this.clear_deleted_nodes()\n      }\n    }\n    const redo_fn = () => {\n      // redo\n      // clone the nodes and reactions, to redo this action later\n      this._extend_and_draw_reaction(new_nodes, new_reactions,\n                                     new_beziers, selected_node_id)\n    }\n\n    if (apply_undo_redo) {\n      this.undo_stack.push(undo_fn, redo_fn)\n    }\n\n    return { undo: undo_fn, redo: redo_fn }\n  }\n\n  cycle_primary_node () {\n    var selected_nodes = this.getSelectedNodes()\n    if (_.isEmpty(selected_nodes)) { return }\n    // Get the first node\n    var node_id = Object.keys(selected_nodes)[0]\n    var node = selected_nodes[node_id]\n    var reactions = this.reactions\n    var nodes = this.nodes\n    // make the other reactants or products secondary\n    // 1. Get the connected anchor nodes for the node\n    var connected_anchor_ids = [],\n        reactions_to_draw\n    nodes[node_id].connected_segments.forEach(function(segment_info) {\n      reactions_to_draw = [segment_info.reaction_id]\n      var segment\n      try {\n        segment = reactions[segment_info.reaction_id].segments[segment_info.segment_id]\n        if (segment === undefined) throw new Error('undefined segment')\n      } catch (e) {\n        console.warn('Could not find connected segment ' + segment_info.segment_id)\n        return\n      }\n      connected_anchor_ids.push(segment.from_node_id==node_id ?\n                                segment.to_node_id : segment.from_node_id)\n    })\n    // can only be connected to one anchor\n    if (connected_anchor_ids.length != 1) {\n      console.error('Only connected nodes with a single reaction can be selected')\n      return\n    }\n    var connected_anchor_id = connected_anchor_ids[0]\n    // 2. find nodes connected to the anchor that are metabolites\n    var related_node_ids = [node_id]\n    var segments = []\n    nodes[connected_anchor_id].connected_segments.forEach(function(segment_info) { // deterministic order\n      var segment\n      try {\n        segment = reactions[segment_info.reaction_id].segments[segment_info.segment_id]\n        if (segment === undefined) throw new Error('undefined segment')\n      } catch (e) {\n        console.warn('Could not find connected segment ' + segment_info.segment_id)\n        return\n      }\n      var conn_met_id = segment.from_node_id == connected_anchor_id ? segment.to_node_id : segment.from_node_id,\n          conn_node = nodes[conn_met_id]\n      if (conn_node.node_type == 'metabolite' && conn_met_id != node_id) {\n        related_node_ids.push(String(conn_met_id))\n      }\n    })\n    // 3. make sure they only have 1 reaction connection, and check if\n    // they match the other selected nodes\n    for (var i=0; i<related_node_ids.length; i++) {\n      if (nodes[related_node_ids[i]].connected_segments.length > 1) {\n        console.error('Only connected nodes with a single reaction can be selected')\n        return\n      }\n    }\n    for (var a_selected_node_id in selected_nodes) {\n      if (a_selected_node_id!=node_id && related_node_ids.indexOf(a_selected_node_id) == -1) {\n        console.warn('Selected nodes are not on the same reaction')\n        return\n      }\n    }\n    // 4. change the primary node, and change coords, label coords, and beziers\n    var nodes_to_draw = [],\n        last_i = related_node_ids.length - 1,\n        last_node = nodes[related_node_ids[last_i]],\n        last_is_primary = last_node.node_is_primary,\n        last_coords = { x: last_node.x, y: last_node.y,\n                        label_x: last_node.label_x, label_y: last_node.label_y }\n    if (last_node.connected_segments.length > 1)\n      console.warn('Too many connected segments for node ' + last_node.node_id)\n    var last_segment_info = last_node.connected_segments[0], // guaranteed above to have only one\n        last_segment\n    try {\n      last_segment = reactions[last_segment_info.reaction_id].segments[last_segment_info.segment_id]\n      if (last_segment === undefined) throw new Error('undefined segment')\n    } catch (e) {\n      console.error('Could not find connected segment ' + last_segment_info.segment_id)\n      return\n    }\n    var last_bezier = { b1: last_segment.b1, b2: last_segment.b2 },\n        primary_node_id\n    related_node_ids.forEach(function(related_node_id) {\n      var node = nodes[related_node_id],\n          this_is_primary = node.node_is_primary,\n          these_coords = { x: node.x, y: node.y,\n                           label_x: node.label_x, label_y: node.label_y },\n          this_segment_info = node.connected_segments[0],\n          this_segment = reactions[this_segment_info.reaction_id].segments[this_segment_info.segment_id],\n          this_bezier = { b1: this_segment.b1, b2: this_segment.b2 }\n      node.node_is_primary = last_is_primary\n      node.x = last_coords.x; node.y = last_coords.y\n      node.label_x = last_coords.label_x; node.label_y = last_coords.label_y\n      this_segment.b1 = last_bezier.b1; this_segment.b2 = last_bezier.b2\n      last_is_primary = this_is_primary\n      last_coords = these_coords\n      last_bezier = this_bezier\n      if (node.node_is_primary) primary_node_id = related_node_id\n      nodes_to_draw.push(related_node_id)\n    })\n    // 5. cycle the connected_segments array so the next time, it cycles differently\n    var old_connected_segments = nodes[connected_anchor_id].connected_segments,\n        last_i = old_connected_segments.length - 1,\n        new_connected_segments = [old_connected_segments[last_i]]\n    old_connected_segments.forEach(function(segment, i) {\n      if (last_i==i) return\n      new_connected_segments.push(segment)\n    })\n    nodes[connected_anchor_id].connected_segments = new_connected_segments\n    // 6. draw the nodes\n    this.draw_these_nodes(nodes_to_draw)\n    this.draw_these_reactions(reactions_to_draw)\n    // 7. select the primary node\n    this.select_metabolite_with_id(primary_node_id)\n    return\n  }\n\n  /**\n   * Toggle the primary/secondary status of each selected node. Undoable.\n   */\n  toggle_selected_node_primary () {\n    const selected_node_ids = this.get_selected_node_ids()\n    const go = function(ids) {\n      const nodes_to_draw = {}\n      const hide_secondary_metabolites = this.settings.get('hide_secondary_metabolites')\n      ids.forEach(function(id) {\n        if (!(id in this.nodes)) {\n          console.warn('Could not find node: ' + id)\n          return\n        }\n        const node = this.nodes[id]\n        if (node.node_type == 'metabolite') {\n          node.node_is_primary = !node.node_is_primary\n          nodes_to_draw[id] = node\n        }\n      }.bind(this))\n      // draw the nodes\n      this.draw_these_nodes(Object.keys(nodes_to_draw))\n      // draw associated reactions\n      if (hide_secondary_metabolites) {\n        var out = this.segments_and_reactions_for_nodes(nodes_to_draw),\n            reaction_ids_to_draw_o = {}\n        for (var id in out.segment_objs_w_segments) {\n          var r_id = out.segment_objs_w_segments[id].reaction_id\n          reaction_ids_to_draw_o[r_id] = true\n        }\n        this.draw_these_reactions(Object.keys(reaction_ids_to_draw_o))\n      }\n    }.bind(this)\n\n    // go\n    go(selected_node_ids)\n\n    // add to the undo stack\n    this.undo_stack.push(function () {\n      go(selected_node_ids)\n    }, function () {\n      go(selected_node_ids)\n    })\n  }\n\n  segments_and_reactions_for_nodes(nodes) {\n    /** Get segments and reactions that should be deleted with node deletions\n\n     */\n    var segment_objs_w_segments = {},\n        these_reactions = {},\n        segment_ids_for_reactions = {},\n        reactions = this.reactions\n    // for each node\n    for (var node_id in nodes) {\n      var node = nodes[node_id]\n      // find associated segments and reactions\n      node.connected_segments.forEach(function(segment_obj) {\n        var segment\n        try {\n          segment = reactions[segment_obj.reaction_id].segments[segment_obj.segment_id]\n          if (segment === undefined) throw new Error('undefined segment')\n        } catch (e) {\n          console.warn('Could not find connected segments for node')\n          return\n        }\n        var segment_obj_w_segment = utils.clone(segment_obj)\n        segment_obj_w_segment['segment'] = utils.clone(segment)\n        segment_objs_w_segments[segment_obj.segment_id] = segment_obj_w_segment\n        if (!(segment_obj.reaction_id in segment_ids_for_reactions))\n          segment_ids_for_reactions[segment_obj.reaction_id] = []\n        segment_ids_for_reactions[segment_obj.reaction_id].push(segment_obj.segment_id)\n      })\n    }\n    // find the reactions that should be deleted because they have no segments left\n    for (var reaction_id in segment_ids_for_reactions) {\n      var reaction = reactions[reaction_id],\n          these_ids = segment_ids_for_reactions[reaction_id],\n          has = true\n      for (var segment_id in reaction.segments) {\n        if (these_ids.indexOf(segment_id)==-1) has = false\n      }\n      if (has) these_reactions[reaction_id] = reaction\n    }\n    return { segment_objs_w_segments: segment_objs_w_segments, reactions: these_reactions }\n  }\n\n  add_label_to_search_index (id, text) {\n    this.search_index.insert('l' + id, {\n      name: text,\n      data: { type: 'text_label', text_label_id: id }\n    })\n  }\n\n  new_text_label (coords, text) {\n    // Make an label\n    var out = build.newTextLabel(this.largest_ids, text, coords)\n    this.text_labels[out.id] = out.label\n    this.draw_these_text_labels([ out.id ])\n    // Add to the search index\n    if (text !== '') {\n      this.add_label_to_search_index(out.id, text)\n    }\n    return out.id\n  }\n\n  /**\n   * Edit a text label. Undoable.\n   * @param {} text_label_id -\n   * @param {String} new_value -\n   * @param {Boolean} should_draw -\n   * @param {Boolean} [is_new=false] - If true, then the text label is all new, so\n   * delete it on undo and create it again on redo.\n   */\n  edit_text_label (text_label_id, new_value, should_draw, is_new) {\n    if (_.isUndefined(is_new)) is_new = false\n\n    if (new_value === '') {\n      throw new Error('Should not be called for empty string')\n    }\n\n    var edit_and_draw = function (new_val, should_draw) {\n      // set the new value\n      var label = this.text_labels[text_label_id]\n      label.text = new_val\n      if (should_draw) {\n        this.draw_these_text_labels([ text_label_id ])\n      }\n      // Update in the search index\n      var record_id = 'l' + text_label_id\n      var found = this.search_index.remove(record_id)\n      if (!is_new && !found) {\n        console.warn('Could not find modified text label in search index')\n      }\n      this.search_index.insert(record_id, {\n        name: new_val,\n        data: { type: 'text_label', text_label_id: text_label_id }\n      })\n    }.bind(this)\n\n    // Save old value\n    var saved_label = utils.clone(this.text_labels[text_label_id])\n\n    // Edit the label\n    edit_and_draw(new_value, should_draw)\n\n    // Add to undo stack\n    this.undo_stack.push(function () {\n      if (is_new) {\n        this.delete_text_label_data([ text_label_id ])\n        this.clear_deleted_text_labels()\n      } else {\n        edit_and_draw(saved_label.text, true)\n      }\n    }.bind(this), function () {\n      if (is_new) {\n        this.text_labels[text_label_id] = utils.clone(saved_label)\n        this.text_labels[text_label_id].text = new_value\n        this.draw_these_text_labels([ text_label_id ])\n        this.add_label_to_search_index(text_label_id, new_value)\n      } else {\n        edit_and_draw(new_value, true)\n      }\n    }.bind(this))\n  }\n\n  // -------------------------------------------------------------------------\n  // Zoom\n  // -------------------------------------------------------------------------\n\n  /**\n   * Zoom to fit all the nodes. Returns error if one is raised.\n   * @param {} margin - optional argument to set the margins as a fraction of\n   * height.\n   */\n  zoom_extent_nodes (margin) {\n    this._zoom_extent(margin, 'nodes')\n  }\n\n  /**\n   * Zoom to fit the canvas. Returns error if one is raised.\n   * @param {} margin - optional argument to set the margins as a fraction of\n   * height.\n   */\n  zoom_extent_canvas (margin) {\n    this._zoom_extent(margin, 'canvas')\n  }\n\n  /**\n   * Zoom to fit the canvas or all the nodes. Returns error if one is raised.\n   * @param {} margin - optional argument to set the margins.\n   * @param {} mode - Values are 'nodes', 'canvas'.\n   */\n  _zoom_extent (margin, mode) {\n    // Optional args\n    if (_.isUndefined(margin)) margin = (mode === 'nodes' ? 0.2 : 0)\n    if (_.isUndefined(mode)) mode = 'canvas'\n\n    var new_zoom\n    var new_pos\n    var size = this.get_size()\n    // scale margin to window size\n    margin = margin * size.height\n\n    if (mode === 'nodes') {\n      // get the extent of the nodes\n      var min = { x: null, y: null } // TODO make infinity?\n      var max = { x: null, y: null }\n      for (var node_id in this.nodes) {\n        var node = this.nodes[node_id]\n        if (min.x === null) min.x = node.x\n        if (min.y === null) min.y = node.y\n        if (max.x === null) max.x = node.x\n        if (max.y === null) max.y = node.y\n\n        min.x = Math.min(min.x, node.x)\n        min.y = Math.min(min.y, node.y)\n        max.x = Math.max(max.x, node.x)\n        max.y = Math.max(max.y, node.y)\n      }\n      // set the zoom\n      new_zoom = Math.min((size.width - margin*2) / (max.x - min.x),\n                          (size.height - margin*2) / (max.y - min.y))\n      new_pos = { x: - (min.x * new_zoom) + margin + ((size.width - margin*2 - (max.x - min.x)*new_zoom) / 2),\n                  y: - (min.y * new_zoom) + margin + ((size.height - margin*2 - (max.y - min.y)*new_zoom) / 2) }\n    } else if (mode=='canvas') {\n      // center the canvas\n      new_zoom =  Math.min((size.width - margin*2) / (this.canvas.width),\n                           (size.height - margin*2) / (this.canvas.height))\n      new_pos = { x: - (this.canvas.x * new_zoom) + margin + ((size.width - margin*2 - this.canvas.width*new_zoom) / 2),\n                  y: - (this.canvas.y * new_zoom) + margin + ((size.height - margin*2 - this.canvas.height*new_zoom) / 2) }\n    } else {\n      return console.error('Did not recognize mode')\n    }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n    return null\n  }\n\n  get_size () {\n    return this.zoomContainer.get_size()\n  }\n\n  zoom_to_reaction(reaction_id) {\n    var reaction = this.reactions[reaction_id],\n        new_zoom = 0.5,\n        size = this.get_size(),\n        new_pos = { x: - reaction.label_x * new_zoom + size.width/2,\n                    y: - reaction.label_y * new_zoom + size.height/2 }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n  }\n\n  zoom_to_node (node_id) {\n    var node = this.nodes[node_id]\n    var new_zoom = 0.5\n    var size = this.get_size()\n    var new_pos = {\n      x: - node.label_x * new_zoom + size.width/2,\n      y: - node.label_y * new_zoom + size.height/2,\n    }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n  }\n\n  zoom_to_text_label (text_label_id) {\n    var text_label = this.text_labels[text_label_id]\n    var new_zoom = 0.5\n    var size = this.get_size()\n    var new_pos = {\n      x: - text_label.x * new_zoom + size.width/2,\n      y: - text_label.y * new_zoom + size.height/2,\n    }\n    this.zoomContainer.goTo(new_zoom, new_pos)\n  }\n\n  highlight_reaction (reaction_id) {\n    this.highlight(this.sel.selectAll('#r'+reaction_id).selectAll('text'))\n  }\n\n  highlight_node (node_id) {\n    this.highlight(this.sel.selectAll('#n'+node_id).selectAll('text'))\n  }\n\n  highlight_text_label (text_label_id) {\n    this.highlight(this.sel.selectAll('#l'+text_label_id).selectAll('text'))\n  }\n\n  highlight (sel) {\n    this.sel.selectAll('.highlight')\n      .classed('highlight', false)\n    if (sel !== null) {\n      sel.classed('highlight', true)\n    }\n  }\n\n  // -------------------------------------------------------------------------\n  // IO\n  // -------------------------------------------------------------------------\n\n  save () {\n    utils.download_json(this.map_for_export(), this.map_name)\n  }\n\n  map_for_export () {\n    var out = [{ map_name: this.map_name,\n                 map_id: this.map_id,\n                 map_description: this.map_description,\n                 homepage: \"https://escher.github.io\",\n                 schema: \"https://escher.github.io/escher/jsonschema/1-0-0#\"\n               },\n               { reactions: utils.clone(this.reactions),\n                 nodes: utils.clone(this.nodes),\n                 text_labels: utils.clone(this.text_labels),\n                 canvas: this.canvas.sizeAndLocation() }\n              ]\n\n    // remove extra data\n    for (var r_id in out[1].reactions) {\n      var reaction = out[1].reactions[r_id]\n      var new_reaction = {}\n      var attrs = [ 'name', 'bigg_id','reversibility', 'label_x', 'label_y',\n                    'gene_reaction_rule', 'genes', 'metabolites' ]\n      attrs.forEach(function(attr) {\n        new_reaction[attr] = reaction[attr]\n      })\n      new_reaction['segments'] = {}\n      for (var s_id in reaction.segments) {\n        var segment = reaction.segments[s_id]\n        var new_segment = {}\n        var attrs = [ 'from_node_id', 'to_node_id', 'b1', 'b2' ]\n        attrs.forEach(function(attr) {\n          new_segment[attr] = segment[attr]\n        })\n        new_reaction['segments'][s_id] = new_segment\n      }\n      out[1].reactions[r_id] = new_reaction\n    }\n    for (var n_id in out[1].nodes) {\n      var node = out[1].nodes[n_id]\n      var new_node = {}\n      var attrs\n      if (node.node_type === 'metabolite') {\n        attrs = ['node_type', 'x', 'y', 'bigg_id', 'name', 'label_x', 'label_y',\n                 'node_is_primary']\n      } else {\n        attrs = ['node_type', 'x', 'y']\n      }\n      attrs.forEach(function(attr) {\n        new_node[attr] = node[attr]\n      })\n      out[1].nodes[n_id] = new_node\n    }\n    for (var t_id in out[1].text_labels) {\n      var text_label = out[1].text_labels[t_id]\n      var new_text_label = {}\n      var attrs = [ 'x', 'y', 'text' ]\n      attrs.forEach(function(attr) {\n        new_text_label[attr] = text_label[attr]\n      })\n      out[1].text_labels[t_id] = new_text_label\n    }\n    // canvas\n    var canvas_el = out[1].canvas\n    var new_canvas_el = {}\n    var attrs = [ 'x', 'y', 'width', 'height' ]\n    attrs.forEach(function(attr) {\n      new_canvas_el[attr] = canvas_el[attr]\n    })\n    out[1].canvas = new_canvas_el\n\n    return out\n  }\n\n  /**\n   * Rescale the canvas and save as svg/png.\n   */\n  saveMap (callbackBefore, callbackAfter, mapType) {\n    // Run the before callback\n    this.callback_manager.run(callbackBefore)\n\n    // Turn off zoom and translate so that illustrator likes the map\n    const windowScale = this.zoomContainer.windowScale\n    const windowTranslate = this.zoomContainer.windowTranslate\n    const canvasSizeAndLoc = this.canvas.sizeAndLocation()\n    const mouseNodeSizeAndTrans = {\n      w: this.canvas.mouseNode.attr('width'),\n      h: this.canvas.mouseNode.attr('height'),\n      transform: this.canvas.mouseNode.attr('transform')\n    }\n\n    // save as gif don't need to change and revert the canvas size\n    if (mapType === 'gif') {\n      const reaction_data = this.settings.get('reaction_data')\n      // only save gif if there is reaction data\n      reaction_data && utils.downloadGif(`${utils.get_current_date()}_${this.map_name}`, this.scale.reaction_color)\n    }else {\n      this.zoomContainer._goToSvg(\n        1.0,\n        {x: -canvasSizeAndLoc.x, y: -canvasSizeAndLoc.y},\n        () => {\n          this.svg.attr('width', canvasSizeAndLoc.width)\n          this.svg.attr('height', canvasSizeAndLoc.height)\n          this.canvas.mouseNode.attr('width', '0px')\n          this.canvas.mouseNode.attr('height', '0px')\n          this.canvas.mouseNode.attr('transform', null)\n\n          // hide the segment control points\n          var hidden_sel = this.sel.selectAll('.multimarker-circle,.midmarker-circle,#canvas,.bezier,#rotation-center,.direction-arrow,.start-reaction-target')\n            .style('visibility', 'hidden')\n\n          // do the export\n          if (mapType === 'svg') {\n            utils.downloadSvg('saved_map', this.svg, true)\n          } else if (mapType === 'png') {\n            utils.downloadPng('saved_map', this.svg)\n          }\n\n          // revert everything\n          this.zoomContainer._goToSvg(windowScale, windowTranslate, () => {\n            this.svg.attr('width', null)\n            this.svg.attr('height', null)\n            this.canvas.mouseNode.attr('width', mouseNodeSizeAndTrans.w)\n            this.canvas.mouseNode.attr('height', mouseNodeSizeAndTrans.h)\n            this.canvas.mouseNode.attr('transform', mouseNodeSizeAndTrans.transform)\n            // unhide the segment control points\n            hidden_sel.style('visibility', null)\n\n            // run the after callback\n            this.callback_manager.run(callbackAfter)\n          })\n        }\n      )\n    }\n  }\n\n  save_svg () {\n    this.saveMap('before_svg_export', 'after_svg_export', 'svg')\n  }\n\n  save_png () {\n    this.saveMap('before_png_export', 'after_png_export', 'png')\n  }\n\n  save_gif () {\n    this.saveMap('before_gif_export', 'after_gif_export', 'gif')\n  }\n\n  /**\n   * Assign the descriptive names and gene_reaction_rules from the model to the\n   * map. If no map is loaded, then throw an Error. If some reactions are not in\n   * the model, then warn in the status.\n   */\n  convert_map () {\n    // Run the before callback\n    this.callback_manager.run('before_convert_map')\n\n    // Check the model\n    if (!this.has_cobra_model()) {\n      throw Error('No COBRA model loaded.')\n    }\n    var model = this.cobra_model\n\n    // IDs for reactions and metabolites not found in the model\n    const reactions_not_found = {}\n    const reaction_attrs = [ 'name', 'gene_reaction_rule', 'genes' ]\n    const met_nodes_not_found = {}\n    const metabolite_attrs = [ 'name' ]\n    let found = false\n    // convert reactions\n    for (var reaction_id in this.reactions) {\n      var reaction = this.reactions[reaction_id]\n      found = false\n      // find in cobra model\n      for (var model_reaction_id in model.reactions) {\n        const modelReaction = model.reactions[model_reaction_id]\n        if (modelReaction.bigg_id == reaction.bigg_id) {\n          reaction_attrs.forEach(attr => {\n            reaction[attr] = modelReaction[attr]\n          })\n          // check matching metabolites & warn if not matching. if matching, check\n          // & reverse\n          let matches = true\n          let looksReversed = null\n          for (let metId in modelReaction.metabolites) {\n            const modelCoeff = modelReaction.metabolites[metId]\n            const mapMet = _.find(reaction.metabolites, x => x.bigg_id === metId)\n            if (mapMet === undefined) {\n              matches = false\n              break\n            }\n            const mapCoeff = mapMet.coefficient\n            // keep track of whether any of these are reversed\n            if (looksReversed === null) {\n              looksReversed = (modelCoeff > 0) !== (mapCoeff > 0)\n            }\n            // make sure there are no mismatches in reversibility direction\n            if ((looksReversed === true && ((modelCoeff > 0) === (mapCoeff > 0))) ||\n                (looksReversed === false && ((modelCoeff > 0) !== (mapCoeff > 0)))) {\n              matches = false\n              break\n            }\n          }\n          if (looksReversed && matches) {\n            // looks reversed with not mismatches, then reverse the direction\n            reaction.metabolites.forEach(met => {\n              met.coefficient = -met.coefficient\n            })\n            // propagate changes into segments\n            for (var segmentId in reaction.segments) {\n              const segment = reaction.segments[segmentId]\n\n              // propagate reversibility\n              segment.reversibility = reaction.reversibility\n\n              const from_node = this.nodes[segment.from_node_id]\n              const to_node = this.nodes[segment.to_node_id]\n\n              // propagate coefficients\n              reaction.metabolites.forEach(met => {\n                if (met.bigg_id === from_node.bigg_id) {\n                  segment.from_node_coefficient = met.coefficient\n                } else if (met.bigg_id === to_node.bigg_id) {\n                  segment.to_node_coefficient = met.coefficient\n                }\n              })\n            }\n          }\n          if (!matches) {\n            console.warn(`Metabolites for ${modelReaction.bigg_id} are different in model and map. Could\n not check and fix direction.`)\n            break\n          }\n          found = true\n        }\n      }\n      if (!found) reactions_not_found[reaction_id] = true\n    }\n    // convert metabolites\n    for (var node_id in this.nodes) {\n      var node = this.nodes[node_id]\n      // only look at metabolites\n      if (node.node_type != 'metabolite') continue\n      found = false\n      // find in cobra model\n      for (var model_metabolite_id in model.metabolites) {\n        var model_metabolite = model.metabolites[model_metabolite_id]\n        if (model_metabolite.bigg_id == node.bigg_id) {\n          metabolite_attrs.forEach(function(attr) {\n            node[attr] = model_metabolite[attr]\n          })\n          found = true\n        }\n      }\n      if (!found)\n        met_nodes_not_found[node_id] = true\n    }\n\n    // status\n    var n_reactions_not_found = Object.keys(reactions_not_found).length\n    var n_met_nodes_not_found = Object.keys(met_nodes_not_found).length\n    var status_delay = 10000\n    if (n_reactions_not_found === 0 && n_met_nodes_not_found === 0) {\n      this.set_status('Successfully converted attributes.', status_delay)\n    } else if (n_met_nodes_not_found === 0) {\n      this.set_status('Converted attributes, but count not find ' + n_reactions_not_found +\n                      ' reactions in the model.', status_delay)\n      this.settings.set('highlight_missing', true)\n    } else if (n_reactions_not_found === 0) {\n      this.set_status('Converted attributes, but count not find ' + n_met_nodes_not_found +\n                      ' metabolites in the model.', status_delay)\n      this.settings.set('highlight_missing', true)\n    } else {\n      this.set_status('Converted attributes, but count not find ' + n_reactions_not_found +\n                      ' reactions and ' + n_met_nodes_not_found + ' metabolites in the model.',\n                      status_delay)\n      this.settings.set('highlight_missing', true)\n    }\n\n    // redraw\n    this.draw_everything()\n\n    // run the after callback\n    this.callback_manager.run('after_convert_map')\n  }\n\n  /**\n   * Import a image as the background of the map.\n   * @param {File|string} input - The image file or URL to import.\n   *         File: A File object from an input element, for the `Import Background` button\n   *         string: A URL string, for the `background_image_url` setting\n   */\n  import_background(input) {\n    this.callback_manager.run('before_import_background');\n\n    // If input is a file (File object)\n    if (input instanceof File) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const imageUrl = e.target.result;\n        document.getElementById('canvas-background').setAttribute('href', imageUrl);\n        document.getElementById('canvas-background').setAttribute('display', '');\n        // Run after_import_background only after the image has been successfully loaded\n        this.callback_manager.run('after_import_background');\n      };\n      reader.readAsDataURL(input);\n    }\n    // If input is a URL (string)\n    else if (typeof input === 'string') {\n      fetch(input)\n        .then(response => response.blob())\n        .then(blob => {\n          const reader = new FileReader();\n          reader.onloadend = () => {\n            const base64data = reader.result;\n            document.getElementById('canvas-background').setAttribute('href', base64data);\n            document.getElementById('canvas-background').setAttribute('display', '');\n            // Run after_import_background only after the image has been successfully loaded\n            this.callback_manager.run('after_import_background');\n          };\n          reader.readAsDataURL(blob);\n        })\n        .catch(error => {\n          console.error(`Failed to load image from URL: ${input}`, error);\n        });\n    }\n  }\n\n\n  /**\n   * Clear the background of the map.\n   */\n  clear_background () {\n    this.callback_manager.run('before_clear_background')\n    document.getElementById('canvas-background').setAttribute('href', '');\n    // clear the background\n    document.getElementById('canvas-background').setAttribute('display', 'none');\n    this.callback_manager.run('after_clear_background')\n  }\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {\n  brush as d3Brush,\n  brushSelection as d3BrushSelection\n} from 'd3-brush'\n\n/**\n * Define a brush to select elements in a map.\n * @param {D3 Selection} selection - A d3 selection to place the brush in.\n * @param {Boolean} is_enabled - Whether to turn the brush on.\n * @param {escher.Map} map - The map where the brush will be active.\n * @param {String} insert_after - A d3 selector string to choose the svg element\n *                                that the brush will be inserted after. Often a\n *                                canvas element (e.g. '.canvas-group').\n */\nexport default class Brush {\n  constructor (selection, isEnabled, map, insertAfter) {\n    this.brushSel = selection.append('g').attr('id', 'brush-container')\n    const node = this.brushSel.node()\n    const insertBeforeNode = selection.select(insertAfter).node().nextSibling\n    if (node !== insertBeforeNode) {\n      node.parentNode.insertBefore(node, insertBeforeNode)\n    }\n    this.enabled = isEnabled\n    this.map = map\n  }\n\n  /**\n   * Returns a boolean for the on/off status of the brush\n   * @return {Boolean}\n   */\n  brushIsEnabled () {\n    return this.map.sel.select('.brush').empty()\n  }\n\n  /**\n   * Turn the brush on or off\n   * @param {Boolean} on_off\n   */\n  toggle (onOff) {\n    if (onOff === undefined) {\n      onOff = !this.enabled\n    }\n    if (onOff) {\n      this.setupSelectionBrush()\n    } else {\n      this.brushSel.selectAll('*').remove()\n    }\n  }\n\n  /**\n   * Turn off the mouse crosshair\n   */\n  turnOffCrosshair (sel) {\n    sel.selectAll('rect').attr('cursor', null)\n  }\n\n  setupSelectionBrush () {\n    const map = this.map\n    const selection = this.brushSel\n    const selectableSelection = map.sel.selectAll('#nodes,#text-labels')\n    const sizeAndLocation = map.canvas.sizeAndLocation()\n    const width = sizeAndLocation.width\n    const height = sizeAndLocation.height\n    const x = sizeAndLocation.x\n    const y = sizeAndLocation.y\n    const turnOffCrosshair = this.turnOffCrosshair.bind(this)\n\n    // Clear existing brush\n    selection.selectAll('*').remove()\n\n    // Set a flag so we know that the brush is being cleared at the end of a\n    // successful brush\n    let clearingFlag = false\n\n    var brush = d3Brush()\n        .extent([ [ x, y ], [ x + width, y + height ] ])\n        .on('start', () => {\n          this.turnOffCrosshair(selection)\n          // unhide secondary metabolites if they are hidden\n          if (map.settings.get('hide_secondary_metabolites')) {\n            map.settings.set('hide_secondary_metabolites', false)\n            map.draw_everything()\n            map.set_status('Showing secondary metabolites. You can hide them ' +\n                           'again in Settings.', 2000)\n          }\n        })\n        .on('brush', function (e) {\n          const shiftKeyOn = e.shiftKey\n          const rect = d3BrushSelection(this)\n          // Check for no selection (e.g. after clearing brush)\n          if (rect !== null) {\n            // When shift is pressed, ignore the currently selected nodes.\n            // Otherwise, brush all nodes.\n            var selection = shiftKeyOn\n                ? selectableSelection.selectAll('.node:not(.selected),.text-label:not(.selected)')\n                : selectableSelection.selectAll('.node,.text-label')\n            selection.classed('selected', d => {\n              const sx = d.x\n              const sy = d.y\n              return (rect[0][0] <= sx && sx < rect[1][0] &&\n                      rect[0][1] <= sy && sy < rect[1][1])\n            })\n          }\n        })\n        .on('end', function () {\n          turnOffCrosshair(selection)\n          // Clear brush\n          var rect = d3BrushSelection(this)\n          if (rect === null) {\n            if (clearingFlag) {\n              clearingFlag = false\n            } else {\n              // Empty selection, deselect all\n              map.select_none()\n            }\n          } else {\n            // Not empty, then clear the box\n            clearingFlag = true\n            selection.call(brush.move, null)\n          }\n        })\n\n    selection\n    // Initialize brush\n      .call(brush)\n\n    // Turn off the pan grab icons\n    turnOffCrosshair(selection)\n  }\n}\n","import {Bus, combineAsArray} from 'baconjs'\nimport _ from 'underscore'\n\n/**\n * Hold on to event when holdProperty is true, and only keep them if\n * acceptProperty is true (when holdProperty becomes false).\n */\nfunction convertToConditionalStream (valueStream, statusStream) {\n  // Combine values with status to revert to last value when a reject is passed.\n  const init = {\n    savedValue: null,\n    currentValue: null,\n    lastStatus: null\n  }\n\n  const held = combineAsArray(valueStream, statusStream.toProperty(null))\n        .scan(init, ({ savedValue, currentValue, lastStatus }, [ value, status ]) => {\n          // See if the status was just set\n          const newStatus = lastStatus !== status\n\n          if (newStatus && status === 'hold') {\n            // Record the currentValue as the savedValue\n            return {\n              savedValue: currentValue,\n              currentValue,\n              lastStatus: status\n            }\n          } else if (!newStatus && status === 'hold') {\n            // Record the current value, and keep the savedValue unchanged\n            return {\n              savedValue,\n              currentValue: value,\n              lastStatus: status\n            }\n          } else if (newStatus && status === 'abandon') {\n            // Keep the saved value\n            return {\n              savedValue: null,\n              currentValue: savedValue,\n              lastStatus: status\n            }\n          } else if (newStatus && status === 'accept') {\n            // Keep the new value\n            return {\n              savedValue: null,\n              currentValue,\n              lastStatus: status\n            }\n          } else {\n            // Not held, so keep the value\n            return {\n              savedValue: null,\n              currentValue: value,\n              lastStatus: status\n            }\n          }\n        })\n  // Skip the initial null value\n        .skip(1)\n  // Get the current value\n        .map(({ currentValue }) => currentValue)\n  // Skip duplicate values\n        .skipDuplicates()\n  // property -> event stream\n        .toEventStream()\n\n  return held\n}\n\n/**\n * Settings. A class to manage settings for a Map.\n *\n * Arguments\n * ---------\n *\n * setOption: A function, fn(key), that returns the option value for the key.\n *\n * getOption: A function, fn(key, value), that sets the option for the key and\n * value.\n *\n * conditionalOptions: The options to that are conditionally accepted when\n * changed. Changes can be abandoned by calling abandonChanges(), or accepted\n * by calling acceptChanges().\n  * @param optionsWithDefaults - The current option values\n  * @param conditionalOptions - The options to that are conditionally accepted\n  *                             when changed. Changes can be abandoned by calling\n  *                             abandon_changes(), or accepted by calling\n  *                             accept_changes().\n  */\nexport default class Settings {\n  constructor (optionsWithDefaults, conditionalOptions) {\n    this._options = optionsWithDefaults\n\n    // Manage accepting/abandoning changes\n    this.statusBus = new Bus()\n\n    // Create the options\n    ;[ this.busses, this.streams, this.acceptedStreams ] = _.chain(optionsWithDefaults)\n      .mapObject((value, key) => {\n        const isConditional = _.contains(conditionalOptions, key)\n        const { bus, stream, acceptedStream } = this.createSetting(key, value, isConditional)\n        return [ bus, stream, acceptedStream ]\n      })             // { k: [ b, s ], ... }\n      .pairs()       // [ [ k, [ b, s ] ], ... ]\n      .map(([ name, [ bus, stream, acceptedStream ] ]) => [\n        [ name, bus ],\n        [ name, stream ],\n        [ name, acceptedStream ]\n      ]) // [ [ [ k, b ], [ k, s ] ], ... ]\n      .unzip()       // [ [ [ k, b ], ... ], [ [ k, s ], ... ] ]\n      .map(x => _.object(x)) // [ { k: b, ... }, { k: s, ... } ]\n      .value()\n  }\n\n  /**\n   * Set up a new bus and stream for a conditional setting (i.e. one that can be\n   * canceled in the settings menu.\n   */\n  createSetting (name, initialValue, isConditional) {\n    // Set up the bus\n    const bus = new Bus()\n\n    // Make the event stream and conditionally accept changes\n    const stream = isConditional\n          ? convertToConditionalStream(bus, this.statusBus)\n          : bus.toEventStream()\n\n    // Make a stream for the accepted values only. First get the latest value\n    // after accepting. Also get a latest copy of the correct value if the data\n    // is abandoned.\n    const acceptedStream = stream.sampledBy(\n      this.statusBus.filter(status => status === 'accept' || status === 'abandon')\n    ).merge(\n      // Then merge with all the other changes\n      stream.filter(\n        this.statusBus.map(status => status === 'accept').toProperty(true)\n      )\n    )\n\n    // Get the latest\n    stream.onValue(v => { this._options[name] = v })\n\n    // Push the initial value\n    bus.push(initialValue)\n\n    return { bus, stream, acceptedStream }\n  }\n\n  /**\n   * Deprecated. Use `set` instead.\n   */\n  set_conditional (name, value) { // eslint-disable-line camelcase\n    console.warn('set_conditional is deprecated. Use Settings.set() instead')\n    return this.set(name, value)\n  }\n\n  /**\n   * Set the option. This should always be used instead of setting options\n   * directly. To set options that respect the Settings menu Accept/Abandon, use\n   * setConditional().\n   * @param {String} name - The option name\n   * @param {Any} value - The new value\n   * can check whether the change was made internally to avoid loops.\n   */\n  set (name, value) {\n    if (!(name in this.busses)) {\n      throw new Error(`Invalid setting name ${name}`)\n    }\n    this.busses[name].push(value)\n  }\n\n  /**\n   * Deprecated. Use `get` intead.\n   */\n  get_option (name) { // eslint-disable-line camelcase\n    console.warn('get_option is deprecated. Use Settings.get() instead')\n    return this.get(name)\n  }\n\n  /**\n   * Get an option\n   */\n  get (name) {\n    return this._options[name]\n  }\n\n  holdChanges () {\n    this.statusBus.push('hold')\n  }\n\n  abandonChanges () {\n    this.statusBus.push('abandon')\n  }\n\n  acceptChanges () {\n    this.statusBus.push('accept')\n  }\n}\n","import PlacedDiv from './PlacedDiv'\n\n/**\n * TextEditInput\n */\nexport default class TextEditInput {\n  constructor (selection, map, zoomContainer) {\n    const div = selection.append('div')\n          .attr('id', 'text-edit-input')\n    this.placedDiv = PlacedDiv(div, map)\n    this.placedDiv.hide()\n    this.input = div.append('input')\n\n    this.map = map\n    this.setUpMapCallbacks(map)\n    this.zoomContainer = zoomContainer\n    this.setUpZoomCallbacks(zoomContainer)\n\n    this.isNew = false\n  }\n\n  setUpMapCallbacks (map) {\n    // Input\n    map.callback_manager.set('edit_text_label.text_edit_input', (target, coords) => {\n      this.show(target, coords)\n    })\n\n    // new text_label\n    map.callback_manager.set('new_text_label.text_edit_input', coords => {\n      if (this.activeTarget !== null) {\n        this._acceptChanges(this.activeTarget.target)\n      }\n      this.hide()\n      this._addAndEdit(coords)\n    })\n\n    map.callback_manager.set('hide_text_label_editor.text_edit_input', () => {\n      this.hide()\n    })\n  }\n\n  setUpZoomCallbacks (zoomContainer) {\n    zoomContainer.callbackManager.set('zoom.text_edit_input', () => {\n      if (this.activeTarget) {\n        this._acceptChanges(this.activeTarget.target)\n      }\n      if (this.is_visible()) {\n        this.hide()\n      }\n    })\n    zoomContainer.callbackManager.set('go_to.text_edit_input', () => {\n      if (this.activeTarget) {\n        this._acceptChanges(this.activeTarget.target)\n      }\n      if (this.is_visible()) {\n        this.hide()\n      }\n    })\n  }\n\n  is_visible () { // eslint-disable-line camelcase\n    return this.placedDiv.is_visible()\n  }\n\n  show (target, coords) {\n    // save any existing edit\n    if (this.activeTarget) {\n      this._acceptChanges(this.activeTarget.target)\n    }\n\n    // set the current target\n    this.activeTarget = { target, coords }\n\n    // set the new value\n    target.each(d => {\n      this.input.node().value = d.text\n    })\n\n    // place the input\n    this.placedDiv.place(coords)\n    this.input.node().focus()\n\n    // escape key\n    this.clearEscape = this.map.key_manager.addEscapeListener(() => {\n      this._acceptChanges(target)\n      this.hide()\n    }, true)\n    // enter key\n    this.clearEnter = this.map.key_manager.addEnterListener(() => {\n      this._acceptChanges(target)\n      this.hide()\n    }, true)\n  }\n\n  hide () {\n    this.isNew = false\n\n    // hide the input\n    this.placedDiv.hide()\n\n    // clear the value\n    this.input.attr('value', '')\n    this.activeTarget = null\n\n    // clear escape\n    if (this.clearEscape) this.clearEscape()\n    this.clearEscape = null\n    // clear enter\n    if (this.clearEnter) this.clearEnter()\n    this.clearEnter = null\n    // turn off click listener\n    // this.map.sel.on('click.', null)\n  }\n\n  _acceptChanges (target) {\n    const value = this.input.node().value\n    if (value === '') {\n      // Delete the label\n      target.each(d => {\n        const selected = {}\n        selected[d.text_label_id] = this.map.text_labels[d.text_label_id]\n        this.map.delete_selectable({}, selected, true)\n      })\n    } else {\n      // Set the text\n      const textLabelIds = []\n      target.each(d => {\n        this.map.edit_text_label(d.text_label_id, value, true, this.isNew)\n        textLabelIds.push(d.text_label_id)\n      })\n    }\n  }\n\n  _addAndEdit (coords) {\n    this.isNew = true\n\n    // Make an empty label\n    const textLabelId = this.map.new_text_label(coords, '')\n    // Apply the cursor to the new label\n    const sel = this.map.sel.select('#text-labels').selectAll('.text-label')\n          .filter(d => d.text_label_id === textLabelId)\n    sel.select('text').classed('edit-text-cursor', true)\n    this.show(sel, coords)\n  }\n}\n","/** @jsx h */\nimport { h, Component, render } from 'preact'\n\nclass Wrapper extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {}\n  }\n\n  componentDidMount () {\n    this.props.connectSetStateFn(props => this.setState(props))\n  }\n\n  is_visible () { // eslint-disable-line camelcase\n    return this.state.display\n  }\n\n  render () {\n    if (!this.state.display) return null\n\n    // Pass the new props, and always pass the ref\n    return (\n      <this.props.component\n        setDisplay={display => this.setState({ display })}\n        ref={this.props.refPassthrough}\n        {...this.state}\n      />\n    )\n  }\n}\n\n/**\n * Wrapper for better integration of Preact components with Escher. The\n * component can be updated using the connectSetStateFn to set up a callback for\n * updates from other components.\n * @param {} component - A Preact component\n *\n * @param {} ref - A preact ref for the wrapper so that the \"display\" state can\n *                 be tracked.\n */\nfunction renderWrapper (\n  component,\n  ref,\n  connectSetStateFn,\n  divNode,\n  refPassthrough = null\n) {\n  render(\n    <Wrapper\n      component={component}\n      connectSetStateFn={connectSetStateFn}\n      ref={ref}\n      refPassthrough={refPassthrough}\n    />,\n    divNode,\n    // If there is already a div, re-render it. Otherwise make a new one\n    divNode.children.length > 0 ? divNode.firstChild : undefined\n  )\n}\n\nexport default renderWrapper\n","/** @jsx h */\n\nimport { h, Component } from 'preact'\n\nclass ScaleSelector extends Component {\n  constructor (props) {\n    super(props)\n    this.setWrapperRef = this.setWrapperRef.bind(this)\n    this.handleClickOutside = this.handleClickOutside.bind(this)\n    this.state = {\n      visible: false\n    }\n  }\n\n  componentDidMount () {\n    document.addEventListener('mouseup', this.handleClickOutside)\n  }\n\n  // Reference for hiding the menu when a mouse event happens outside\n  setWrapperRef (node) {\n    this.wrapperRef = node\n  }\n\n  handleClickOutside (event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({visible: false})\n    }\n  }\n\n  render () {\n    return (\n      <div className='selector'>\n        <div\n          className={\n            [\n              'selectorTitle',\n              (this.props.disabled ? 'disabled' : '')\n            ].join(' ')\n          }\n          ref={this.setWrapperRef}\n          onClick={() => {\n            if (!this.props.disabled) {\n              this.setState({visible: !this.state.visible})\n            }\n          }}\n        >\n          Preset Scale Selections\n          <i className='icon-sort-down' />\n        </div>\n        <div\n          className='selectorMenu'\n          style={\n            this.state.visible\n            ? {display: 'block'}\n            : {display: 'none'}}\n          >\n          {this.props.children.map(listItem => {\n            return listItem\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScaleSelector\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./Picker.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./Picker.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/** @jsx h */\n\nimport { h, Component } from 'preact'\nimport { select as d3Select } from 'd3-selection'\nimport { drag as d3Drag } from 'd3-drag'\n\nimport './Picker.css'\n\nclass Picker extends Component {\n  setUpDrag () {\n    // Double check that the drag is not left over from a previous use of this\n    // node.\n    d3Select(this.base).select('.pickerBox').on('mousedown.drag', null)\n\n    if (!this.props.disabled) {\n      let lastX = 0;\n\n      const drag = d3Drag()\n        .on('start', (e) => {\n          lastX = e.x\n          if (this.props.focus) this.props.focus()\n        })\n        .on('drag', (e) => {\n          // If it was not a value slider before, make it one\n          if (this.props.type !== 'value') {\n            if (this.props.onChange) this.props.onChange('type', 'value')\n          }\n\n          const dx = e.x - lastX;\n          lastX = e.x;\n\n          // New location\n          const newValue = (\n            this.props.value + (\n              (dx / this.props.trackWidth) *\n              (this.props.max - this.props.min)\n            )\n          )\n\n          // Don't go outside bar\n          const newLimValue = Math.max(\n            this.props.min,\n            Math.min(\n              this.props.max,\n              newValue\n            )\n          )\n\n          this.props.onChange('value', newLimValue)\n        })\n        .container(() => this.base.parentNode.parentNode)\n      d3Select(this.base).select('.pickerBox').call(drag)\n    }\n  }\n\n  componentDidUpdate () {\n    this.setUpDrag()\n  }\n\n  componentDidMount () {\n    this.setUpDrag()\n  }\n\n  render () {\n    return (\n      <div\n        className='picker'\n        style={{\n          left: `${this.props.location * this.props.trackWidth}px`,\n          zIndex: this.props.zIndex\n        }}\n      >\n        {this.props.showTrash &&\n          <div className='trashDiv'>\n            <i\n              className='icon-trash-empty'\n              aria-hidden='true'\n              onClick={() => {\n                if (this.props.remove) this.props.remove()\n              }}\n            />\n          </div>\n        }\n        <div\n          className='pickerBox'\n          onClick={() => {\n            if (this.props.focus) this.props.focus()\n          }}\n        />\n        <div\n          className={\n            [\n              'pickerOptions',\n              this.props.location > 0.8 ? 'rightOptions' : ''\n            ].join(' ')\n          }\n        >\n          <input\n            type='text'\n            className='option'\n            value={\n              this.props.disabled ? '' : (\n                this.props.type === 'value'\n                ? parseFloat(this.props.value.toFixed(2))\n                : `${this.props.type} (${parseFloat(this.props.value.toFixed(2))})`\n              )\n            }\n            disabled={this.props.disabled}\n            onInput={(event) => {\n              const newVal = parseFloat(event.target.value)\n              if (!isNaN(newVal)) this.props.onChange('value', newVal)\n            }}\n            onFocus={(event) => {\n              event.target.select()\n              if (this.props.focus) this.props.focus()\n            }}\n          />\n          <select\n            className='typePicker'\n            value={this.props.type}\n            onChange={(event) => {\n              if (this.props.onChange) this.props.onChange('type', event.target.value)\n            }}\n            disabled={this.props.disabled}\n            onFocus={(event) => {\n              if (this.props.focus) this.props.focus()\n            }}\n          >\n            <option value='value'>Value</option>\n            <option value='min'>Min</option>\n            <option value='mean'>Mean</option>\n            <option value='Q1'>Q1</option>\n            <option value='median'>Median</option>\n            <option value='Q3'>Q3</option>\n            <option value='max'>Max</option>\n          </select>\n          <div className='colorOptions'>\n            <input\n              type='text'\n              className='colorText'\n              onInput={(event) => {\n                if (this.props.onChange) this.props.onChange('color', event.target.value)\n              }}\n              onFocus={(event) => {\n                event.target.select()\n                if (this.props.focus) this.props.focus()\n              }}\n              value={this.props.color || ''}\n              disabled={this.props.disabled}\n            />\n            <input\n              type='color'\n              className='colorWheel'\n              onInput={(event) => {\n                if (this.props.onChange) this.props.onChange('color', event.target.value)\n              }}\n              onFocus={(event) => {\n                event.target.select()\n                if (this.props.focus) this.props.focus()\n              }}\n              value={this.props.color || ''}\n              disabled={this.props.disabled}\n            />\n          </div>\n          <input\n            type='text'\n            className='option'\n            onInput={(event) => {\n              if (this.props.onChange) this.props.onChange('size', parseInt(event.target.value))\n            }}\n            onFocus={(event) => {\n              event.target.select()\n              if (this.props.focus) this.props.focus()\n            }}\n            value={this.props.size}\n            disabled={this.props.disabled}\n          />\n          {\n            this.props.duration && <input\n              type='text'\n              className='option'\n              onInput={(event) => {\n                if (this.props.onChange) this.props.onChange('duration', parseInt(event.target.value))\n              }}\n              onFocus={(event) => {\n                event.target.select()\n                if (this.props.focus) this.props.focus()\n              }}\n              value={this.props.duration}\n              disabled={this.props.disabled}\n            />\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Picker\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./ScaleSlider.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./ScaleSlider.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/** @jsx h */\n\nimport { h, Component } from 'preact'\nimport Picker from './Picker'\nimport update from 'immutability-helper'\nimport _ from 'underscore'\n\nimport './ScaleSlider.css'\n\nconst TRACK_WIDTH = 400\n\nclass ScaleSlider extends Component {\n  /**\n   * Sorts the color scale for makeGradient\n   */\n  sortScale () {\n    const newScale = _.sortBy(this.props.scale, stop => {\n      if (stop.type === 'value') {\n        return stop.value\n      } else {\n        return this.props.stats[stop.type]\n      }\n    })\n    return newScale\n  }\n\n  /**\n   * Places the pickers as a percentage of the max\n   */\n  placePickers () {\n    const stats = this.props.stats\n\n    // Get min and max from scale stops too\n    const [ absoluteMin, absoluteMax ] = this.props.scale.reduce(\n      ([ curMin, curMax ], stop) => {\n        if (stop.type === 'value') {\n          return [ Math.min(stop.value, curMin), Math.max(stop.value, curMax) ]\n        } else {\n          return [ curMin, curMax ]\n        }\n      },\n      [ stats.min, stats.max ]\n    )\n\n    // Calculate positions\n    const pickerLocations = this.props.scale.map(stop => {\n      const value = stop.type === 'value' ? stop.value : stats[stop.type]\n      // normalize within min/max\n      return (value - absoluteMin) / (absoluteMax - absoluteMin)\n    })\n\n    return { pickerLocations, absoluteMax, absoluteMin }\n  }\n\n  /**\n   * Function enabling modification of any color scale attribute\n   * @param {number} index - index of the scale object to be modified\n   * @param {string} parameter - the parameter to be replaced\n   * @param {(number|string)} value - the new value of the parameter\n   */\n  scaleChange (index, parameter, value) {\n    let newScale = null\n    if (parameter === 'type' && value !== 'value') {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value},\n          $unset: ['value']\n        }\n      })\n      this.props.onChange(newScale)\n    } else if (parameter === 'value' && this.props.scale[index].type !== 'value') {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value},\n          'type': {$set: 'value'}\n        }\n      })\n      this.props.onChange(newScale)\n    } else if (value === 'value') {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value},\n          $merge: {'value': this.props.stats[this.props.scale[index].type]}\n        }\n      })\n      this.props.onChange(newScale)\n    } else if (!isNaN(parseFloat(value)) || (value[0] === '#' && parameter === 'color')) {\n      newScale = update(this.props.scale, {\n        [index]: {\n          [parameter]: {$set: value}\n        }\n      })\n      this.props.onChange(newScale)\n    }\n  }\n\n  addColorStop (event) {\n    const newScale = update(this.props.scale, {\n      $push: [{\n        type: 'value',\n        value: event.layerX / event.target.clientWidth * this.props.stats.max +\n            (1 - event.layerX / event.target.clientWidth) * this.props.stats.min,\n        color: '#9696ff',\n        size: 20,\n        duration: 1\n      }]\n    })\n    this.props.onChange(newScale)\n  }\n\n  /**\n   * Sorts and then returns a string that can be fed into the HTML linear-gradient style\n   */\n  makeGradient (min, max) {\n    const sortedScale = this.sortScale()\n    // Fix for when there is one or zero stops\n    const sortedScaleFix = (\n      sortedScale.length < 2\n      ? [{ type: 'min', color: '#f1ecfa' }, { type: 'max', color: '#f1ecfa' }]\n      : sortedScale\n    )\n    return sortedScaleFix.map(stop => {\n      const value = stop.type === 'value' ? stop.value : this.props.stats[stop.type]\n      return ` ${stop.color} ${(value - min) / (max - min) * 100}%`\n    }).toString()\n  }\n\n  removeColorStop (index) {\n    const newScale = update(this.props.scale, {$splice: [[[index], 1]]})\n    this.props.onChange(newScale)\n  }\n\n  render () {\n    // -------\n    // No data\n    // -------\n\n    // Check for data\n    if (!this.props.stats) {\n      return (\n        <div className='scaleEditor'>\n          <div>\n            <div\n              className='scaleTrack disabled'\n              style={{ width: TRACK_WIDTH }}\n            >\n              {this.props.type} data not loaded\n              <Picker location={0} trackWidth={TRACK_WIDTH} disabled />\n              <Picker location={1} trackWidth={TRACK_WIDTH} disabled />\n            </div>\n          </div>\n          <div className='scaleLabels'>\n            <label>Value:</label><label>Color:</label><label>Size:</label>\n          </div>\n          <div className='noDataStyle'>\n            <label className='styleHeader'>Styles for reactions with no data</label>\n            <br />\n            <label>Color:</label>\n            <input type='text' className='colorInput' disabled />\n            <input type='color' className='colorWheel' disabled />\n            <label>Size:</label>\n            <input type='text' className='sizeInput' disabled />\n          </div>\n        </div>\n      )\n    }\n\n    // --------\n    // Has data\n    // --------\n\n    const {\n      pickerLocations,\n      absoluteMax,\n      absoluteMin\n    } = this.placePickers()\n\n    // Create the pickers\n    const pickers = this.props.scale.map((stop, i) => {\n      if (stop.type !== 'value') {\n        return (\n          <Picker\n            trackWidth={TRACK_WIDTH}\n            type={stop.type}\n            location={pickerLocations[i]}\n            onChange={\n              (parameter, value) => this.scaleChange(i, parameter, value)\n            }\n            focus={() => this.setState({ focusedPicker: i })}\n            remove={() => this.removeColorStop(i)}\n            min={absoluteMin}\n            max={absoluteMax}\n            value={\n              this.props.stats[stop.type]\n            }\n            color={stop.color}\n            size={stop.size}\n            duration={stop.duration}\n            zIndex={this.state.focusedPicker === i ? '2' : '0'}\n            showTrash={this.props.scale.length >= 3}\n          />\n        )\n      } else if (stop.value != null) {  // Check for valid value type\n        return (\n          <Picker\n            trackWidth={TRACK_WIDTH}\n            type={stop.type}\n            location={pickerLocations[i]}\n            onChange={\n              (parameter, value) => this.scaleChange(i, parameter, value)\n            }\n            focus={() => this.setState({focusedPicker: i})}\n            remove={() => this.removeColorStop(i)}\n            min={absoluteMin}\n            max={absoluteMax}\n            value={stop.value}\n            color={stop.color}\n            size={stop.size}\n            duration={stop.duration}\n            zIndex={this.state.focusedPicker === i ? '2' : '0'}\n            showTrash={this.props.scale.length >= 3}\n          />\n        )\n      }\n    })\n\n    // Render everything\n    return (\n      <div className='scaleEditor'>\n        <div>\n          <i className='settingsTip'>To add a color stop to the scale, click the gradient</i>\n          <div\n            className='scaleTrack'\n            style={{width: TRACK_WIDTH}}\n          >\n            <div\n              className='gradient'\n              onClick={(event) => this.addColorStop(event)}\n              style={{\n                background: `linear-gradient(to right,${this.makeGradient(absoluteMin, absoluteMax)})`\n              }}\n            />\n            {pickers}\n          </div>\n        </div>\n        <div className='scaleLabels'>\n          <label>Value:</label><label>Color:</label><label>Size:</label>\n          {this.props.type === \"Reaction\" && <label title=\"The seconds a reaction animation will last. The bigger the number, the slower the animation. And number must be greater than 0.\">Speed:</label>}\n        </div>\n        <div className='noDataStyle'>\n          <label className='styleHeader'>Styles for reactions with no data</label>\n          <br />\n          <label>\n            Color:\n          </label>\n          <input\n            type='text'\n            className='colorInput'\n            value={this.props.noDataColor}\n            onInput={event => this.props.onNoDataColorChange(event.target.value)}\n          />\n          <input\n            type='color'\n            className='colorWheel'\n            value={this.props.noDataColor}\n            onInput={event => this.props.onNoDataColorChange(event.target.value)}\n          />\n          <label>\n            Size:\n          </label>\n          <input\n            type='text'\n            className='sizeInput'\n            value={this.props.noDataSize}\n            onInput={event => this.props.onNoDataSizeChange(parseFloat(event.target.value))}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScaleSlider\n","/** @jsx h */\nimport {h, Component} from 'preact'\n\nclass ScaleSelection extends Component {\n  constructor (props) {\n    super(props)\n    const colors = []\n    if (props.scale) {\n      for (let i = 0; i < props.scale.length; i++) {\n        colors.push(props.scale[i].color)\n      }\n    }\n    this.state = {\n      colors\n    }\n  }\n  render () {\n    return (\n      <div className='scaleSelection' onClick={() => this.props.onClick()}>\n        <div>\n          {this.props.name}\n        </div>\n        <div className='scaleColors'>\n          {this.state.colors.map(color => {\n            return <i className='icon-blank' style={{color: color}} />\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScaleSelection\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./SettingsMenu.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./SettingsMenu.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/** @jsx h */\nimport { h, Component } from 'preact'\nimport ScaleSelector from './ScaleSelector'\nimport ScaleSlider from './ScaleSlider'\nimport ScaleSelection from './ScaleSelection'\nimport _ from 'underscore'\nimport './SettingsMenu.css'\nimport scalePresets from './scalePresets'\n\n/**\n * SettingsMenu. Handles the functions associated with the UI for changing\n * settings. Implements Settings.js but otherwise only uses\n * Preact.\n */\nclass SettingsMenu extends Component {\n  componentWillMount () {\n    this.props.settings.holdChanges()\n    this.setState({\n      clearEscape: this.props.map.key_manager.addEscapeListener(\n        () => this.abandonChanges(),\n        true\n      ),\n      clearEnter: this.props.map.key_manager.addKeyListener(\n        ['enter'],\n        () => this.saveChanges(),\n        true\n      )\n    })\n  }\n\n  componentWillUnmount () {\n    this.state.clearEscape()\n    this.state.clearEnter()\n  }\n\n  abandonChanges () {\n    this.props.settings.abandonChanges()\n    this.props.setDisplay(false)\n  }\n\n  saveChanges () {\n    this.props.settings.acceptChanges()\n    this.props.setDisplay(false)\n  }\n\n  /**\n   * Function to toggle one option in the reaction or metabolite styling.\n   * @param {String} value - the style option to be added or removed\n   * @param {String} type - reaction_style or metabolite_style\n   */\n  handleStyle (value, type) {\n    const currentSetting = this.props.settings.get(type)\n    const index = currentSetting.indexOf(value)\n    if (index === -1) {\n      this.props.settings.set(type, [...currentSetting, value])\n    } else {\n      this.props.settings.set(type, [\n        ...currentSetting.slice(0, index),\n        ...currentSetting.slice(index + 1)\n      ])\n    }\n  }\n\n  render () {\n    const settings = this.props.settings\n    const enableTooltips = settings.get('enable_tooltips') || []\n    const dataStatistics = this.props.map.get_data_statistics()\n\n    return (\n      <div className='settingsBackground'>\n        <div className='settingsBoxContainer'>\n          <button className='discardChanges btn' onClick={() => this.abandonChanges()}>\n            <i className='icon-cancel' aria-hidden='true' />\n          </button>\n          <button className='saveChanges btn' onClick={() => this.saveChanges()}>\n            <i className='icon-ok' aria-hidden='true' />\n          </button>\n          <div className='settingsBox'>\n            <div className='settingsTip'>\n              <i>Tip: Hover over an option to see more details about it.</i>\n            </div>\n            <hr />\n            <div className='title'>\n              View and build options\n            </div>\n            <div className='settingsContainer'>\n              <table className='radioSelection'>\n                <tr title='The identifiers that are show in the reaction, gene, and metabolite labels on the map.'>\n                  <td className='optionLabel'>Identifiers:</td>\n                  <td className='singleLine'>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='identifiers'\n                        onClick={() => { settings.set('identifiers_on_map', 'bigg_id') }}\n                        checked={settings.get('identifiers_on_map') === 'bigg_id'}\n                      />\n                      ID&apos;s\n                    </label>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='identifiers'\n                        onClick={() => { settings.set('identifiers_on_map', 'name') }}\n                        checked={settings.get('identifiers_on_map') === 'name'}\n                      />\n                      Descriptive names\n                    </label>\n                  </td>\n                </tr>\n              </table>\n              <table className='radioSelection'>\n                <tr title='Open the item in VMH or BiGG Models when the label is clicked'>\n                  <td className='optionLabel'>Open in vmh:</td>\n                  <td className='singleLine'>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='open_in_vmh'\n                        onClick={() => {\n                          settings.set('open_in_vmh', true)\n                          window.localStorage.setItem('open_in_vmh', true)\n                        }}\n                        checked={settings.get('open_in_vmh')}\n                      />\n                      vmh\n                    </label>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='open_in_vmh'\n                        onClick={() => {\n                          settings.set('open_in_vmh', false)\n                          window.localStorage.setItem('open_in_vmh', false)\n                        }}\n                        checked={!settings.get('open_in_vmh')}\n                      />\n                      BiGG\n                    </label>\n                  </td>\n                </tr>\n              </table>\n              <table className='radioSelection'>\n                <tr title='The '>\n                  <td className='optionLabel' title={'Animation Line Style'}>Line Style:</td>\n                  <td className='singleLine'>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='animation_line_style'\n                        onClick={() => {\n                          settings.set('animation_line_style', 'dashed')\n                        }}\n                        checked={settings.get('animation_line_style') === 'dashed'}\n                      />\n                      Dash\n                    </label>\n                    <label className='optionGroup'>\n                      <input\n                        type='radio'\n                        name='animation_line_style'\n                        onClick={() => {\n                          settings.set('animation_line_style', 'dotted')\n                        }}\n                        checked={settings.get('animation_line_style') === 'dotted'}\n                      />\n                      Dot\n                    </label>\n                  </td>\n                </tr>\n              </table>\n              <label title='If checked, then the scroll wheel and trackpad will control zoom rather than pan.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    if (settings.get('scroll_behavior') === 'zoom') {\n                      settings.set('scroll_behavior', 'pan')\n                    } else {\n                      settings.set('scroll_behavior', 'zoom')\n                    }\n                  }}\n                  checked={settings.get('scroll_behavior') === 'zoom'}\n                />\n                Scroll to zoom (instead of scroll to pan)\n              </label>\n              <label title='If checked, then only the primary metabolites will be displayed.'>\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'hide_secondary_metabolites',\n                      !settings.get('hide_secondary_metabolites')\n                    )\n                  }\n                  checked={settings.get('hide_secondary_metabolites')}\n                />\n                Hide secondary metabolites\n              </label>\n              <label\n                title='If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)'\n              >\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'show_gene_reaction_rules',\n                      !settings.get('show_gene_reaction_rules')\n                    )\n                  }\n                  checked={settings.get('show_gene_reaction_rules')}\n                  />\n                  Show gene reaction rules\n              </label>\n              <label title='If checked, hide all reaction, gene, and metabolite labels'>\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'hide_all_labels',\n                      !settings.get('hide_all_labels')\n                    )\n                  }\n                  checked={settings.get('hide_all_labels')}\n                />\n                Hide reaction, gene, and metabolite labels\n              </label>\n              <label title='If checked, then allow duplicate reactions during model building.'>\n                <input\n                  type='checkbox'\n                  onClick={() =>\n                    settings.set(\n                      'allow_building_duplicate_reactions',\n                      !settings.get('allow_building_duplicate_reactions')\n                    )\n                  }\n                  checked={settings.get('allow_building_duplicate_reactions')}\n                />\n                Allow duplicate reactions\n              </label>\n              <label title='If checked, then highlight in red all the reactions on the map that are not present in the loaded model.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    settings.set(\n                      'highlight_missing',\n                      !settings.get('highlight_missing')\n                    )\n                  }}\n                  checked={settings.get('highlight_missing')}\n                />\n                Highlight reactions not in model\n              </label>\n              <label\n                title='If checked, then the reactions with no flux will be hidden from the map when you loaded the reaction data.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    settings.set(\n                      'hide_no_data_reaction',\n                      !settings.get('hide_no_data_reaction')\n                    )\n                  }}\n                  checked={settings.get('hide_no_data_reaction')}\n                />\n                Hide no data reactions\n              </label>\n              <label title='If true, then use CSS3 3D transforms to speed up panning and zooming.'>\n                <input\n                  type='checkbox'\n                  onClick={() => {\n                    settings.set(\n                      'use_3d_transform',\n                      !settings.get('use_3d_transform')\n                    )\n                  }}\n                  checked={settings.get('use_3d_transform')}\n                />\n                Use 3D transform for responsive panning and zooming\n              </label>\n              <table style={{marginTop: '5px'}}>\n                <tr title='Determines over which elements tooltips will display for reactions, metabolites, and genes'>\n                  <td>\n                      Show tooltips over:\n                  </td>\n                  <td className='singleLine' >\n                    <label className='tooltipOption' title='If checked, tooltips will display over the gene, reaction, and metabolite labels'>\n                      <input\n                        type='checkbox'\n                        onClick={() => {\n                          const type = 'label'\n                          const newEnableTooltips = _.contains(enableTooltips, type)\n                                                  ? _.filter(enableTooltips, x => x !== type)\n                                                  : [...enableTooltips, type]\n                          settings.set('enable_tooltips', newEnableTooltips)\n                        }}\n                        checked={_.contains(enableTooltips, 'label')}\n                      />\n                      Labels\n                    </label>\n                    <label className='tooltipOption' title='If checked, tooltips will display over the reaction line segments and metabolite circles'>\n                      <input\n                        type='checkbox'\n                        onClick={() => {\n                          const type = 'object'\n                          const newEnableTooltips = _.contains(enableTooltips, type)\n                                                  ? _.filter(enableTooltips, x => x !== type)\n                                                  : [...enableTooltips, type]\n                          settings.set('enable_tooltips', newEnableTooltips)\n                        }}\n                        checked={_.contains(enableTooltips, 'object')}\n                      />\n                      Objects\n                    </label>\n                  </td>\n                </tr>\n              </table>\n            </div>\n            <div className='settingsTip' style={{marginTop: '16px'}}>\n              <i>Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).</i>\n            </div>\n            <hr />\n            <div className='scaleTitle'>\n              <div className='title'>\n                Reactions\n              </div>\n              <ScaleSelector disabled={dataStatistics.reaction === null}>\n                {Object.values(_.mapObject(scalePresets, (value, key) => {\n                  return (\n                    <ScaleSelection\n                      name={key}\n                      scale={value}\n                      onClick={() => {\n                        settings.set('reaction_scale_preset', key)\n                      }}\n                    />\n                  )\n                }))}\n              </ScaleSelector>\n            </div>\n            <ScaleSlider\n              scale={settings.get('reaction_scale')}\n              settings={settings}\n              type='Reaction'\n              stats={dataStatistics.reaction}\n              noDataColor={settings.get('reaction_no_data_color')}\n              noDataSize={settings.get('reaction_no_data_size')}\n              onChange={scale => {\n                settings.set('reaction_scale', scale)\n              }}\n              onNoDataColorChange={val => {\n                settings.set('reaction_no_data_color', val)\n              }}\n              onNoDataSizeChange={val => {\n                settings.set('reaction_no_data_size', val)\n              }}\n              abs={settings.get('reaction_styles').indexOf('abs') > -1}\n            />\n            <div className='subheading'>\n              Reaction or Gene data\n            </div>\n            <table className='radioSelection'>\n              <tr>\n                <td\n                  className='optionLabel'\n                  title='Options for reactions data'\n                >\n                Options:\n                </td>\n                <td>\n                  <label\n                    className='optionGroup'\n                    title='If checked, use the absolute value when calculating colors and sizes of reactions on the map'\n                  >\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('abs', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'abs')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Absolute value\n                  </label>\n                  <label\n                    className='optionGroup'\n                    title='If checked, then size the thickness of reaction lines according to the value of the reaction data'\n                  >\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('size', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'size')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Size\n                  </label>\n                  <label className='optionGroup' title='If checked, then color the reaction lines according to the value of the reaction data'>\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('color', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'color')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Color\n                  </label>\n                  <br />\n                  <label className='optionGroup' title='If checked, then show data values in the reaction labels'>\n                    <input\n                      type='checkbox'\n                      name='reactionStyle'\n                      onClick={() => this.handleStyle('text', 'reaction_styles')}\n                      checked={_.contains(settings.get('reaction_styles'), 'text')}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Text (Show data in label)\n                  </label>\n                </td>\n              </tr>\n              <tr title='The function that will be used to compare datasets, when paired data is loaded'>\n                <td className='optionLabel'>Comparison:</td>\n                <td>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='reactionCompare'\n                      onClick={() => settings.set('reaction_compare_style', 'fold')}\n                      checked={settings.get('reaction_compare_style') === 'fold'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Fold Change\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='reactionCompare'\n                      onClick={() => settings.set('reaction_compare_style', 'log2_fold')}\n                      checked={settings.get('reaction_compare_style') === 'log2_fold'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Log2 (Fold Change)\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='reactionCompare'\n                      onClick={() => settings.set('reaction_compare_style', 'diff')}\n                      checked={settings.get('reaction_compare_style') === 'diff'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Difference\n                  </label>\n                </td>\n              </tr>\n            </table>\n            <table className='radioSelection'>\n              <tr\n                title='The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)'\n              >\n                <td className='optionLabelWide'>Method for evaluating AND:</td>\n                <td>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='andMethod'\n                      onClick={() => settings.set('and_method_in_gene_reaction_rule', 'mean')}\n                      checked={settings.get('and_method_in_gene_reaction_rule') === 'mean'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Mean\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='andMethod'\n                      onClick={() => settings.set('and_method_in_gene_reaction_rule', 'min')}\n                      checked={settings.get('and_method_in_gene_reaction_rule') === 'min'}\n                      disabled={dataStatistics.reaction === null}\n                    />\n                    Min\n                  </label>\n                </td>\n              </tr>\n            </table>\n            <hr />\n            <div className='scaleTitle'>\n              <div className='title'>\n                Metabolites\n              </div>\n              <ScaleSelector disabled={dataStatistics.metabolite === null}>\n                {Object.values(_.mapObject(scalePresets, (value, key) => {\n                  return (\n                    <ScaleSelection\n                      name={key}\n                      scale={value}\n                      onClick={() => settings.set('metabolite_scale', value)}\n                    />\n                  )\n                }))}\n              </ScaleSelector>\n            </div>\n            <ScaleSlider\n              scale={settings.get('metabolite_scale')}\n              settings={settings}\n              type='Metabolite'\n              stats={dataStatistics.metabolite}\n              noDataColor={settings.get('metabolite_no_data_color')}\n              noDataSize={settings.get('metabolite_no_data_size')}\n              onChange={scale => {\n                settings.set('metabolite_scale', scale)\n              }}\n              onNoDataColorChange={val => {\n                settings.set('metabolite_no_data_color', val)\n              }}\n              onNoDataSizeChange={val => {\n                settings.set('metabolite_no_data_size', val)\n              }}\n              abs={_.contains(settings.get('metabolite_styles'), 'abs')}\n            />\n            <div className='subheading'>\n              Metabolite data\n            </div>\n            <table className='radioSelection'>\n              <tr>\n                <td\n                  className='optionLabel'\n                  title='Options for metabolite data'\n                >\n                Options:\n                </td>\n                <td>\n                  <label\n                    className='optionGroup'\n                    title='If checked, use the absolute value when calculating colors and sizes of metabolites on the map'\n                  >\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('abs', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'abs')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Absolute value\n                  </label>\n                  <label\n                    className='optionGroup'\n                    title='If checked, then size the thickness of reaction lines according to the value of the metabolite data'\n                  >\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('size', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'size')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Size\n                  </label>\n                  <label className='optionGroup' title='If checked, then color the reaction lines according to the value of the metabolite data'>\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('color', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'color')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Color\n                  </label>\n                  <br />\n                  <label className='optionGroup' title='If checked, then show data values in the metabolite labels'>\n                    <input\n                      type='checkbox'\n                      name='metaboliteStyle'\n                      onClick={() => this.handleStyle('text', 'metabolite_styles')}\n                      checked={_.contains(settings.get('metabolite_styles'), 'text')}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Text (Show data in label)\n                  </label>\n                </td>\n              </tr>\n              <tr title='The function that will be used to compare datasets, when paired data is loaded'>\n                <td className='optionLabel'>Comparison:</td>\n                <td>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='metaboliteCompare'\n                      onClick={() => settings.set('metabolite_compare_style', 'fold')}\n                      checked={settings.get('metabolite_compare_style') === 'fold'}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Fold Change\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='metaboliteCompare'\n                      onClick={() => settings.set('metabolite_compare_style', 'log2_fold')}\n                      checked={settings.get('metabolite_compare_style') === 'log2_fold'}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Log2 (Fold Change)\n                  </label>\n                  <label className='optionGroup'>\n                    <input\n                      type='radio'\n                      name='metaboliteCompare'\n                      onClick={() => settings.set('metabolite_compare_style', 'diff')}\n                      checked={settings.get('metabolite_compare_style') === 'diff'}\n                      disabled={dataStatistics.metabolite === null}\n                    />\n                    Difference\n                  </label>\n                </td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default SettingsMenu\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./Dropdown.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./Dropdown.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * Dropdown. Handles the behavior of the menu bar and the dropdowns. Composed of\n * a menu button and a corresponding menu that displays when the button is\n * clicked.\n */\n\n/** @jsx h */\nimport { h, Component } from 'preact'\nimport './Dropdown.css'\n\nclass Dropdown extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      visible: null\n    }\n    this.setWrapperRef = this.setWrapperRef.bind(this)\n    this.handleClickOutside = this.handleClickOutside.bind(this)\n  }\n\n  componentWillMount () {\n    this.setState({\n      visible: false\n    })\n  }\n\n  componentDidMount () {\n    document.addEventListener('mouseup', this.handleClickOutside)\n  }\n\n  componentWillReceiveProps (nextProps) {\n    this.setState({visible: nextProps.visible})\n  }\n\n  setWrapperRef (node) {\n    this.wrapperRef = node\n  }\n\n  handleClickOutside (event) {\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n      this.setState({visible: false})\n    }\n  }\n\n  render () {\n    return (\n      <li\n        className='dropdown'\n        style={this.props.disabledEditing\n          ? {display: 'none'}\n          : {display: 'block'}\n        }\n      >\n        <div\n          className='dropdownButton'\n          tabindex='0'\n          ref={this.setWrapperRef}\n          onClick={() => this.setState({visible: !this.state.visible})}\n        >\n          {this.props.name}&nbsp;\n          <i className='icon-sort-down' />\n        </div>\n        <ul\n          className='menu'\n          style={this.state.visible\n            ? {display: 'block'}\n            : {display: 'none'}}\n          id={this.props.rightMenu === 'true' ? 'rightMenu' : ''}\n        >\n          {this.props.children.map((listItem) => {\n            if (listItem && listItem.props.name === 'divider') {\n              return (\n                <li\n                  style={{\n                    height: '1px',\n                    backgroundColor: '#e5e5e5',\n                    padding: '0',\n                    margin: '8px 0'\n                  }}\n                />\n              )\n            } else {\n              return listItem\n            }\n          })}\n        </ul>\n      </li>\n    )\n  }\n}\n\nexport default Dropdown\n","/**\n * MenuButton. Handles the individual menu items within the Dropdown menus.\n * Takes in a name and a function and binds the function to a button. If the\n * type prop is defined as 'load' will instead render a label with an attached\n * hidden input[file] element.\n */\n\n/** @jsx h */\nimport { h, Component } from 'preact'\nimport _ from 'underscore'\nimport utils from './utils'\nimport dataStyles from './dataStyles'\n\nclass MenuButton extends Component {\n  constructor (props) {\n    super(props)\n    this.assignKeyForInput = this.assignKeyForInput.bind(this)\n  }\n\n  handleFileInput (target) {\n    const file = target.files[0]\n    const { fileInputProcessor } = this.props\n    if (fileInputProcessor) {\n      fileInputProcessor(file)\n    }else {\n      const reader = new window.FileReader()\n      reader.onload = () => {\n        utils.load_json_or_csv(file, dataStyles.csv_converter, (e, d) => this.props.onClick(d))\n      }\n      if (file !== undefined) {\n        reader.readAsText(file)\n      }\n    }\n    // reset input\n    target.value = null\n  }\n\n  assignKeyForInput (node) {\n    if (this.props.assignKey) {\n      this.props.assignKey(() => node.click())\n    }\n  }\n\n  render () {\n    const disabled = _.contains(this.props.disabledButtons, this.props.name.replace(/ \\(.*\\)$/, ''))\n    if (this.props.type === 'load') {\n      return (\n        <label\n          className='menuButton'\n          tabindex={disabled ? '-1' : '0'}\n          id={disabled ? 'disabled' : ''}\n        >\n          <input\n            type='file'\n            onChange={event => this.handleFileInput(event.target)}\n            accept={this.props.accept || '.json,.csv'}\n            disabled={disabled}\n            ref={this.assignKeyForInput}\n          />\n          {this.props.name}\n        </label>\n      )\n    } else if (this.props.checkMark) {\n      return (\n        <li\n          className='menuButton'\n          tabindex={disabled ? '-1' : '0'}\n          onClick={this.props.onClick}\n          id={disabled ? 'disabled' : ''}\n        >\n          <i className='icon-ok' aria-hidden='true'>&nbsp;</i>\n          {this.props.name}\n        </li>\n      )\n    } else {\n      return (\n        <li\n          className='menuButton'\n          tabindex={disabled ? '-1' : '0'}\n          onClick={disabled ? null : this.props.onClick}\n          id={disabled ? 'disabled' : ''}\n        >\n          {this.props.name}\n        </li>\n      )\n    }\n  }\n}\n\nexport default MenuButton\n","/** @jsx h */\nimport { h, Component } from 'preact'\nimport Dropdown from './Dropdown'\nimport MenuButton from './MenuButton'\n\n/**\n * MenuBar implements generic Dropdown and MenuButton objects to create the\n * Builder menu bar. Currently re-renders every time an edit mode is chosen.\n * This can be changed once Builder is ported to Preact.\n */\nclass MenuBar extends Component {\n  componentWillMount () {\n    this.props.sel.selectAll('.escher-zoom-container')\n        .on('touchend.menuBar', () => this.setState({ dropdownVisible: false }))\n        .on('click.menuBar', () => this.setState({ dropdownVisible: false }))\n  }\n\n  componentWillUnmount () {\n    this.props.sel.selectAll('.escher-zoom-container')\n        .on('touchend.menuBar', null)\n        .on('click.menuBar', null)\n  }\n\n  render () {\n    const enableKeys = this.props.settings.get('enable_keys')\n    const disabledButtons = this.props.settings.get('disabled_buttons')\n    const beziersEnabled = this.props.map.beziers_enabled\n    const fullScreenButtonEnabled = this.props.settings.get('full_screen_button')\n\n    return (\n      <ul className='menu-bar'>\n        <Dropdown name='Map' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name={'Save map JSON' + (enableKeys ? ' (Ctrl+S)' : '')}\n            onClick={() => this.props.saveMap()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Load map JSON' + (enableKeys ? ' (Ctrl+O)' : '')}\n            onClick={file => this.props.loadMap(file)}\n            assignKey={this.props.assignKeyLoadMap}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Import Background' + (enableKeys ? ' (Ctrl+I)' : '')}\n            fileInputProcessor={file => this.props.import_background(file)}\n            accept=\"image/*\"\n            type='load'\n            assignKey={this.props.assignKeyImportBackground}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Clear Background' + (enableKeys ? ' (Ctrl+Shift+I)' : '')}\n            onClick={() => this.props.clear_background()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Export as SVG' + (enableKeys ? ' (Ctrl+Shift+S)' : '')}\n            onClick={() => this.props.save_svg()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Export as PNG' + (enableKeys ? ' (Ctrl+Shift+P)' : '')}\n            onClick={() => this.props.save_png()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Export as GIF' + (enableKeys ? ' (Ctrl+Shift+G)' : '')}\n            onClick={() => this.props.save_gif()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear map'\n            onClick={() => this.props.clear_map()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown name='Model' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name={'Load COBRA model JSON' + (enableKeys ? ' (Ctrl+M)' : '')}\n            onClick={file => this.props.loadModel(file)}\n            assignKey={this.props.assignKeyLoadModel}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Update names and gene reaction rules using model'\n            onClick={() => this.props.updateRules()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear model'\n            onClick={() => this.props.clearModel()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown name='Data' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name='Load reaction data'\n            onClick={d => this.props.setReactionData(d)}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear reaction data'\n            onClick={() => this.props.clearReactionData()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name='Load gene data'\n            onClick={d => this.props.setGeneData(d)}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear gene data'\n            onClick={() => this.props.clearGeneData()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name='Load metabolite data'\n            onClick={d => this.props.setMetaboliteData(d)}\n            type='load'\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Clear metabolite data'\n            onClick={() => this.props.clearMetaboliteData()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown\n          name='Edit'\n          rightMenu='true'\n          dropdownVisible={this.props.dropdownVisible}\n          disabledEditing={!this.props.settings.get('enable_editing')}\n        >\n          <MenuButton\n            name={'Pan mode' + (enableKeys ? ' (Z)' : '')}\n            checkMark={this.props.mode === 'zoom'}\n            onClick={() => this.props.setMode('zoom')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Select mode' + (enableKeys ? ' (V)' : '')}\n            checkMark={this.props.mode === 'brush'}\n            onClick={() => this.props.setMode('brush')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Add reaction mode' + (enableKeys ? ' (N)' : '')}\n            checkMark={this.props.mode === 'build'}\n            onClick={() => this.props.setMode('build')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Rotate mode' + (enableKeys ? ' (R)' : '')}\n            checkMark={this.props.mode === 'rotate'}\n            onClick={() => this.props.setMode('rotate')}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Text mode' + (enableKeys ? ' (T)' : '')}\n            checkMark={this.props.mode === 'text'}\n            onClick={() => this.props.setMode('text')}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name={'Delete' + (enableKeys ? ' (Del)' : '')}\n            onClick={() => this.props.deleteSelected()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Undo' + (enableKeys ? ' (Ctrl+Z)' : '')}\n            onClick={() => this.props.undo()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Redo' + (enableKeys ? ' (Ctrl+Shift+Z)' : '')}\n            onClick={() => this.props.redo()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name={`Align vertical${enableKeys ? ' (Alt+L)' : ''}`}\n            onClick={this.props.align_vertical}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Align horizontal${enableKeys ? ' (Shift+Alt+L)' : ''}`}\n            onClick={this.props.align_horizontal}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Toggle primary/secondary' + (enableKeys ? ' (P)' : '')}\n            onClick={() => this.props.togglePrimary()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Rotate reactant locations' + (enableKeys ? ' (C)' : '')}\n            onClick={() => this.props.cyclePrimary()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          <MenuButton\n            name={'Select all' + (enableKeys ? ' (Ctrl+A)' : '')}\n            onClick={() => this.props.selectAll()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={'Select none' + (enableKeys ? ' (Ctrl+Shift+A)' : '')}\n            onClick={() => this.props.selectNone()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name='Invert selection'\n            onClick={() => this.props.invertSelection()}\n            disabledButtons={disabledButtons}\n          />\n        </Dropdown>\n        <Dropdown name='View' rightMenu='true' dropdownVisible={this.props.dropdownVisible}>\n          <MenuButton\n            name={`Zoom in${enableKeys ? ' (+)' : ''}`}\n            onClick={() => this.props.zoom_in()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Zoom out${enableKeys ? ' (-)' : ''}`}\n            onClick={() => this.props.zoom_out()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Zoom to nodes${enableKeys ? ' (0)' : ''}`}\n            onClick={() => this.props.zoomExtentNodes()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Zoom to canvas${enableKeys ? ' (1)' : ''}`}\n            onClick={() => this.props.zoomExtentCanvas()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`Find${enableKeys ? ' (F)' : ''}`}\n            onClick={() => this.props.search()}\n            disabledButtons={disabledButtons}\n          />\n          <MenuButton\n            name={`${beziersEnabled ? 'Hide' : 'Show'} control points${enableKeys ? ' (B)' : ''}`}\n            onClick={() => this.props.toggleBeziers()}\n            disabledButtons={disabledButtons}\n          />\n          <li name='divider' />\n          {/* TODO use preact X to combine the following 2 blocks */}\n          {fullScreenButtonEnabled &&\n            <MenuButton\n              name={'Full screen'}\n              onClick={() => this.props.full_screen()}\n              checkMark={this.props.isFullScreen}\n              disabledButtons={disabledButtons}\n            />\n          }\n          {fullScreenButtonEnabled &&\n            <li name='divider' />\n          }\n          <MenuButton\n            name={`Settings${enableKeys ? ' (,)' : ''}`}\n            onClick={() => this.props.renderSettingsMenu()}\n            disabledButtons={disabledButtons}\n            type='settings'\n          />\n        </Dropdown>\n        <div className=\"switch-container\">\n          <label className=\"switch tooltip\">\n            <input type=\"checkbox\"\n                   onClick={() => {\n                     this.props.settings.set('show_reaction_data_animation', !this.props.settings.get('show_reaction_data_animation'))\n                     this.props.settings.acceptChanges()\n                   }}\n                   checked={this.props.settings.get('show_reaction_data_animation')}\n            />\n            <span className=\"slider\"></span>\n            <span className=\"tooltiptext\">Show flux visualization( animation NOT available in Safari).</span>\n          </label>\n        </div>\n        <a className=\"helpButton\" target=\"#\" href='https://escher.readthedocs.org'>?</a>\n      </ul>\n    )\n  }\n}\n\nexport default MenuBar\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./SearchBar.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./SearchBar.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/** SearchBar */\n\n/** @jsx h */\nimport { h, Component } from 'preact'\nimport './SearchBar.css'\nimport _ from 'underscore'\n\nclass SearchBar extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      current: 0,\n      searchItem: props.searchItem,\n      counter: ''\n    }\n  }\n\n  componentWillMount () {\n    this.setState({\n      clearEscape: this.props.map.key_manager.addEscapeListener(\n        () => this.close(),\n        true\n      ),\n      clearNext: this.props.map.key_manager.addKeyListener(\n        ['enter', 'ctrl+g'],\n        () => this.next(),\n        false\n      ),\n      clearPrevious: this.props.map.key_manager.addKeyListener(\n        ['shift+enter', 'shift+ctrl+g'],\n        () => this.previous(),\n        false\n      )\n    })\n  }\n\n  componentDidMount () {\n    this.inputRef.focus()\n  }\n\n  componentWillUnmount () {\n    this.state.clearEscape()\n    this.state.clearNext()\n    this.state.clearPrevious()\n    this.props.map.highlight(null)\n  }\n\n  /**\n   * Updates map focus and search bar counter when new search term is entered.\n   * @param {string} value - Search term\n   */\n  handleInput (value) {\n    const results = this.dropDuplicates(this.props.map.search_index.find(value))\n    let counter = ''\n    if (results === null || !value) {\n      this.props.map.highlight(null)\n    } else if (results.length === 0) {\n      counter = '0 / 0'\n      this.props.map.highlight(null)\n    } else {\n      // Catches case where new search term shortens results to less than current index\n      if (this.state.current >= results.length) {\n        this.setState({\n          current: 0\n        })\n      }\n      counter = `${this.state.current + 1}/${results.length}`\n      const r = results[this.state.current]\n      if (r.type === 'reaction') {\n        this.props.map.zoom_to_reaction(r.reaction_id)\n        this.props.map.highlight_reaction(r.reaction_id)\n      } else if (r.type === 'metabolite') {\n        this.props.map.zoom_to_node(r.node_id)\n        this.props.map.highlight_node(r.node_id)\n      } else if (r.type === 'text_label') {\n        this.props.map.zoom_to_text_label(r.text_label_id)\n        this.props.map.highlight_text_label(r.text_label_id)\n      } else {\n        throw new Error('Bad search index data type: ' + r.type)\n      }\n    }\n    this.setState({\n      searchItem: value,\n      current: 0,\n      counter,\n      results\n    })\n  }\n\n  dropDuplicates (results) {\n    const compKeys = {\n      metabolite: {\n        type: 'm',\n        key: 'node_id'\n      },\n      reaction: {\n        type: 'r',\n        key: 'reaction_id'\n      },\n      text_label: {\n        type: 't',\n        key: 'text_label_id'\n      }\n    }\n    return _.uniq(results, item => {\n      // make a string for fast comparison\n      const {type, key} = compKeys[item.type]\n      return `${type}${item[key]}`\n    })\n  }\n\n  next () {\n    if (!(this.state.results && this.state.results.length > 0)) return\n    this.update((this.state.current + 1) % this.state.results.length)\n  }\n\n  previous () {\n    if (!(this.state.results && this.state.results.length > 0)) return\n    this.update(\n      (this.state.current + this.state.results.length - 1) %\n      this.state.results.length\n    )\n  }\n\n  /**\n   * Updates the map focus and search bar counter for when buttons are clicked.\n   * @param {number} current - index of current search result\n   */\n  update (current) {\n    this.setState({\n      current,\n      counter: `${current + 1}/${this.state.results.length}`\n    })\n    var r = this.state.results[current]\n    if (r.type === 'reaction') {\n      this.props.map.zoom_to_reaction(r.reaction_id)\n      this.props.map.highlight_reaction(r.reaction_id)\n    } else if (r.type === 'metabolite') {\n      this.props.map.zoom_to_node(r.node_id)\n      this.props.map.highlight_node(r.node_id)\n    } else if (r.type === 'text_label') {\n      this.props.map.zoom_to_text_label(r.text_label_id)\n      this.props.map.highlight_text_label(r.text_label_id)\n    } else {\n      throw new Error('Bad search index data type: ' + r.type)\n    }\n  }\n\n  close () {\n    this.props.setDisplay(false)\n  }\n\n  render () {\n    return (\n      <div className='search-container'>\n        <input\n          className='search-field'\n          value={this.state.searchItem}\n          onInput={event => this.handleInput(event.target.value)}\n          ref={input => { this.inputRef = input }}\n        />\n        <button className='search-bar-button left btn' onClick={() => this.previous()}>\n          <i className='icon-left-open' />\n        </button>\n        <button className='search-bar-button right btn' onClick={() => this.next()}>\n          <i className='icon-right-open' />\n        </button>\n        <div className='search-counter'>\n          {this.state.counter}\n        </div>\n        <button className='search-bar-button btn' onClick={() => this.close()}>\n          <i className='icon-cancel' />\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default SearchBar\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./ButtonPanel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./ButtonPanel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/** @jsx h */\nimport {h, Component} from 'preact'\nimport './ButtonPanel.css'\n\n/**\n * ButtonPanel. Sets up the button panel for Builder. Currently calls a\n * re-render on itself every time the mode is changed. This can be removed upon\n * porting Builder to Preact\n */\nclass ButtonPanel extends Component {\n  render () {\n    const menuSetting = this.props.settings.get('menu')\n    const enableKeys = this.props.settings.get('enable_keys')\n    const enableEditing = this.props.settings.get('enable_editing')\n\n    return (\n      <ul className='button-panel'>\n        <li>\n          <button\n            className='button btn'\n            onClick={() => this.props.zoomContainer.zoom_in()}\n            title={`Zoom in${enableKeys ? ' (+)' : ''}`}\n          >\n            <i className='icon-zoom-in' />\n          </button>\n        </li>\n        <li>\n          <button\n            className='button btn'\n            onClick={() => this.props.zoomContainer.zoom_out()}\n            title={`Zoom out${enableKeys ? ' (-)' : ''}`}\n          >\n            <i className='icon-zoom-out' />\n          </button>\n        </li>\n        <li>\n          <button\n            className='button btn'\n            onClick={() => this.props.map.zoom_extent_canvas()}\n            title={`Zoom to canvas${enableKeys ? ' (1)' : ''}`}\n          >\n            <i className='icon-resize-full' />\n          </button>\n        </li>\n        <li style={{display: this.props.settings.get('full_screen_button') !== false ? 'block' : 'none'}}>\n          <button\n            className={`button btn ${this.props.isFullScreen ? 'active-button' : ''}`}\n            onClick={() => this.props.full_screen()}\n            title={'Toggle full screen'}\n          >\n            <i className='icon-resize-full-alt' />\n          </button>\n        </li>\n        <li\n          className='grouping'\n          style={{display: menuSetting === 'all' && enableEditing ? 'block' : 'none'}}\n        >\n          <button\n            className='buttonGroup btn'\n            title={`Pan mode${enableKeys ? ' (Z)' : ''}`}\n            for='zoom'\n            id={this.props.mode === 'zoom' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('zoom')}\n          >\n            <i className='icon-move' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Select mode${enableKeys ? ' (V)' : ''}`}\n            for='brush'\n            id={this.props.mode === 'brush' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('brush')}\n          >\n            <i className='icon-mouse-pointer' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Add reaction mode${enableKeys ? ' (N)' : ''}`}\n            for='build'\n            onClick={() => this.props.setMode('build')}\n            id={this.props.mode === 'build' ? 'currentMode' : null}>\n            <i className='icon-wrench' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Rotate mode${enableKeys ? ' (R)' : ''}`}\n            for='rotate'\n            id={this.props.mode === 'rotate' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('rotate')}\n          >\n            <i className='icon-cw' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Text mode${enableKeys ? ' (T)' : ''}`}\n            for='text'\n            id={this.props.mode === 'text' ? 'currentMode' : null}\n            onClick={() => this.props.setMode('text')}\n          >\n            <i className='icon-font' />\n          </button>\n        </li>\n        <li\n          className='grouping'\n          style={{display: this.props.mode === 'build' && menuSetting === 'all' && enableEditing ? 'block' : 'none'}}\n        >\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' (←)' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.left()}\n          >\n            <i className='icon-left-big' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' (→)' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.right()}\n          >\n            <i className='icon-right-big' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' (↑)' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.up()}\n          >\n            <i className='icon-up-big' />\n          </button>\n          <button\n            className='buttonGroup btn'\n            title={`Direction arrow${enableKeys ? ' (↓)' : ''}`}\n            onClick={() => this.props.buildInput.direction_arrow.down()}\n          >\n            <i className='icon-down-big' />\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default ButtonPanel\n","/** @jsx h */\nimport CallbackManager from './CallbackManager'\nimport PlacedDiv from './PlacedDiv'\nimport renderWrapper from './renderWrapper'\nimport _ from 'underscore'\n\n/**\n * Manage the tooltip that lives in a PlacedDiv.\n * @param selection\n * @param tooltipComponent\n * @param zoomContainer\n * @param map\n */\nexport default class TooltipContainer {\n  constructor (selection, TooltipComponent, zoomContainer, map, settings) {\n    this.div = selection.append('div').attr('id', 'tooltip-container')\n    this.tooltipRef = null\n\n    this.zoomContainer = zoomContainer\n    this.setUpZoomCallbacks(zoomContainer)\n\n    // Create callback manager\n    this.callbackManager = new CallbackManager()\n\n    this.div.on('mouseover', this.cancelHideTooltip.bind(this))\n    this.div.on('mouseleave', this.hide.bind(this))\n\n    this.map = map\n    this.setUpMapCallbacks(map)\n\n    this.settings = settings\n\n    this.delay_hide_timeout = null\n    this.currentTooltip = null\n\n    renderWrapper(\n      TooltipComponent,\n      null,\n      passProps => this.callbackManager.set('pass_props', passProps),\n      this.div.node(),\n      instance => { this.tooltipRef = instance }\n    )\n    this.passProps({\n      display: false,\n      disableTooltips: () => this.disableTooltips(),\n      openInVmh: () => this.settings.get('open_in_vmh'),\n      vmhBasicUrl: () => this.settings.get('vmh_basic_url')\n    })\n  }\n\n  /**\n   * Disable tooltips in the settings\n   */\n  disableTooltips () {\n    this.settings.set('enable_tooltips', false)\n    // draw to update tooltip settings\n    this.map.draw_everything()\n    this.hide()\n    this.map.set_status(`Tooltips disabled. You can enable them again in the\n                         settings menu.`, 3000)\n  }\n\n  /**\n    * Function to pass props for the tooltips. Run without an argument to\n    * rerender the component\n    * @param {Object} props - Props that the tooltip will use\n    */\n  passProps (props = {}) {\n    this.callbackManager.run('pass_props', null, props)\n  }\n\n  /**\n   * Sets up the appropriate callbacks to show the input\n   * @param {object} map - map object\n   */\n  setUpMapCallbacks (map) {\n    this.placedDiv = PlacedDiv(this.div, map, undefined, false)\n\n    // connect callbacks to show tooltip\n    map.callback_manager.set('show_tooltip.tooltip_container', (type, d) => {\n      this.show(type, d)\n    })\n\n    // callback to hide / delay hide tooltip\n    map.callback_manager.set('hide_tooltip.tooltip_container', () => this.hide())\n    map.callback_manager.set('delay_hide_tooltip.tooltip_container', () => this.delayHide())\n\n    // Hides the tooltip when the canvas is touched\n    map.sel.selectAll('.canvas-group').on('touchend', () => this.hide())\n  }\n\n  setUpZoomCallbacks (zoomContainer) {\n    zoomContainer.callbackManager.set('zoom.tooltip_container', function () {\n      if (this.is_visible()) {\n        this.hide()\n      }\n    }.bind(this))\n    zoomContainer.callbackManager.set('go_to.tooltip_container', function () {\n      if (this.is_visible()) {\n        this.hide()\n      }\n    }.bind(this))\n  }\n\n  /**\n   * Return visibility of tooltip container.\n   * @return {Boolean} Whether tooltip is visible.\n   */\n  is_visible () { // eslint-disable-line camelcase\n    return this.placedDiv.is_visible()\n  }\n\n  /**\n   * Show and place the input.\n   * @param {string} type - 'reaction_label', 'node_label', or 'gene_label'\n   * @param {Object} d - D3 data for DOM element\n   */\n  show (type, d) {\n    // get rid of a lingering delayed hide\n    this.cancelHideTooltip()\n\n    if (_.contains([ 'reaction_label', 'node_label', 'gene_label', 'reaction_object', 'node_object' ], type)) {\n      // Use a default height if the ref hasn't been connected yet\n      const tooltipSize = (this.tooltipRef !== null && this.tooltipRef.get_size)\n                        ? this.tooltipRef.get_size()\n                        : { width: 270, height: 100 }\n      this.currentTooltip = { type, id: d[type.replace('_label', '_id').replace('_object', '_id')] }\n      const windowTranslate = this.zoomContainer.windowTranslate\n      const windowScale = this.zoomContainer.windowScale\n      const mapSize = this.map !== null ? this.map.get_size() : { width: 1000, height: 1000 }\n      const offset = {x: 0, y: 0}\n      const startPosX = type === 'reaction_object' ? d.xPos : d.label_x\n      const startPosY = type === 'reaction_object' ? d.yPos : d.label_y\n      const rightEdge = windowScale * startPosX + windowTranslate.x + tooltipSize.width\n      const bottomEdge = windowScale * startPosY + windowTranslate.y + tooltipSize.height\n      if (mapSize.width < 500) {\n        if (rightEdge > mapSize.width) {\n          offset.x = -(rightEdge - mapSize.width) / windowScale\n        }\n        if (bottomEdge > mapSize.height - 74) {\n          offset.y = -(bottomEdge - mapSize.height + 77) / windowScale\n        }\n      } else {\n        if (windowScale * startPosX + windowTranslate.x + 0.5 * tooltipSize.width > mapSize.width) {\n          offset.x = -tooltipSize.width / windowScale\n        } else if (rightEdge > mapSize.width) {\n          offset.x = -(rightEdge - mapSize.width) / windowScale\n        }\n        if (windowScale * startPosY + windowTranslate.y + 0.5 * tooltipSize.height > mapSize.height - 45) {\n          offset.y = -(tooltipSize.height) / windowScale\n        } else if (bottomEdge > mapSize.height - 45) {\n          offset.y = -(bottomEdge - mapSize.height + 47) / windowScale\n        }\n      }\n      const coords = { x: startPosX + offset.x, y: startPosY + 10 + offset.y }\n      this.placedDiv.place(coords)\n      this.passProps({\n        display: true,\n        biggId: d.bigg_id,\n        name: d.name,\n        loc: coords,\n        data: d.data_string,\n        type: type.replace('_label', '').replace('node', 'metabolite').replace('_object', '')\n      })\n    } else {\n      throw new Error('Tooltip not supported for object type ' + type)\n    }\n  }\n\n  /**\n   * Hide the input.\n   */\n  hide () {\n    this.placedDiv.hide()\n    this.currentTooltip = null\n  }\n\n  /**\n   * Hide the input after a short delay, so that mousing onto the tooltip does not\n   * cause it to hide.\n   */\n  delayHide () {\n    this.delayHideTimeout = setTimeout(() => this.hide(), 100)\n  }\n\n  cancelHideTooltip () {\n    if (this.delayHideTimeout !== null) {\n      clearTimeout(this.delayHideTimeout)\n    }\n  }\n}\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./DefaultTooltip.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./DefaultTooltip.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/* global window */\n/** @jsx h */\n\n/**\n * Define a Tooltip component and interface with Preact.\n */\nimport { h, Component } from 'preact'\nimport './DefaultTooltip.css'\nimport utils from './utils'\n\nclass DefaultTooltip extends Component {\n  constructor () {\n    super()\n    this.openBigg = this.openBigg.bind(this)\n  }\n\n  decompartmentalizeCheck (id, type) {\n  // ID without compartment, if metabolite.\n    return type === 'metabolite'\n      ? utils.decompartmentalize(id)[0]\n      : id\n  }\n\n  openBigg () {\n    const type = this.props.type\n    const biggId = this.props.biggId\n    const pref = 'http://bigg.ucsd.edu/'\n    const url = type === 'gene'\n      ? `${pref}search?query=${biggId}`\n      : `${pref}universal/${type}s/${this.decompartmentalizeCheck(biggId, type)}`\n\n    const vmh_link = `${this.props.vmhBasicUrl()}${biggId}`\n    window.open(this.props.openInVmh() ? vmh_link : url)\n  }\n\n  capitalizeFirstLetter (s) {\n    return typeof s === 'string'\n    ? s.charAt(0).toUpperCase() + s.slice(1)\n    : console.warn('capitalizeFirstLetter was passed something other than a string')\n  }\n\n  render () {\n    const decomp = this.decompartmentalizeCheck(this.props.biggId, this.props.type)\n    const biggButtonText = this.props.openInVmh() ? `Open ${decomp} in VMH` : `Open ${decomp} in BiGG Models.`\n    return (\n      <div className='default-tooltip'>\n        <div className='id'>\n          {this.props.biggId}\n        </div>\n        <div className='name'>\n          name: {this.props.name}\n        </div>\n        <div className='data'>\n          data: {\n            this.props.data && this.props.data !== '(nd)' ? this.props.data : 'no data'\n          }\n        </div>\n        <button onClick={this.openBigg}>\n          {biggButtonText}\n        </button>\n        <div className='top-right'>\n          <div className='type-label'>\n            {this.capitalizeFirstLetter(this.props.type)}\n          </div>\n          <a onClick={this.props.disableTooltips}>\n            Disable Tooltips\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DefaultTooltip\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./fontello.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./fontello.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./Builder.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./Builder.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * For documentation of this class, see docs/javascript_api.rst\n */\n\n/** @jsx h */\nimport utils from './utils'\nimport BuildInput from './BuildInput'\nimport ZoomContainer from './ZoomContainer'\nimport Map from './Map'\nimport CobraModel from './CobraModel'\nimport Brush from './Brush'\nimport CallbackManager from './CallbackManager'\nimport Settings from './Settings'\nimport TextEditInput from './TextEditInput'\nimport dataStyles from './dataStyles'\nimport renderWrapper from './renderWrapper'\nimport SettingsMenu from './SettingsMenu'\nimport MenuBar from './MenuBar'\nimport SearchBar from './SearchBar'\nimport ButtonPanel from './ButtonPanel'\nimport TooltipContainer from './TooltipContainer'\nimport DefaultTooltip from './DefaultTooltip'\nimport _ from 'underscore'\nimport {\n  select as d3Select,\n  selection as d3Selection\n} from 'd3-selection'\n\n// Include custom font set for icons\nimport '../icons/css/fontello.css'\n\n// Include GUI CSS normally with webpack\nimport './Builder.css'\n\n// Import CSS as a string to embed. This also works from lib because css/src get\n// uploaded to NPM.\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport builderEmbed from '!!raw-loader!./Builder-embed.css'\n\nclass Builder {\n  constructor (mapData, modelData, embeddedCss, selection, options) {\n    // Defaults\n    if (!selection) {\n      selection = d3Select('body').append('div')\n    } else if (selection instanceof d3Selection) {\n      // D3 V4 selection\n    } else if ('node' in selection) {\n      // If user passes in a selection from an different d3 version/instance,\n      // then reselect.\n      selection = d3Select(selection.node())\n    } else {\n      // HTML Element\n      selection = d3Select(selection)\n    }\n    if (!options) {\n      options = {}\n    }\n    if (!embeddedCss) {\n      embeddedCss = builderEmbed\n    }\n\n    this.map_data = mapData\n    this.model_data = modelData\n    this.embeddedCss = embeddedCss\n    this.selection = selection\n    this.menu_div = null\n    this.button_div = null\n    this.search_bar_div = null\n    this.searchBarRef = null\n    this.semanticOptions = null\n    this.mode = 'zoom'\n\n    // apply this object as data for the selection\n    this.selection.datum(this)\n    this.selection.__builder__ = this\n\n    // Remember if the user provided a custom value for reaction_styles\n    this.has_custom_reaction_styles = Boolean(options.reaction_styles)\n\n    // set defaults\n    const optionsWithDefaults = utils.set_options(options, {\n      // view options\n      menu: 'all',\n      scroll_behavior: 'pan',\n      use_3d_transform: false,\n      enable_editing: true,\n      enable_keys: true,\n      enable_search: true,\n      fill_screen: false,\n      zoom_to_element: null,\n      full_screen_button: false,\n      ignore_bootstrap: false,\n      disabled_buttons: null,\n      semantic_zoom: null,\n      // map, model, and styles\n      starting_reaction: null,\n      never_ask_before_quit: false,\n      unique_map_id: null, // deprecated\n      primary_metabolite_radius: 20,\n      secondary_metabolite_radius: 10,\n      marker_radius: 5,\n      gene_font_size: 18,\n      hide_secondary_metabolites: false,\n      show_gene_reaction_rules: false,\n      hide_all_labels: false,\n      canvas_size_and_loc: null,\n      // applied data\n      // reaction\n      reaction_data: null,\n      reaction_styles: ['color', 'size', 'text'],\n      reaction_compare_style: 'log2_fold',\n      reaction_scale: null,\n      reaction_scale_preset: 'GaBuGeRd',\n      reaction_no_data_color: '#dcdcdc',\n      reaction_no_data_size: 8,\n      show_reaction_data_animation: false,\n      // (dashed / dotted)\n      animation_line_style: 'dashed',\n      reaction_data_threshold: Math.pow(10, -6),\n      hide_no_data_reaction: false,\n      // background path\n      background_image_url: '',\n      // gene\n      gene_data: null,\n      and_method_in_gene_reaction_rule: 'mean',\n      // metabolite\n      metabolite_data: null,\n      metabolite_styles: ['color', 'size', 'text'],\n      metabolite_compare_style: 'log2_fold',\n      metabolite_scale: null,\n      metabolite_scale_preset: 'WhYlRd',\n      metabolite_no_data_color: '#ffffff',\n      metabolite_no_data_size: 10,\n      // View and build options\n      identifiers_on_map: 'bigg_id',\n      highlight_missing: false,\n      allow_building_duplicate_reactions: false,\n      cofactors: [\n        'atp', 'adp', 'nad', 'nadh', 'nadp', 'nadph', 'gtp', 'gdp', 'h', 'coa',\n        'ump', 'h2o', 'ppi'\n      ],\n      // tooltips link, open in bigg or vmh website\n      open_in_vmh: utils.get_local_storage_item('open_in_vmh') === 'true',\n      vmh_basic_url: 'https://www.vmh.life/#allsearch/',\n      // Extensions\n      tooltip_component: DefaultTooltip,\n      enable_tooltips: ['label'],\n      enable_keys_with_tooltip: true,\n      // Callbacks\n      first_load_callback: null\n    }, {\n      primary_metabolite_radius: true,\n      secondary_metabolite_radius: true,\n      marker_radius: true,\n      gene_font_size: true,\n      reaction_no_data_size: true,\n      metabolite_no_data_size: true\n    })\n\n    // Check the location\n    if (utils.check_for_parent_tag(this.selection, 'svg')) {\n      throw new Error('Builder cannot be placed within an svg node ' +\n                      'because UI elements are html-based.')\n    }\n\n    // The options that are erased when the settings menu is canceled\n    var conditional = [\n      'identifiers_on_map',\n      'scroll_behavior',\n      'hide_secondary_metabolites',\n      'show_gene_reaction_rules',\n      'hide_all_labels',\n      'allow_building_duplicate_reactions',\n      'highlight_missing',\n      'hide_no_data_reaction',\n      'open_in_vmh',\n      'animation_line_style',\n      'enable_tooltips',\n      'reaction_scale_preset',\n      'reaction_no_data_color',\n      'reaction_no_data_size',\n      'reaction_scale',\n      'reaction_styles',\n      'reaction_compare_style',\n      'and_method_in_gene_reaction_rule',\n      'metabolite_scale_preset',\n      'metabolite_scale',\n      'metabolite_styles',\n      'metabolite_compare_style',\n      'metabolite_no_data_color',\n      'metabolite_no_data_size'\n    ]\n    // this.options and this.settings used to have different functions, but now\n    // they are aliases\n    this.settings = new Settings(optionsWithDefaults, conditional)\n\n    // Filter the reaction data according to the threshold\n    const _reaction_data = this.settings.get(\"reaction_data\")\n    const _reaction_data_threshold = this.settings.get(\"reaction_data_threshold\")\n    const filteredReactionData = _reaction_data ? utils.process_reaction_data(_reaction_data, _reaction_data_threshold) :_reaction_data\n    this.settings.set(\"reaction_data\", filteredReactionData)\n\n    // Warn if full/fill screen options conflict\n    if (this.settings.get('fill_screen') && this.settings.get('full_screen_button')) {\n      this.settings.set('full_screen_button', false)\n      console.warn('The option full_screen_button has no effect when fill_screen is true')\n    }\n\n    // force full screen for fill_screen option\n    this.isFullScreen = false\n    if (this.settings.get('fill_screen')) {\n      d3Select('html').classed('fill-screen', true)\n      d3Select('body').classed('fill-screen', true)\n      this.selection.classed('fill-screen-div', true)\n      this.isFullScreen = true\n    }\n    this.savedFullScreenSettings = null\n    this.savedFullScreenParent = null\n    this.clearFullScreenEscape = null\n\n    // Set up this callback manager\n    this.callback_manager = new CallbackManager()\n    const firstLoadCallback = this.settings.get('first_load_callback')\n    if (firstLoadCallback !== null) {\n      this.callback_manager.set('first_load', () => {\n        firstLoadCallback(this)\n      })\n    }\n\n    // Set up the zoom container\n    this.zoom_container = new ZoomContainer(this.selection,\n                                            this.settings.get('scroll_behavior'),\n                                            this.settings.get('use_3d_transform'))\n    // Zoom container status changes\n    // this.zoom_container.callbackManager.set('svg_start', () => {\n    //   if (this.map) this.map.set_status('Drawing ...')\n    // })\n    // this.zoom_container.callbackManager.set('svg_finish', () => {\n    //   if (this.map) this.map.set_status('')\n    // })\n    this.zoom_container.callbackManager.set('zoom_change', () => {\n      if (this.settings.get('semantic_zoom')) {\n        const scale = this.zoom_container.windowScale\n        const optionObject = this.settings.get('semantic_zoom')\n                                 .sort((a, b) => a.zoomLevel - b.zoomLevel)\n                                 .find(a => a.zoomLevel > scale)\n        if (optionObject) {\n          let didChange = false\n          _.mapObject(optionObject.options, (value, key) => {\n            if (this.settings.get(key) !== value) {\n              this.settings.set(key, value)\n              didChange = true\n            }\n          })\n          if (didChange) this._updateData(false, true)\n        }\n      }\n    })\n    this.settings.streams.use_3d_transform.onValue(val => {\n      this.zoom_container.setUse3dTransform(val)\n    })\n    this.settings.streams.scroll_behavior.onValue(val => {\n      this.zoom_container.setScrollBehavior(val)\n    })\n\n    // Reactive tooltip settings\n    this.settings.streams.enable_tooltips.onValue(val => {\n      this._updateTooltipSetting(val)\n    })\n\n    this.mapToolsContainer = null\n    // Make a container for other map-related tools that will be reset on map load\n    if (this.selection.select('.map-tools-container').empty()) {\n      this.mapToolsContainer = this.selection.append('div')\n                                 .attr('class', 'map-tools-container')\n    }else {\n      this.mapToolsContainer = this.selection.select('.map-tools-container')\n    }\n\n    // Status in both modes\n    this._createStatus(this.selection)\n\n    // Load the model, map, and update data in both\n    this.load_model(this.model_data, false)\n\n    // Append the bars and menu divs to the document\n    var s = this.selection\n                .append('div').attr('class', 'search-menu-container')\n                .append('div').attr('class', 'search-menu-container-inline')\n    this.menu_div = s.append('div')\n    this.search_bar_div = s.append('div')\n    this.button_div = this.selection.append('div')\n    if (this.selection.select('#legend-config-modal').empty()) {\n      this.selection.append('div').attr('id', 'legend-config-modal')\n      this.selection.append('div').attr('id', 'legend-config-modal-overlay')\n    }\n\n    // Need to defer map loading to let webpack CSS load properly. Hack:\n    // Delaying 50ms to make sure the css calculations on map size take\n    // place.\n    _.delay(() => {\n      this.load_map(this.map_data, false)\n\n      const messageFn = this._reactionCheckAddAbs()\n      this._updateData(true, true)\n\n      // Setting callbacks. TODO enable atomic updates. Right now, every time the\n      // menu closes, everything is drawn.\n      this.settings.statusBus.onValue(x => {\n        if (x === 'accept') {\n          this._updateData(true, true, ['reaction', 'metabolite'], false)\n          if (this.zoom_container !== null) {\n            // TODO make this automatic\n            const newBehavior = this.settings.get('scroll_behavior')\n            this.zoom_container.setScrollBehavior(newBehavior)\n          }\n          if (this.map !== null) {\n            this.map.draw_all_nodes(false)\n            this.map.draw_all_reactions(true, false)\n            this.map.select_none()\n          }\n        }\n      })\n\n      if (messageFn !== null) setTimeout(messageFn, 500)\n\n      // Finally run callback\n      _.defer(() => this.callback_manager.run('first_load', this))\n    }, 50)\n  }\n\n  // builder.options is deprecated\n  get options () {\n    throw new Error('builder.options is deprecated. Use builder.settings.get() ' +\n                    'and builder.settings.set() instead.')\n  }\n  set options (_) {\n    throw new Error('builder.options is deprecated. Use builder.settings.get() ' +\n                    'and builder.settings.set() instead.')\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  load_model (modelData, shouldUpdateData = true) { // eslint-disable-line camelcase\n    // Check the cobra model\n    if (_.isNull(modelData)) {\n      this.cobra_model = null\n    } else {\n      this.cobra_model = CobraModel.from_cobra_json(modelData)\n    }\n\n    if (this.map) {\n      this.map.cobra_model = this.cobra_model\n      if (shouldUpdateData) {\n        this._updateData(true, false)\n      }\n      if (this.settings.get('highlight_missing')) {\n        this.map.draw_all_reactions(false, false)\n      }\n    }\n\n    this.callback_manager.run('load_model', null, modelData, shouldUpdateData)\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst\n   */\n  load_map (mapData, shouldUpdateData = true) { // eslint-disable-line camelcase\n    // Store map options that might be changed by semantic_zoom function\n    const tempSemanticOptions = {}\n    if (this.settings.get('semantic_zoom')) {\n      for (let level of this.settings.get('semantic_zoom')) {\n        Object.keys(level.options).map(option => {\n          if (tempSemanticOptions[option] === undefined) {\n            tempSemanticOptions[option] = this.settings.get(option)\n          }\n        })\n      }\n      this.semanticOptions = Object.assign({}, tempSemanticOptions)\n    }\n\n    // remove the old map and related divs\n    utils.remove_child_nodes(this.zoom_container.zoomedSel)\n    utils.remove_child_nodes(this.mapToolsContainer)\n\n    const zoomedSel = this.zoom_container.zoomedSel\n    const svg = this.zoom_container.svg\n\n    // remove the old map side effects\n    if (this.map) {\n      this.map.key_manager.toggle(false)\n    }\n\n    if (mapData !== null) {\n      // import map\n      this.map = Map.from_data(mapData,\n                               svg,\n                               this.embeddedCss,\n                               zoomedSel,\n                               this.zoom_container,\n                               this.settings,\n                               this.cobra_model,\n                               this.settings.get('enable_search'))\n    } else {\n      // new map\n      this.map = new Map(svg,\n                         this.embeddedCss,\n                         zoomedSel,\n                         this.zoom_container,\n                         this.settings,\n                         this.cobra_model,\n                         this.settings.get('canvas_size_and_loc'),\n                         this.settings.get('enable_search'))\n    }\n\n    if (this.settings.get('background_image_url')) {\n      this.map.import_background(this.settings.get('background_image_url'))\n    }\n\n    // Connect status bar\n    this._setupStatus(this.map)\n    this.map.set_status('Loading map ...')\n\n    // Connect tooltips\n    this._updateTooltipSetting(this.settings.get('enable_tooltips'))\n\n    // Set the data for the map\n    if (shouldUpdateData) {\n      this._updateData(false, true)\n    }\n\n    // Set up the reaction input with complete.ly\n    this.build_input = new BuildInput(this.mapToolsContainer, this.map,\n                                      this.zoom_container, this.settings)\n\n    // Set up the text edit input\n    this.text_edit_input = new TextEditInput(this.mapToolsContainer, this.map,\n                                             this.zoom_container)\n\n    // Set up the Brush\n    this.brush = new Brush(zoomedSel, false, this.map, '.canvas-group')\n    // reset brush when canvas resizes in brush mode\n    this.map.canvas.callbackManager.set('resize', () => {\n      if (this.mode === 'brush') this.brush.toggle(true)\n    })\n\n    // Set up menus\n    this.setUpSettingsMenu(this.mapToolsContainer)\n    this.setUpButtonPanel(this.mapToolsContainer)\n\n    // share a parent container for menu bar and search bar\n    const menu_container = this.mapToolsContainer\n                    .append('div').attr('class', 'search-menu-container')\n\n    const sel = menu_container.append('div').attr('class', 'search-menu-container-inline')\n    // Set up the reaction color legend\n    const legend_g = menu_container.append('svg').attr('class', 'legend-container').append('g').attr('class', 'legend-group').attr('transform', 'translate(10, 0)')\n\n    legend_g.append('defs').attr('class', 'legend-defs').append(\"linearGradient\")\n      .attr(\"id\", \"legend-gradient\")\n    legend_g.append('rect').attr('class', 'legend-rect')\n    legend_g.append('g').attr('class', 'legend-axis')\n\n    // Set up the vertical color legend for export as gif\n    menu_container.append('svg').attr('class', 'vertical-legend-container')\n\n    this.setUpMenuBar(sel)\n    this.setUpSearchBar(sel)\n\n    // Set up the tooltip container\n    this.tooltip_container = new TooltipContainer(\n      this.mapToolsContainer,\n      this.settings.get('tooltip_component'),\n      this.zoom_container,\n      this.map,\n      this.settings\n    )\n\n    // Set up key manager\n    this.map.key_manager.assignedKeys = this.getKeys()\n    // Tell the key manager about the reaction input and search bar\n    this.map.key_manager.inputList = [\n      this.build_input,\n      this.searchBarRef,\n      () => this.settingsMenuRef,\n      this.text_edit_input\n    ]\n    if (!this.settings.get('enable_keys_with_tooltip')) {\n      this.map.key_manager.inputList.push(this.tooltip_container)\n    }\n    // Make sure the key manager remembers all those changes\n    this.map.key_manager.update()\n    // Turn it on/off\n    this.map.key_manager.toggle(this.settings.get('enable_keys'))\n    this.settings.streams.enable_keys.onValue(val => {\n      // get keys given latest settings\n      this.map.key_manager.toggle(val)\n    })\n\n    // Disable clears\n    const newDisabledButtons = this.settings.get('disabled_buttons') || []\n    if (!this.settings.get('reaction_data')) {\n      newDisabledButtons.push('Clear reaction data')\n      newDisabledButtons.push('Export as GIF')\n    }\n    if (!this.settings.get('gene_data')) {\n      newDisabledButtons.push('Clear gene data')\n    }\n    if (!this.settings.get('metabolite_data')) {\n      newDisabledButtons.push('Clear metabolite data')\n    }\n    if (!this.settings.get('enable_search')) {\n      newDisabledButtons.push('Find')\n    }\n    if (!this.settings.get('enable_editing')) {\n      newDisabledButtons.push('Show control points')\n    }\n    this.settings.set('disabled_buttons', newDisabledButtons)\n\n    // Set up selection box\n    if (this.settings.get('zoom_to_element')) {\n      const type = this.settings.get('zoom_to_element').type\n      const elementId = this.settings.get('zoom_to_element').id\n      if (_.isUndefined(type) || [ 'reaction', 'node' ].indexOf(type) === -1) {\n        throw new Error('zoom_to_element type must be \"reaction\" or \"node\"')\n      }\n      if (_.isUndefined(elementId)) {\n        throw new Error('zoom_to_element must include id')\n      }\n      if (type === 'reaction') {\n        this.map.zoom_to_reaction(elementId)\n      } else if (type === 'node') {\n        this.map.zoom_to_node(elementId)\n      }\n    } else if (mapData) {\n      this.map.zoom_extent_canvas()\n    } else {\n      if (this.settings.get('starting_reaction') && this.cobra_model !== null) {\n        // Draw default reaction if no map is provided\n        const size = this.zoom_container.get_size()\n        const startCoords = { x: size.width / 2, y: size.height / 4 }\n        this.map.new_reaction_from_scratch(this.settings.get('starting_reaction'),\n                                           startCoords, 90)\n        this.map.zoom_extent_nodes()\n      } else {\n        this.map.zoom_extent_canvas()\n      }\n    }\n\n    // Start in zoom mode for builder, view mode for viewer\n    if (this.settings.get('enable_editing')) {\n      this.zoom_mode()\n    } else {\n      this.view_mode()\n    }\n    // when enabled_editing changes, go to view mode\n    this.settings.streams.enable_editing.onValue(val => {\n      if (val) this.zoom_mode()\n      else this.view_mode()\n    })\n\n    // confirm before leaving the page\n    if (this.settings.get('enable_editing')) {\n      this._setupConfirmBeforeExit()\n    }\n\n    // draw\n    this.map.draw_everything()\n\n    this.map.set_status('')\n\n    this.callback_manager.run('load_map', null, mapData, shouldUpdateData)\n  }\n\n  /**\n   * Function to pass props for the settings menu. Run without an argument to\n   * rerender the component\n   * @param {Object} props - Props that the settings menu will use\n   */\n  passPropsSettingsMenu (props = {}) {\n    this.map.callback_manager.run('pass_props_settings_menu', null, props)\n  }\n\n  /**\n   * Initialize the settings menu\n   */\n  setUpSettingsMenu (sel) {\n    this.settingsMenuRef = null\n    renderWrapper(\n      SettingsMenu,\n      instance => { this.settingsMenuRef = instance },\n      passProps => this.map.callback_manager.set('pass_props_settings_menu', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsSettingsMenu({\n      display: false,\n      settings: this.settings,\n      map: this.map\n    })\n\n    // redraw menu when settings change\n    _.mapObject(this.settings.streams, (stream, key) => {\n      stream.onValue(value => {\n        this.passPropsSettingsMenu()\n      })\n    })\n\n    // recalculate data when switching to/from absolute value\n    this.settings.streams.reaction_styles\n        .map(x => _.contains(x, 'abs'))\n        .skipDuplicates()\n        .onValue(() => this._updateData(false, true))\n    this.settings.streams.metabolite_styles\n        .map(x => _.contains(x, 'abs'))\n        .skipDuplicates()\n        .onValue(() => this._updateData(false, true))\n  }\n\n  /**\n   * Function to pass props for the menu bar\n   * @param {Object} props - Props that the menu bar will use\n   */\n  passPropsMenuBar (props = {}) {\n    this.map.callback_manager.run('pass_props_menu_bar', null, props)\n  }\n\n  /**\n   * Initialize the menu bar\n   * @param {D3 Selection} sel - The d3 selection to render in.\n   */\n  setUpMenuBar (sel) {\n    this.menuBarRef = null\n    renderWrapper(\n      MenuBar,\n      instance => { this.menuBarRef = instance },\n      passProps => this.map.callback_manager.set('pass_props_menu_bar', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsMenuBar({\n      display: this.settings.get('menu') === 'all',\n      settings: this.settings,\n      sel: this.selection,\n      mode: this.mode,\n      map: this.map,\n      saveMap: () => {\n        // Revert options changed by semanticZoom to their original values if option is active\n        if (this.semanticOptions) {\n          Object.entries(this.semanticOptions).map(([key, value]) => {\n            this.settings.set(key, value)\n          })\n          this._updateData()\n        }\n        this.map.save()\n      },\n      loadMap: file => this.load_map(file),\n      assignKeyLoadMap: fn => {\n        // connect the key for this input\n        this.map.key_manager.assignedKeys.load_map.fn = fn\n      },\n      save_svg: () => this.map.save_svg(),\n      save_png: () => this.map.save_png(),\n      save_gif: () => this.map.save_gif(),\n      import_background: (file) => this.map.import_background(file),\n      assignKeyImportBackground: fn => {\n        this.map.key_manager.assignedKeys.import_background.fn = fn\n      },\n      clear_background: () => this.map.clear_background(),\n      clear_map: () => { this.clear_map() },\n      loadModel: file => this.load_model(file, true),\n      assignKeyLoadModel: fn => {\n        // connect the key for this input\n        this.map.key_manager.assignedKeys.load_model.fn = fn\n      },\n      clearModel: () => {\n        this.load_model(null)\n        this.callback_manager.run('clear_model')\n      },\n      updateRules: () => this.map.convert_map(),\n      setReactionData: d => this.set_reaction_data(d),\n      clearReactionData: () => this.set_reaction_data(null),\n      setGeneData: d => this.set_gene_data(d),\n      clearGeneData: () => this.set_gene_data(null, true),\n      setMetaboliteData: d => this.set_metabolite_data(d),\n      clearMetaboliteData: d => this.set_metabolite_data(null),\n      setMode: mode => this._setMode(mode),\n      deleteSelected: () => this.map.delete_selected(),\n      undo: () => this.map.undo_stack.undo(),\n      redo: () => this.map.undo_stack.redo(),\n      align_vertical: () => this.map.align_vertical(),\n      align_horizontal: () => this.map.align_horizontal(),\n      togglePrimary: () => this.map.toggle_selected_node_primary(),\n      cyclePrimary: () => this.map.cycle_primary_node(),\n      selectAll: () => this.map.select_all(),\n      selectNone: () => this.map.select_none(),\n      invertSelection: () => this.map.invert_selection(),\n      zoom_in: () => this.zoom_container.zoom_in(),\n      zoom_out: () => this.zoom_container.zoom_out(),\n      zoomExtentNodes: () => this.map.zoom_extent_nodes(),\n      zoomExtentCanvas: () => this.map.zoom_extent_canvas(),\n      full_screen: () => this.full_screen(),\n      search: () => this.passPropsSearchBar({ display: true }),\n      toggleBeziers: () => this.map.toggle_beziers(),\n      renderSettingsMenu: () => this.passPropsSettingsMenu({ display: true })\n    })\n\n    // redraw when beziers change\n    this.map.callback_manager.set('toggle_beziers', () => {\n      this.passPropsMenuBar()\n    })\n\n    // redraw when disabledButtons change\n    this.settings.streams.disabled_buttons.onValue(value => {\n      this.passPropsMenuBar()\n    })\n\n    // redraw when mode changes\n    this.callback_manager.set('set_mode', mode => {\n      this.passPropsMenuBar({ mode })\n    })\n\n    // redraw when menu option changes\n    this.settings.streams.menu.onValue(menu => {\n      this.passPropsMenuBar({ display: menu === 'all' })\n    })\n\n    // redraw when full screen button changes\n    this.settings.streams.full_screen_button.onValue(value => {\n      this.passPropsMenuBar()\n    })\n  }\n\n  /**\n   * Function to pass props for the search bar\n   * @param {Object} props - Props that the search bar will use\n   */\n  passPropsSearchBar (props = {}) {\n    this.map.callback_manager.run('pass_props_search_bar', null, props)\n  }\n\n  /**\n   * Initialize the search bar\n   * @param {D3 Selection} sel - The d3 selection to render in.\n   */\n  setUpSearchBar (sel) {\n    this.searchBarRef = null\n    renderWrapper(\n      SearchBar,\n      instance => { this.searchBarRef = instance },\n      passProps => this.map.callback_manager.set('pass_props_search_bar', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsSearchBar({\n      display: false,\n      searchIndex: this.map.search_index,\n      map: this.map\n    })\n  }\n\n  /**\n   * Function to pass props for the button panel\n   * @param {Object} props - Props that the tooltip will use\n   */\n  passPropsButtonPanel (props = {}) {\n    this.map.callback_manager.run('pass_props_button_panel', null, props)\n  }\n\n  /**\n   * Initialize the button panel\n   */\n  setUpButtonPanel (sel) {\n    renderWrapper(\n      ButtonPanel,\n      null,\n      passProps => this.map.callback_manager.set('pass_props_button_panel', passProps),\n      sel.append('div').node()\n    )\n    this.passPropsButtonPanel({\n      display: _.contains(['all', 'zoom'], this.settings.get('menu')),\n      mode: this.mode,\n      settings: this.settings,\n      setMode: mode => this._setMode(mode),\n      zoomContainer: this.zoom_container,\n      map: this.map,\n      buildInput: this.build_input,\n      full_screen: () => this.full_screen()\n    })\n\n    // redraw when mode changes\n    this.callback_manager.set('set_mode', mode => {\n      this.passPropsButtonPanel({ mode })\n    })\n\n    // redraw when full screen button changes\n    this.settings.streams.full_screen_button.onValue(value => {\n      this.passPropsButtonPanel()\n    })\n  }\n\n  /**\n   * Set the mode\n   */\n  _setMode (mode) {\n    this.mode = mode\n\n    // input\n    this.build_input.toggle(mode === 'build')\n    this.build_input.direction_arrow.toggle(mode === 'build')\n    // brush\n    this.brush.toggle(mode === 'brush')\n    // zoom\n    this.zoom_container.togglePanDrag(mode === 'zoom' || mode === 'view')\n    // resize canvas\n    this.map.canvas.toggleResize(mode !== 'view')\n\n    // Behavior. Be careful of the order becuase rotation and\n    // toggle_selectable_drag both use Behavior.selectableDrag.\n    if (mode === 'rotate') {\n      this.map.behavior.toggleSelectableDrag(false) // before toggle_rotation_mode\n      this.map.behavior.toggleRotationMode(true) // XX\n    } else {\n      this.map.behavior.toggleRotationMode(mode === 'rotate') // before toggleSelectableDrag\n      this.map.behavior.toggleSelectableDrag(mode === 'brush') // XX\n    }\n    this.map.behavior.toggleSelectableClick(mode === 'build' || mode === 'brush') // XX\n    this.map.behavior.toggleLabelDrag(mode === 'brush') // XX\n    this.map.behavior.toggleTextLabelEdit(mode === 'text') // XX\n    this.map.behavior.toggleBezierDrag(mode === 'brush') // XX\n\n    // edit selections\n    if (mode === 'view' || mode === 'text') {\n      this.map.select_none()\n    }\n    if (mode === 'rotate') {\n      this.map.deselect_text_labels()\n    }\n\n    this.map.draw_everything()\n    // what's not allowing me to delete this? XX above\n\n    // callback\n    this.callback_manager.run('set_mode', null, mode)\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  view_mode () { // eslint-disable-line camelcase\n    this.callback_manager.run('view_mode')\n    this._setMode('view')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  build_mode () { // eslint-disable-line camelcase\n    this.callback_manager.run('build_mode')\n    this._setMode('build')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  brush_mode () { // eslint-disable-line camelcase\n    this.callback_manager.run('brush_mode')\n    this._setMode('brush')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  zoom_mode () { // eslint-disable-line camelcase\n    this.callback_manager.run('zoom_mode')\n    this._setMode('zoom')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  rotate_mode () { // eslint-disable-line camelcase\n    this.callback_manager.run('rotate_mode')\n    this._setMode('rotate')\n  }\n\n  /** For documentation of this function, see docs/javascript_api.rst. */\n  text_mode () { // eslint-disable-line camelcase\n    this.callback_manager.run('text_mode')\n    this._setMode('text')\n  }\n\n  _reactionCheckAddAbs () {\n    const currStyle = this.settings.get('reaction_styles')\n    if (\n      this.settings.get('reaction_data') &&\n      !this.has_custom_reaction_styles &&\n      !_.contains(currStyle, 'abs')\n    ) {\n      this.settings.set('reaction_styles', currStyle.concat('abs'))\n      return () => {\n        this.map.set_status('Visualizing absolute value of reaction data. ' +\n                            'Change this option in Settings.', 5000)\n      }\n    }\n    return null\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  set_reaction_data (data) { // eslint-disable-line camelcase\n    // filter data\n    const _reaction_data_threshold = this.settings.get(\"reaction_data_threshold\")\n    const filteredData = data ? utils.process_reaction_data(data, _reaction_data_threshold) : data;\n\n    this.settings.set('reaction_data', filteredData)\n\n    // clear gene data\n    if (filteredData) {\n      this.settings._options.gene_data = null\n    }\n\n    var messageFn = this._reactionCheckAddAbs()\n\n    this._updateData(true, true, ['reaction'])\n\n    if (messageFn) messageFn()\n    else this.map.set_status('')\n\n    const disabledButtons = this.settings.get('disabled_buttons') || []\n    const buttonName = 'Clear reaction data'\n    const exportAsGifButtonName = 'Export as GIF'\n    const geneButtonName = 'Clear gene data'\n    const index = disabledButtons.indexOf(buttonName)\n    if (filteredData && index !== -1) {\n      disabledButtons.splice(index, 1)\n      disabledButtons.splice(disabledButtons.indexOf(exportAsGifButtonName), 1)\n      const gInd = disabledButtons.indexOf(geneButtonName)\n      if (gInd === -1) disabledButtons.push(geneButtonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    } else if (!filteredData && index === -1) {\n      disabledButtons.push(buttonName)\n      disabledButtons.push(exportAsGifButtonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    }\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  set_gene_data (data, clearGeneReactionRules = false) { // eslint-disable-line camelcase\n    this.settings.set('gene_data', data)\n\n    if (clearGeneReactionRules) {\n      this.settings.set('show_gene_reaction_rules', false)\n    }\n\n    // clear reaction data; show gene reaction rules\n    if (data) {\n      this.settings._options.reaction_data = null\n      this.settings.set('show_gene_reaction_rules', true)\n    }\n\n    this._updateData(true, true, ['reaction'])\n    this.map.set_status('')\n\n    const disabledButtons = this.settings.get('disabled_buttons') || []\n    const index = disabledButtons.indexOf('Clear gene data')\n    const buttonName = 'Clear gene data'\n    const reactionButtonName = 'Clear reaction data'\n    if (index > -1 && data) {\n      disabledButtons.splice(index, 1)\n      const rInd = disabledButtons.indexOf('Clear reaction data')\n      if (rInd === -1) disabledButtons.push(reactionButtonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    } else if (index === -1 && !data) {\n      disabledButtons.push(buttonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    }\n  }\n\n  /**\n   * For documentation of this function, see docs/javascript_api.rst.\n   */\n  set_metabolite_data (data) { // eslint-disable-line camelcase\n    this.settings.set('metabolite_data', data)\n\n    this._updateData(true, true, ['metabolite'])\n    this.map.set_status('')\n\n    const disabledButtons = this.settings.get('disabled_buttons') || []\n    const buttonName = 'Clear metabolite data'\n    const index = disabledButtons.indexOf(buttonName)\n    if (index > -1 && data) {\n      disabledButtons.splice(index, 1)\n      this.settings.set('disabled_buttons', disabledButtons)\n    } else if (index === -1 && !data) {\n      disabledButtons.push(buttonName)\n      this.settings.set('disabled_buttons', disabledButtons)\n    }\n  }\n\n  _makeGeneDataObject (geneData, cobraModel, map) {\n    const allReactions = {}\n    if (cobraModel !== null) {\n      utils.extend(allReactions, cobraModel.reactions)\n    }\n    // extend, overwrite\n    if (map !== null) {\n      utils.extend(allReactions, map.reactions, true)\n    }\n\n    // this object has reaction keys and values containing associated genes\n    return dataStyles.importAndCheck(geneData, 'gene_data', allReactions)\n  }\n\n  /**\n   * Clear the map\n   */\n  clear_map () { // eslint-disable-line camelcase\n    this.callback_manager.run('clear_map')\n    this.map.clearMapData()\n    this._updateData(true, true, ['reaction', 'metabolite'], false)\n    this.map.draw_everything()\n  }\n\n  /**\n   * Set data and settings for the model.\n   * update_model: (Boolean) Update data for the model.\n   * update_map: (Boolean) Update data for the map.\n   * kind: (Optional, Default: all) An array defining which data is being updated\n   * that can include any of: ['reaction', 'metabolite'].\n   * should_draw: (Optional, Default: true) Whether to redraw the update sections\n   * of the map.\n   */\n  _updateData (\n    updateModel = false,\n    updateMap = false,\n    kind = ['reaction', 'metabolite'],\n    shouldDraw = true\n  ) {\n    const updateReactionData = _.contains(kind, 'reaction')\n    const updateMetaboliteData = _.contains(kind, 'metabolite')\n    let metaboliteDataObject\n    let reactionDataObject\n    let geneDataObject\n\n    // -------------------\n    // First map, and draw\n    // -------------------\n\n    // metabolite data\n    if (updateMetaboliteData && updateMap && this.map !== null) {\n      metaboliteDataObject = dataStyles.importAndCheck(this.settings.get('metabolite_data'),\n                                                       'metabolite_data')\n      this.map.apply_metabolite_data_to_map(metaboliteDataObject)\n      if (shouldDraw) {\n        this.map.draw_all_nodes(false)\n      }\n    }\n\n    // reaction data\n    if (updateReactionData) {\n      if (this.settings.get('reaction_data') && updateMap && this.map !== null) {\n        reactionDataObject = dataStyles.importAndCheck(this.settings.get('reaction_data'),\n                                                       'reaction_data')\n        this.map.apply_reaction_data_to_map(reactionDataObject)\n        if (shouldDraw) {\n          this.map.draw_all_reactions(false, false)\n        }\n      } else if (this.settings.get('gene_data') && updateMap && this.map !== null) {\n        geneDataObject = this._makeGeneDataObject(this.settings.get('gene_data'),\n                                                  this.cobra_model, this.map)\n        this.map.apply_gene_data_to_map(geneDataObject)\n        if (shouldDraw) {\n          this.map.draw_all_reactions(false, false)\n        }\n      } else if (updateMap && this.map !== null) {\n        // clear the data\n        this.map.apply_reaction_data_to_map(null)\n        if (shouldDraw) {\n          this.map.draw_all_reactions(false, false)\n        }\n      }\n    }\n\n    // ----------------------------------------------------------------\n    // Then the model, after drawing. Delay by 5ms so the the map draws\n    // first.\n    // ----------------------------------------------------------------\n\n    // If this function runs again, cancel the previous model update\n    if (this.update_model_timer) {\n      clearTimeout(this.update_model_timer)\n    }\n\n    const delay = 5\n    this.update_model_timer = setTimeout(() => {\n      // metabolite_data\n      if (updateMetaboliteData && updateModel && this.cobra_model !== null) {\n        // if we haven't already made this\n        if (!metaboliteDataObject) {\n          metaboliteDataObject = dataStyles.importAndCheck(this.settings.get('metabolite_data'),\n                                                           'metabolite_data')\n        }\n        this.cobra_model.apply_metabolite_data(metaboliteDataObject,\n                                               this.settings.get('metabolite_styles'),\n                                               this.settings.get('metabolite_compare_style'))\n      }\n\n      // reaction data\n      if (updateReactionData) {\n        if (this.settings.get('reaction_data') && updateModel && this.cobra_model !== null) {\n          // if we haven't already made this\n          if (!reactionDataObject) {\n            reactionDataObject = dataStyles.importAndCheck(this.settings.get('reaction_data'),\n                                                           'reaction_data')\n          }\n          this.cobra_model.apply_reaction_data(reactionDataObject,\n                                               this.settings.get('reaction_styles'),\n                                               this.settings.get('reaction_compare_style'))\n        } else if (this.settings.get('gene_data') && updateModel && this.cobra_model !== null) {\n          if (!geneDataObject) {\n            geneDataObject = this._makeGeneDataObject(this.settings.get('gene_data'),\n                                                      this.cobra_model, this.map)\n          }\n          this.cobra_model.apply_gene_data(geneDataObject,\n                                           this.settings.get('reaction_styles'),\n                                           this.settings.get('identifiers_on_map'),\n                                           this.settings.get('reaction_compare_style'),\n                                           this.settings.get('and_method_in_gene_reaction_rule'))\n        } else if (updateModel && this.cobra_model !== null) {\n          // clear the data\n          this.cobra_model.apply_reaction_data(null,\n                                               this.settings.get('reaction_styles'),\n                                               this.settings.get('reaction_compare_style'))\n        }\n      }\n\n      // callback\n      this.callback_manager.run('update_data', null, updateModel, updateMap,\n                                kind, shouldDraw)\n    }, delay)\n  }\n\n  _createStatus (selection) {\n    this.status_bar = selection.append('div').attr('id', 'status')\n  }\n\n  _setupStatus (map) {\n    map.callback_manager.set('set_status', status => this.status_bar.html(status))\n  }\n\n  _updateTooltipSetting (setting) {\n    this.map.behavior.toggleLabelMouseover(setting && setting.includes('label'))\n    this.map.behavior.toggleObjectMouseover(setting && setting.includes('object'))\n  }\n\n  /**\n   * Define keyboard shortcuts\n   */\n  getKeys () {\n    const map = this.map\n    const zoom_container = this.zoom_container // eslint-disable-line camelcase\n    return {\n      save: {\n        key: 'ctrl+s',\n        target: map,\n        fn: map.save\n      },\n      import_background: {\n        key: 'ctrl+i',\n        fn: null // defined by button\n      },\n      clear_background: {\n        key: 'ctrl+shift+i',\n        target: map,\n        fn: map.clear_background\n      },\n      save_svg: {\n        key: 'ctrl+shift+s',\n        target: map,\n        fn: map.save_svg\n      },\n      save_png: {\n        key: 'ctrl+shift+p',\n        target: map,\n        fn: map.save_png\n      },\n      save_gif: {\n        key: 'ctrl+shift+g',\n        target: map,\n        fn: map.save_gif\n      },\n      load_map: {\n        key: 'ctrl+o',\n        fn: null // defined by button\n      },\n      convert_map: {\n        target: map,\n        fn: map.convert_map\n      },\n      load_model: {\n        key: 'ctrl+m',\n        fn: null // defined by button\n      },\n      zoom_in_ctrl: {\n        key: 'ctrl+=',\n        target: zoom_container,\n        fn: zoom_container.zoom_in\n      },\n      zoom_in: {\n        key: '=',\n        target: zoom_container,\n        fn: zoom_container.zoom_in,\n        ignoreWithInput: true\n      },\n      zoom_out_ctrl: {\n        key: 'ctrl+-',\n        target: zoom_container,\n        fn: zoom_container.zoom_out\n      },\n      zoom_out: {\n        key: '-',\n        target: zoom_container,\n        fn: zoom_container.zoom_out,\n        ignoreWithInput: true\n      },\n      extent_nodes_ctrl: {\n        key: 'ctrl+0',\n        target: map,\n        fn: map.zoom_extent_nodes\n      },\n      extent_nodes: {\n        key: '0',\n        target: map,\n        fn: map.zoom_extent_nodes,\n        ignoreWithInput: true\n      },\n      extent_canvas_ctrl: {\n        key: 'ctrl+1',\n        target: map,\n        fn: map.zoom_extent_canvas\n      },\n      extent_canvas: {\n        key: '1',\n        target: map,\n        fn: map.zoom_extent_canvas,\n        ignoreWithInput: true\n      },\n      view_mode: {\n        target: this,\n        fn: this.view_mode,\n        ignoreWithInput: true\n      },\n      show_settings_ctrl: {\n        key: 'ctrl+,',\n        fn: () => this.passPropsSettingsMenu({ display: true })\n      },\n      show_settings: {\n        key: ',',\n        fn: () => this.passPropsSettingsMenu({ display: true }),\n        ignoreWithInput: true\n      },\n      build_mode: {\n        key: 'n',\n        target: this,\n        fn: this.build_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      zoom_mode: {\n        key: 'z',\n        target: this,\n        fn: this.zoom_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      brush_mode: {\n        key: 'v',\n        target: this,\n        fn: this.brush_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      rotate_mode: {\n        key: 'r',\n        target: this,\n        fn: this.rotate_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      text_mode: {\n        key: 't',\n        target: this,\n        fn: this.text_mode,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      toggle_beziers: {\n        key: 'b',\n        target: map,\n        fn: map.toggle_beziers,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      delete_ctrl: {\n        key: 'ctrl+backspace',\n        target: map,\n        fn: map.delete_selected,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      delete: {\n        key: 'backspace',\n        target: map,\n        fn: map.delete_selected,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      delete_del: {\n        key: 'del',\n        target: map,\n        fn: map.delete_selected,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      align_vertical: {\n        key: 'alt+l',\n        target: map,\n        fn: map.align_vertical\n      },\n      align_horizontal: {\n        key: 'shift+alt+l',\n        target: map,\n        fn: map.align_horizontal\n      },\n      toggle_primary: {\n        key: 'p',\n        target: map,\n        fn: map.toggle_selected_node_primary,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      cycle_primary: {\n        key: 'c',\n        target: map,\n        fn: map.cycle_primary_node,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_right: {\n        key: 'right',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.right,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_down: {\n        key: 'down',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.down,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_left: {\n        key: 'left',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.left,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      direction_arrow_up: {\n        key: 'up',\n        target: this.build_input.direction_arrow,\n        fn: this.build_input.direction_arrow.up,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      undo: {\n        key: 'ctrl+z',\n        target: map.undo_stack,\n        fn: map.undo_stack.undo,\n        requires: 'enable_editing'\n      },\n      redo: {\n        key: 'ctrl+shift+z',\n        target: map.undo_stack,\n        fn: map.undo_stack.redo,\n        requires: 'enable_editing'\n      },\n      select_all: {\n        key: 'ctrl+a',\n        target: map,\n        fn: map.select_all,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      select_none: {\n        key: 'ctrl+shift+a',\n        target: map,\n        fn: map.select_none,\n        ignoreWithInput: true,\n        requires: 'enable_editing'\n      },\n      invert_selection: {\n        target: map,\n        fn: map.invert_selection,\n        requires: 'enable_editing'\n      },\n      search_ctrl: {\n        key: 'ctrl+f',\n        fn: () => this.passPropsSearchBar({ display: true }),\n        requires: 'enable_search'\n      },\n      search: {\n        key: 'f',\n        fn: () => this.passPropsSearchBar({ display: true }),\n        ignoreWithInput: true,\n        requires: 'enable_search'\n      }\n    }\n  }\n\n  /**\n   * Ask if the user wants to exit the page (to avoid unplanned refresh).\n   */\n  _setupConfirmBeforeExit () {\n    window.onbeforeunload = _ => this.settings.get('never_ask_before_quit')\n                               ? null\n                               : 'You will lose any unsaved changes.'\n  }\n\n  /**\n   * Toggle full screen mode.\n   */\n  full_screen () { // eslint-disable-line camelcase\n    // these settings can update in full screen if provided\n    const fullScreenSettings = [\n      'menu',\n      'scroll_behavior',\n      'enable_editing',\n      'enable_keys',\n      'enable_tooltips'\n    ]\n\n    if (this.isFullScreen) {\n      d3Select('html').classed('fill-screen', false)\n      d3Select('body').classed('fill-screen', false)\n      this.selection.classed('fill-screen-div', false)\n      this.isFullScreen = false\n\n      // clear escape listener\n      if (this.clearFullScreenEscape) {\n        this.clearFullScreenEscape()\n        this.clearFullScreenEscape = null\n      }\n\n      // hack for full screen in jupyterlab / notebook\n      if (this.savedFullScreenParent) {\n        const parentNode = this.savedFullScreenParent.node()\n        parentNode.insertBefore(this.selection.remove().node(), parentNode.firstChild)\n        this.savedFullScreenParent = null\n      }\n\n      // apply the saved settings\n      if (this.savedFullScreenSettings !== null) {\n        _.mapObject(this.savedFullScreenSettings, (v, k) => {\n          this.settings.set(k, v)\n        })\n      }\n      this.savedFullScreenSettings = null\n    } else {\n      // save current settings\n      const fullScreenButton = this.settings.get('full_screen_button')\n      if (_.isObject(fullScreenButton)) {\n        this.savedFullScreenSettings = (\n          _.chain(fullScreenButton)\n           .pairs()\n           .map(([k, v]) => {\n             if (_.contains(fullScreenSettings, k)) {\n               const currentSetting = this.settings.get(k)\n               this.settings.set(k, v)\n               return [k, currentSetting]\n             } else {\n               console.warn(`${k} not recognized as an option for full_screen_button`)\n               return [null, null]\n             }\n           })\n           .filter(([k, v]) => k)\n           .object()\n           .value()\n        )\n      }\n\n      d3Select('html').classed('fill-screen', true)\n      d3Select('body').classed('fill-screen', true)\n      this.selection.classed('fill-screen-div', true)\n      this.isFullScreen = true\n\n      // hack for full screen in jupyterlab\n      this.savedFullScreenParent = d3Select(this.selection.node().parentNode)\n      const bodyNode = d3Select('body').node()\n      bodyNode.insertBefore(this.selection.remove().node(), bodyNode.firstChild)\n\n      // set escape listener\n      this.clearFullScreenEscape = this.map.key_manager.addEscapeListener(\n        () => this.full_screen()\n      )\n    }\n    this.map.zoom_extent_canvas()\n    this.passPropsButtonPanel({ isFullScreen: this.isFullScreen })\n    this.passPropsMenuBar({ isFullScreen: this.isFullScreen })\n  }\n}\n\nexport default utils.class_with_optional_new(Builder)\n","export default \"svg.escher-svg #mouse-node {\\n  fill: none;\\n}\\nsvg.escher-svg #canvas {\\n  stroke: #ccc;\\n  stroke-width: 7px;\\n  fill: white;\\n}\\nsvg.escher-svg .resize-rect {\\n  fill: black;\\n  opacity: 0;\\n  stroke: none;\\n}\\nsvg.escher-svg .label {\\n  font-family: sans-serif;\\n  font-style: italic;\\n  font-weight: bold;\\n  font-size: 8px;\\n  fill: black;\\n  stroke: none;\\n  text-rendering: optimizelegibility;\\n  cursor: default;\\n}\\nsvg.escher-svg .reaction-label {\\n  font-size: 30px;\\n  fill: rgb(32, 32, 120);\\n  text-rendering: optimizelegibility;\\n}\\nsvg.escher-svg .node-label {\\n  font-size: 20px;\\n}\\nsvg.escher-svg .gene-label {\\n  font-size: 18px;\\n  fill: rgb(32, 32, 120);\\n  text-rendering: optimizelegibility;\\n  cursor: default;\\n}\\nsvg.escher-svg .text-label .label {\\n  font-size: 50px;\\n}\\nsvg.escher-svg .text-label-input {\\n  font-size: 50px;\\n}\\nsvg.escher-svg .node-circle {\\n  stroke-width: 2px;\\n}\\nsvg.escher-svg .midmarker-circle, svg.escher-svg .multimarker-circle {\\n  fill: white;\\n  fill-opacity: 0.2;\\n  stroke: rgb(50, 50, 50);\\n}\\nsvg.escher-svg g.selected .node-circle{\\n  stroke-width: 6px;\\n  stroke: rgb(20, 113, 199);\\n}\\nsvg.escher-svg g.selected .label {\\n  fill: rgb(20, 113, 199);\\n}\\nsvg.escher-svg .metabolite-circle {\\n  stroke: rgb(162, 69, 16);\\n  fill: rgb(224, 134, 91);\\n}\\nsvg.escher-svg g.selected .metabolite-circle {\\n  stroke: rgb(5, 2, 0);\\n}\\nsvg.escher-svg .segment {\\n  stroke: #334E75;\\n  stroke-width: 10px;\\n  fill: none;\\n}\\nsvg.escher-svg .arrowhead {\\n  fill: #334E75;\\n}\\nsvg.escher-svg .stoichiometry-label-rect {\\n  fill: white;\\n  opacity: 0.5;\\n}\\nsvg.escher-svg .stoichiometry-label {\\n  fill: #334E75;\\n  font-size: 17px;\\n}\\nsvg.escher-svg .membrane {\\n  fill: none;\\n  stroke: rgb(255, 187, 0);\\n}\\nsvg.escher-svg .brush .extent {\\n  fill-opacity: 0.1;\\n  fill: black;\\n  stroke: #fff;\\n  shape-rendering: crispEdges;\\n}\\nsvg.escher-svg #brush-container .background {\\n  fill: none;\\n}\\nsvg.escher-svg .bezier-circle {\\n  fill: rgb(255,255,255);\\n}\\nsvg.escher-svg .bezier-circle.b1 {\\n  stroke: red;\\n}\\nsvg.escher-svg .bezier-circle.b2 {\\n  stroke: blue;\\n}\\nsvg.escher-svg .connect-line{\\n  stroke: rgb(200,200,200);\\n}\\nsvg.escher-svg .direction-arrow {\\n  cursor: default;\\n  stroke: black;\\n  stroke-width: 1px;\\n  fill: white;\\n  opacity: 0.3;\\n}\\nsvg.escher-svg .start-reaction-target {\\n  stroke: rgb(100,100,100);\\n  fill: none;\\n  opacity: 0.5;\\n}\\nsvg.escher-svg .rotation-center-line {\\n  stroke: red;\\n  stroke-width: 5px;\\n}\\nsvg.escher-svg .highlight {\\n  fill: #D97000;\\n  text-decoration: underline;\\n}\\nsvg.escher-svg .node-to-combine {\\n  stroke-width: 12px !important;\\n}\\n\";","/* global ESCHER_VERSION */\n\nimport { default as Builder } from './Builder'\nimport { select as d3Select } from 'd3-selection'\nimport _ from 'underscore'\n\n// These will be conditionally defined below\nexport let EscherMapView = null\nexport let EscherMapModel = null\n\n// @jupyter-widgets/base is optional, so only initialize if it's called\nlet base\ntry {\n  base = require('@jupyter-widgets/base')\n} catch (e) {\n}\nif (base) {\n  const version = ESCHER_VERSION\n\n  // These options can be set without explicitly redrawing the map. List is\n  // probably not complete.\n  const NO_DRAW_OPTIONS = [\n    'menu',\n    'scroll_behavior',\n    'use_3d_transform',\n    'enable_editing',\n    'enable_keys',\n    'full_screen_button',\n    // these already redraw\n    'reaction_data',\n    'metabolite_data',\n    'gene_data'\n  ]\n\n  const WITH_API_FUNCTIONS = {\n    reaction_data: 'set_reaction_data',\n    metabolite_data: 'set_metabolite_data',\n    gene_data: 'set_gene_data'\n  }\n\n  /**\n   * Jupyter widget implementation for the Escher Builder.\n   */\n  // eslint-disable-next-line no-unused-vars\n  class EscherMapViewRef extends base.DOMWidgetView {\n    render () {\n      if (!base) {\n        throw Error('@jupyter-widgets/base not installed. You must install it to ' +\n                    'use the jupyter widget')\n      }\n\n      const sel = d3Select(this.el).append('div')\n\n      // set height before loading map\n      this.setHeight(sel)\n\n      _.defer(() => {\n        this.builder = new Builder(\n          this.getMapData(),\n          this.getModelData(),\n          this.model.get('embedded_css'),\n          sel,\n          {\n            first_load_callback: builder => {\n              // reset map json in widget\n              builder.callback_manager.set('clear_map', () => {\n                this.model.set('_loaded_map_json', null)\n                this.model.save_changes()\n              })\n\n              // reset model json in widget\n              builder.callback_manager.set('clear_model', () => {\n                this.model.set('_loaded_model_json', null)\n                this.model.save_changes()\n              })\n\n              // update functions\n              this.model.on('change:height', () => {\n                this.setHeight(sel)\n              })\n              this.model.on('change:_loaded_map_json', () => {\n                builder.load_map(this.getMapData())\n              })\n              this.model.on('change:_loaded_model_json', () => {\n                builder.load_model(this.getModelData())\n              })\n\n              // sync changes from options (only after they have been accepted)\n              _.mapObject(builder.settings.acceptedStreams, (stream, key) => {\n                if (this.model.keys().includes(key)) {\n                  const val = this.model.get(key)\n                  if (val !== null) {\n                    // if set, use the value from Python\n                    if (key in WITH_API_FUNCTIONS) {\n                      builder[WITH_API_FUNCTIONS[key]](val)\n                    } else {\n                      builder.settings.set(key, val)\n                    }\n                  } else {\n                    // otherwise use the default from JavaScript\n                    this.model.set(key, builder.settings.get(key))\n                    this.model.save_changes()\n                  }\n\n                  // reactive updates\n                  this.model.on(`change:${key}`, () => {\n                    const val = this.model.get(key)\n                    // stop if hasn't changed\n                    if (!_.isEqual(val, builder.settings.get(key))) {\n                      if (key in WITH_API_FUNCTIONS) {\n                        builder[WITH_API_FUNCTIONS[key]](val)\n                      } else {\n                        builder.settings.set(key, val)\n                      }\n\n                      // default to drawing everything, unless it's a common\n                      // option where that's not necessary\n                      if (!NO_DRAW_OPTIONS.includes(key)) {\n                        builder.map.draw_everything()\n                      }\n                    }\n                  })\n                }\n\n                stream.onValue(val => {\n                  // avoid a loop with a deep comparison\n                  if (!_.isEqual(val, this.model.get(key))) {\n                    this.model.set(key, val)\n                    this.model.save_changes()\n                  }\n                })\n              })\n\n              // draw again to get settings visualized\n              builder.map.draw_everything()\n            }\n          }\n        )\n      })\n    }\n\n    setHeight (sel) {\n      sel.style('height', `${this.model.get('height')}px`)\n    }\n\n    getMapData () {\n      const json = this.model.get('_loaded_map_json')\n      return json ? JSON.parse(json) : null\n    }\n\n    getModelData () {\n      const json = this.model.get('_loaded_model_json')\n      return json ? JSON.parse(json) : null\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  class EscherMapModelRef extends base.DOMWidgetModel {\n    defaults () {\n      return _.extend(super.defaults(), {\n        _model_name: 'EscherMapModel',\n        _view_name: 'EscherMapView',\n        _model_module: 'escher',\n        _view_module: 'escher',\n        _model_module_version: version,\n        _view_module_version: version\n      })\n    }\n  }\n\n  // Trick for conditional exports\n  EscherMapView = EscherMapViewRef\n  EscherMapModel = EscherMapModelRef\n}\n","/**\n* @license\n*\n* Escher\n* Author: Zachary King\n*\n* The MIT License (MIT)\n*\n* This software is Copyright © 2015 The Regents of the University of\n* California. All Rights Reserved.\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in\n* all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n* THE SOFTWARE.\n*/\n\n// ESCHER_VERSION provided by webpack plugin or main-node\n/* global ESCHER_VERSION */\n\nimport underscore from 'underscore'\nimport * as preact from 'preact'\nimport * as baconjs from 'baconjs'\nimport mousetrap from 'mousetrap'\nimport vkbeautify from 'vkbeautify'\nimport { select as d3_select, selection as d3_selection } from 'd3-selection'\nimport { json as d3_json } from 'd3-request'\n\nexport const version = ESCHER_VERSION\n\nexport { default as Builder, default } from './Builder'\nexport { default as Map } from './Map'\nexport { default as Behavior } from './Behavior'\nexport { default as KeyManager } from './KeyManager'\nexport { default as DataMenu } from './DataMenu'\nexport { default as UndoStack } from './UndoStack'\nexport { default as CobraModel } from './CobraModel'\nexport { default as utils } from './utils'\nexport { default as SearchIndex } from './SearchIndex'\nexport { default as Settings } from './Settings'\nexport * as dataStyles from './dataStyles'\nexport { default as ZoomContainer } from './ZoomContainer'\n\n// Jupyter extension\nexport { EscherMapView, EscherMapModel } from './widget'\n\nexport const libs = {\n  _: underscore,\n  underscore,\n  preact,\n  baconjs,\n  mousetrap,\n  vkbeautify,\n  d3_selection,\n  d3_select,\n  d3_json\n}\n"],"sourceRoot":""}